<idea-plugin>
    <id>com.claudecodeplus</id>
    <name>Claude Code Plus</name>
    <vendor email="liuxiongfenglove@gmail.com" url="https://github.com/touwaeriol/claude-code-plus">Claude Code Plus Team</vendor>
    
    <version>1.0.4</version>
    
    <description><![CDATA[
    <h2>Claude Code Plus - Advanced AI Programming Assistant</h2>
    
    <p>Claude Code Plus is an enhanced IntelliJ IDEA plugin that integrates Claude AI directly into your development environment, providing intelligent code assistance and natural language interaction.</p>
    
    <h3>Key Features:</h3>
    <ul>
        <li><b>AI-Powered Conversations:</b> Chat with Claude AI directly in your IDE</li>
        <li><b>Smart Context Management:</b> Reference files and code snippets with @ mentions</li>
        <li><b>MCP Protocol Support:</b> Configure and use Model Context Protocol services</li>
        <li><b>Multi-Session Support:</b> Manage multiple chat sessions simultaneously</li>
        <li><b>Export Capabilities:</b> Save conversation history in multiple formats</li>
        <li><b>Rich Markdown Display:</b> Beautiful rendering of code and formatted text</li>
        <li><b>Tool Integration:</b> View and interact with Claude's tool usage</li>
        <li><b>Dark Theme Support:</b> Fully compatible with IntelliJ's dark themes</li>
    </ul>
    
    <h3>Requirements:</h3>
    <ul>
        <li>IntelliJ IDEA 2024.3 - 2025.2.x (Build 243-252)</li>
        <li>Claude CLI installed and configured</li>
    </ul>
    
    <h3>Support & Feedback:</h3>
    <ul>
        <li><b>Report Issues:</b> <a href="https://github.com/touwaeriol/claude-code-plus/issues">GitHub Issues</a></li>
        <li><b>Documentation:</b> <a href="https://github.com/touwaeriol/claude-code-plus">GitHub Repository</a></li>
        <li><b>Feature Requests:</b> <a href="https://github.com/touwaeriol/claude-code-plus/issues/new">Submit a request</a></li>
    </ul>
    
    <p>We welcome your feedback and contributions! Please report any bugs or suggestions on our GitHub Issues page.</p>
    ]]></description>
    
    <change-notes><![CDATA[
    <h3>Version 1.0.4 - IntelliJ 2025.2.3 Support</h3>
    <ul>
        <li><strong>Platform Update:</strong> Updated to IntelliJ IDEA 2025.2.3 (Build 252.26830.84)</li>
        <li><strong>ViewModel Architecture:</strong> Migrated to ViewModel-based architecture for tool display components</li>
        <li><strong>Source Code Sync:</strong> Synchronized with IntelliJ Community Edition 252.26830 branch</li>
        <li><strong>Enhanced Tool Mapping:</strong> Added ToolCallMapper for better type conversion</li>
        <li><strong>Service Reorganization:</strong> Moved platform services to jetbrains-plugin module</li>
        <li><strong>Code Cleanup:</strong> Removed deprecated test files and documentation</li>
    </ul>

    <h3>Version 1.0.3 - Architecture Modernization and Code Cleanup</h3>
    <ul>
        <li><strong>Architecture Refactoring:</strong> Completely removed cli-wrapper module and simplified project structure</li>
        <li><strong>SDK Migration:</strong> Migrated essential services to claude-code-sdk module for better organization</li>
        <li><strong>Performance Improvements:</strong> Eliminated 19,000+ lines of legacy code, reducing plugin size by ~88%</li>
        <li><strong>Enhanced Token Statistics:</strong> Improved context usage indicators with visual progress rings</li>
        <li><strong>Code Quality:</strong> Removed deprecated components and consolidated duplicate functionality</li>
        <li><strong>Stability:</strong> Maintained full functionality while significantly simplifying codebase</li>
    </ul>

    <h3>Version 1.0.2 - Performance and Stability Updates</h3>
    <ul>
        <li><strong>Performance Optimizations:</strong> Improved response times and reduced memory usage</li>
        <li><strong>Stability Improvements:</strong> Fixed various edge cases and improved error handling</li>
        <li><strong>UI Enhancements:</strong> Better visual feedback and smoother user experience</li>
        <li><strong>Bug Fixes:</strong> Resolved issues with session management and tool integration</li>
        <li><strong>Compatibility:</strong> Enhanced compatibility with IntelliJ IDEA 2025.x versions</li>
    </ul>
    
    <h3>Version 1.0.1 - Enhanced IDE Integration</h3>
    <ul>
        <li><strong>IDE Integration Improvements:</strong> Read tool clicks now open files directly in IntelliJ IDEA editor</li>
        <li><strong>Smart Line Navigation:</strong> Read tool with line parameters automatically jumps to specified lines and selects the content</li>
        <li><strong>Enhanced Tool Display:</strong> Improved visual feedback for tool execution with better status indicators</li>
        <li><strong>Bug Fixes:</strong> Fixed integration chain between UI components and IDE services</li>
        <li><strong>Code Review Support:</strong> Selected text ranges help developers review AI-analyzed code sections</li>
    </ul>
    
    <h3>Version 1.0.0 - Initial Release</h3>
    <ul>
        <li>Initial public release</li>
        <li>Full Claude AI integration</li>
        <li>Context management with @ mentions</li>
        <li>MCP service configuration</li>
        <li>Multi-tab session support</li>
        <li>Dark theme compatibility</li>
        <li>Performance optimizations for instant response</li>
        <li>Session state persistence across tool window switches</li>
    </ul>
    ]]></change-notes>
    
    <depends>com.intellij.modules.platform</depends>
    <depends>org.intellij.plugins.markdown</depends>
    
    <idea-version since-build="243.0" until-build="252.*"/>
    
    
    
    <extensions defaultExtensionNs="com.intellij">
        <!-- Tool Window -->
        <toolWindow id="Claude Code Plus"
                    anchor="right"
                    icon="/icons/claude-code-simple.svg"
                    factoryClass="com.claudecodeplus.plugin.ClaudeCodePlusToolWindowFactory"/>

        <!-- application-level service -->
        <applicationService
            serviceImplementation="com.claudecodeplus.settings.McpSettingsService"/>

        <applicationService
            serviceImplementation="com.claudecodeplus.plugin.services.ClaudeCodePlusBackgroundService"/>

        <!-- project-level service -->
        <projectService
            serviceImplementation="com.claudecodeplus.plugin.services.ProjectSessionStateService"/>

        <!-- Tool Window Listener -->
        <toolWindow.listener
            topic="com.intellij.openapi.wm.ex.ToolWindowManagerListener"
            implementation="com.claudecodeplus.plugin.listeners.ClaudeToolWindowListener"/>
    </extensions>
</idea-plugin>
