{
  "FileIndex": {
    "type": "object",
    "description": "Search files, classes, and symbols in the IDE index by keywords. Faster than file system search, supports fuzzy matching.",
    "properties": {
      "query": {
        "type": "string",
        "description": "Search keywords"
      },
      "searchType": {
        "type": "string",
        "enum": ["All", "Classes", "Files", "Symbols", "Actions", "Text"],
        "description": "Search type",
        "default": "All"
      },
      "scope": {
        "type": "string",
        "enum": ["Project", "All", "ProductionFiles", "TestFiles", "Scratches"],
        "description": "Search scope",
        "default": "Project"
      },
      "maxResults": {
        "type": "integer",
        "description": "Max results",
        "default": 20,
        "minimum": 1
      },
      "offset": {
        "type": "integer",
        "description": "Offset",
        "default": 0,
        "minimum": 0
      }
    },
    "required": ["query"],
    "examples": [
      {"query": "UserService", "searchType": "Classes"},
      {"query": "config.json", "searchType": "Files"},
      {"query": "handleClick", "searchType": "Symbols"},
      {"query": "String", "searchType": "Classes", "scope": "All"},
      {"query": "Test", "searchType": "Files", "scope": "TestFiles"}
    ]
  },

  "DirectoryTree": {
    "type": "object",
    "description": "Get the tree structure of the project directory. Supports depth limit, file filtering, and hidden files options.",
    "properties": {
      "path": {
        "type": "string",
        "description": "Path relative to project root (e.g. \"src/main\", \"frontend/src\")",
        "default": "."
      },
      "maxDepth": {
        "type": "integer",
        "description": "Maximum recursion depth. Use -1 or 0 for unlimited depth.",
        "default": 3
      },
      "filesOnly": {
        "type": "boolean",
        "description": "Show only files, hide directory entries",
        "default": false
      },
      "includeHidden": {
        "type": "boolean",
        "description": "Include hidden files/directories (names starting with .)",
        "default": false
      },
      "pattern": {
        "type": "string",
        "description": "File name filter using glob patterns. Examples: \"*.kt\" (Kotlin files), \"*.{ts,vue}\" (TypeScript and Vue), \"Test*\" (files starting with Test)"
      },
      "maxEntries": {
        "type": "integer",
        "description": "Maximum number of entries to return (prevents overwhelming output for large directories)",
        "default": 100,
        "minimum": 1
      }
    },
    "required": [],
    "examples": [
      {"path": "src", "maxDepth": 2},
      {"path": "frontend/src/components", "pattern": "*.vue"},
      {"pattern": "*.kt", "filesOnly": true}
    ]
  },

  "CodeSearch": {
    "type": "object",
    "description": "Search code content across project files (like IDE's Find in Files). Uses IDEA's indexing for fast searches.",
    "properties": {
      "query": {
        "type": "string",
        "description": "Search text or regular expression pattern to find in file contents"
      },
      "isRegex": {
        "type": "boolean",
        "description": "Treat query as regular expression (e.g. \"log.*Error\", \"function\\s+\\w+\")",
        "default": false
      },
      "caseSensitive": {
        "type": "boolean",
        "description": "Case sensitive search",
        "default": false
      },
      "wholeWords": {
        "type": "boolean",
        "description": "Match whole words only (not substrings)",
        "default": false
      },
      "fileMask": {
        "type": "string",
        "description": "File name filter using glob patterns. Examples: \"*.vue\" (Vue files), \"*.kt,*.java\" (multiple types), \"*.{ts,tsx}\" (TypeScript files), \"Test*.kt\" (files starting with Test)"
      },
      "scope": {
        "type": "string",
        "enum": ["Project", "Module", "Directory", "Scope"],
        "description": "Search scope: Project (entire project), Module (specific module), Directory (specific folder), Scope (custom IDE scope)",
        "default": "Project"
      },
      "scopeArg": {
        "type": "string",
        "description": "Required when scope is not Project. For Module: module name (e.g. \"frontend\"). For Directory: relative path from project root (e.g. \"src/main/kotlin\"). For Scope: IDE scope name."
      },
      "maxResults": {
        "type": "integer",
        "description": "Maximum number of matches to return",
        "default": 10,
        "minimum": 1
      },
      "offset": {
        "type": "integer",
        "description": "Skip first N results (for pagination)",
        "default": 0,
        "minimum": 0
      },
      "includeContext": {
        "type": "boolean",
        "description": "Include one line before and after each match for context",
        "default": false
      },
      "maxLineLength": {
        "type": "integer",
        "description": "Maximum length of line content in results (longer lines are truncated). Set to a very large value to get full content.",
        "default": 200,
        "minimum": 1
      }
    },
    "required": ["query"],
    "examples": [
      {"query": "TODO", "fileMask": "*.kt"},
      {"query": "import.*vue", "isRegex": true, "fileMask": "*.ts,*.vue"},
      {"query": "class", "scope": "Directory", "scopeArg": "src/main"}
    ]
  },

  "FileProblems": {
    "type": "object",
    "description": "Get static analysis results for a file, including compilation errors, warnings and code inspection issues. Uses IDE's real-time analysis capability.",
    "properties": {
      "filePath": {
        "type": "string",
        "description": "File path relative to project root (e.g. \"src/main/kotlin/MyClass.kt\", \"frontend/src/App.vue\")"
      },
      "includeWarnings": {
        "type": "boolean",
        "description": "Include warnings (yellow highlights in IDE)",
        "default": true
      },
      "includeSuggestions": {
        "type": "boolean",
        "description": "Include suggestions/weak warnings (gray highlights in IDE, code style issues, unused symbols)",
        "default": false
      },
      "includeWeakWarnings": {
        "type": "boolean",
        "description": "Deprecated: use includeSuggestions instead. Include weak warnings/suggestions (gray highlights in IDE)",
        "default": false
      },
      "maxProblems": {
        "type": "integer",
        "description": "Maximum number of problems to return",
        "default": 50,
        "minimum": 1
      }
    },
    "required": ["filePath"],
    "examples": [
      {"filePath": "src/main/kotlin/Service.kt"},
      {"filePath": "frontend/src/App.vue", "includeSuggestions": true}
    ]
  },

  "FindUsages": {
    "type": "object",
    "description": "Find all usages/references of a symbol (class, method, field, variable, etc.) in the project. Similar to IDE's Find Usages (Alt+F7) feature. Supports fine-grained usage type filtering.",
    "properties": {
      "filePath": {
        "type": "string",
        "description": "File path where the symbol is defined (relative to project root or absolute path)"
      },
      "symbolName": {
        "type": "string",
        "description": "Name of the symbol to find usages for. Optional if line/column are provided."
      },
      "line": {
        "type": "integer",
        "description": "Line number where the symbol is located (1-based). Use this with column for precise positioning.",
        "minimum": 1
      },
      "column": {
        "type": "integer",
        "description": "Column number where the symbol is located (1-based). Used with line for precise positioning.",
        "minimum": 1
      },
      "symbolType": {
        "type": "string",
        "enum": ["Auto", "Class", "Method", "Field", "Variable", "Parameter", "File"],
        "description": "Type of symbol to search for. Auto (default) detects automatically.",
        "default": "Auto"
      },
      "usageTypes": {
        "type": "array",
        "items": {
          "type": "string",
          "enum": ["All", "Inheritance", "Instantiation", "TypeReference", "Import", "Override", "Call", "MethodReference", "Read", "Write"]
        },
        "description": "Filter by usage types. For classes: Inheritance (extends/implements), Instantiation (new), TypeReference, Import. For methods: Override (Override), Call (Call), MethodReference (::method). For fields/variables: Read, Write. Default: [\"All\"]",
        "default": ["All"]
      },
      "searchScope": {
        "type": "string",
        "enum": ["Project", "Module", "Directory"],
        "description": "Search scope. Project (default): entire project. Module: specific module (requires scopeArg). Directory: specific folder (requires scopeArg).",
        "default": "Project"
      },
      "scopeArg": {
        "type": "string",
        "description": "Required when searchScope is Module or Directory. For Module: module name. For Directory: relative path from project root."
      },
      "maxResults": {
        "type": "integer",
        "description": "Maximum number of usages to return",
        "default": 20,
        "minimum": 1
      },
      "offset": {
        "type": "integer",
        "description": "Skip first N results (for pagination)",
        "default": 0,
        "minimum": 0
      }
    },
    "required": ["filePath"],
    "examples": [
      {"filePath": "src/main/kotlin/UserService.kt", "symbolName": "getUserById"},
      {"filePath": "src/main/kotlin/UserService.kt", "line": 25, "column": 10},
      {"filePath": "src/models/User.kt", "symbolName": "User", "symbolType": "Class", "usageTypes": ["Inheritance"]},
      {"filePath": "src/models/User.kt", "symbolName": "User", "usageTypes": ["Instantiation", "TypeReference"]},
      {"filePath": "src/service/Api.kt", "symbolName": "fetch", "symbolType": "Method", "usageTypes": ["Override"]},
      {"filePath": "src/config.kt", "symbolName": "apiKey", "usageTypes": ["Write"]},
      {"filePath": "src/utils/helper.ts", "symbolName": "formatDate", "searchScope": "Module", "scopeArg": "frontend"}
    ]
  },

  "Rename": {
    "type": "object",
    "description": "Safely rename a symbol (class, method, field, variable, etc.) and automatically update all references. Similar to IDE's Refactor > Rename (Shift+F6) feature. This ensures refactoring safety across the entire project.",
    "properties": {
      "filePath": {
        "type": "string",
        "description": "File path where the symbol is defined (relative to project root or absolute path)"
      },
      "newName": {
        "type": "string",
        "description": "New name for the symbol"
      },
      "line": {
        "type": "integer",
        "description": "Line number where the symbol is located (1-based)",
        "minimum": 1
      },
      "column": {
        "type": "integer",
        "description": "Column number where the symbol is located (1-based, optional). If not provided, searches from the beginning of the line.",
        "minimum": 1
      },
      "symbolType": {
        "type": "string",
        "enum": ["Auto", "Class", "Method", "Field", "Variable", "Parameter", "File"],
        "description": "Type of symbol to rename. Auto (default) detects automatically.",
        "default": "Auto"
      },
      "searchInComments": {
        "type": "boolean",
        "description": "Also rename occurrences in comments",
        "default": true
      },
      "searchInStrings": {
        "type": "boolean",
        "description": "Also rename occurrences in string literals",
        "default": false
      }
    },
    "required": ["filePath", "newName", "line"],
    "examples": [
      {"filePath": "src/main/kotlin/UserService.kt", "line": 25, "column": 10, "newName": "fetchUserById"},
      {"filePath": "src/main/kotlin/UserService.kt", "line": 10, "newName": "findUser"},
      {"filePath": "src/models/User.kt", "line": 5, "newName": "UserModel", "symbolType": "Class"},
      {"filePath": "src/config.kt", "line": 12, "newName": "API_KEY", "searchInComments": true, "searchInStrings": true}
    ]
  }
}
