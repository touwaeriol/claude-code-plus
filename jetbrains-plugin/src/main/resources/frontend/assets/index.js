var va=Object.defineProperty;var ma=(e,t,n)=>t in e?va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ze=(e,t,n)=>ma(e,typeof t!="symbol"?t+"":t,n);import{k as Tn,ax as Go,r as G,c as k,w as et,y as pe,a2 as ba,Y as ya,m as ln,U as hu,R as Pe,Z as xa,z as S,L as M,A as x,W as Ct,B as f,Q as $e,a5 as Re,P as T,E as le,C as Ea,I as Be,J as Nt,K as vn,ai as $o,D as Yu,M as Js,n as un,ay as Sa,u as Oe,T as Ys,a1 as Xs,O as _t,ad as is,az as Ca,X as Zs,S as Qs,au as qs,aA as er}from"./vue-vendor.js";import{E as ka,a as wa,g as tr,c as Da,b as Ta,i as nr,d as ur}from"./element-plus.js";import{_ as or}from"./shiki.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var Ia={name:"zh-cn",el:{breadcrumb:{label:"é¢åŒ…å±‘"},colorpicker:{confirm:"ç¡®å®š",clear:"æ¸…ç©º",defaultLabel:"é¢œè‰²é€‰æ‹©å™¨",description:"å½“å‰é¢œè‰² {color}ï¼ŒæŒ‰ Enter é”®é€‰æ‹©æ–°é¢œè‰²",alphaLabel:"é€‰æ‹©é€æ˜åº¦çš„å€¼",alphaDescription:"é€æ˜åº¦ {alpha}, å½“å‰é¢œè‰² {color}",hueLabel:"é€‰æ‹©è‰²ç›¸å€¼",hueDescription:"è‰²ç›¸ {hue}, å½“å‰é¢œè‰² {color}",svLabel:"é€‰æ‹©é¥±å’Œåº¦ä¸æ˜åº¦çš„å€¼",svDescription:"é¥±å’Œåº¦ {saturation}, æ˜åº¦ {brightness}, å½“å‰é¢œè‰² {color}",predefineDescription:"é€‰æ‹© {value} ä½œä¸ºé¢œè‰²"},datepicker:{now:"æ­¤åˆ»",today:"ä»Šå¤©",cancel:"å–æ¶ˆ",clear:"æ¸…ç©º",confirm:"ç¡®å®š",dateTablePrompt:"ä½¿ç”¨æ–¹å‘é”®ä¸ Enter é”®å¯é€‰æ‹©æ—¥æœŸ",monthTablePrompt:"ä½¿ç”¨æ–¹å‘é”®ä¸ Enter é”®å¯é€‰æ‹©æœˆä»½",yearTablePrompt:"ä½¿ç”¨æ–¹å‘é”®ä¸ Enter é”®å¯é€‰æ‹©å¹´ä»½",selectedDate:"å·²é€‰æ—¥æœŸ",selectDate:"é€‰æ‹©æ—¥æœŸ",selectTime:"é€‰æ‹©æ—¶é—´",startDate:"å¼€å§‹æ—¥æœŸ",startTime:"å¼€å§‹æ—¶é—´",endDate:"ç»“æŸæ—¥æœŸ",endTime:"ç»“æŸæ—¶é—´",prevYear:"å‰ä¸€å¹´",nextYear:"åä¸€å¹´",prevMonth:"ä¸Šä¸ªæœˆ",nextMonth:"ä¸‹ä¸ªæœˆ",year:"å¹´",month1:"1 æœˆ",month2:"2 æœˆ",month3:"3 æœˆ",month4:"4 æœˆ",month5:"5 æœˆ",month6:"6 æœˆ",month7:"7 æœˆ",month8:"8 æœˆ",month9:"9 æœˆ",month10:"10 æœˆ",month11:"11 æœˆ",month12:"12 æœˆ",weeks:{sun:"æ—¥",mon:"ä¸€",tue:"äºŒ",wed:"ä¸‰",thu:"å››",fri:"äº”",sat:"å…­"},weeksFull:{sun:"æ˜ŸæœŸæ—¥",mon:"æ˜ŸæœŸä¸€",tue:"æ˜ŸæœŸäºŒ",wed:"æ˜ŸæœŸä¸‰",thu:"æ˜ŸæœŸå››",fri:"æ˜ŸæœŸäº”",sat:"æ˜ŸæœŸå…­"},months:{jan:"ä¸€æœˆ",feb:"äºŒæœˆ",mar:"ä¸‰æœˆ",apr:"å››æœˆ",may:"äº”æœˆ",jun:"å…­æœˆ",jul:"ä¸ƒæœˆ",aug:"å…«æœˆ",sep:"ä¹æœˆ",oct:"åæœˆ",nov:"åä¸€æœˆ",dec:"åäºŒæœˆ"}},inputNumber:{decrease:"å‡å°‘æ•°å€¼",increase:"å¢åŠ æ•°å€¼"},select:{loading:"åŠ è½½ä¸­",noMatch:"æ— åŒ¹é…æ•°æ®",noData:"æ— æ•°æ®",placeholder:"è¯·é€‰æ‹©"},mention:{loading:"åŠ è½½ä¸­"},dropdown:{toggleDropdown:"åˆ‡æ¢ä¸‹æ‹‰é€‰é¡¹"},cascader:{noMatch:"æ— åŒ¹é…æ•°æ®",loading:"åŠ è½½ä¸­",placeholder:"è¯·é€‰æ‹©",noData:"æš‚æ— æ•°æ®"},pagination:{goto:"å‰å¾€",pagesize:"æ¡/é¡µ",total:"å…± {total} æ¡",pageClassifier:"é¡µ",page:"é¡µ",prev:"ä¸Šä¸€é¡µ",next:"ä¸‹ä¸€é¡µ",currentPage:"ç¬¬ {pager} é¡µ",prevPages:"å‘å‰ {pager} é¡µ",nextPages:"å‘å {pager} é¡µ",deprecationWarning:"ä½ ä½¿ç”¨äº†ä¸€äº›å·²è¢«åºŸå¼ƒçš„ç”¨æ³•ï¼Œè¯·å‚è€ƒ el-pagination çš„å®˜æ–¹æ–‡æ¡£"},dialog:{close:"å…³é—­æ­¤å¯¹è¯æ¡†"},drawer:{close:"å…³é—­æ­¤å¯¹è¯æ¡†"},messagebox:{title:"æç¤º",confirm:"ç¡®å®š",cancel:"å–æ¶ˆ",error:"è¾“å…¥çš„æ•°æ®ä¸åˆæ³•!",close:"å…³é—­æ­¤å¯¹è¯æ¡†"},upload:{deleteTip:"æŒ‰ Delete é”®å¯åˆ é™¤",delete:"åˆ é™¤",preview:"æŸ¥çœ‹å›¾ç‰‡",continue:"ç»§ç»­ä¸Šä¼ "},slider:{defaultLabel:"æ»‘å—ä»‹äº {min} è‡³ {max}",defaultRangeStartLabel:"é€‰æ‹©èµ·å§‹å€¼",defaultRangeEndLabel:"é€‰æ‹©ç»“æŸå€¼"},table:{emptyText:"æš‚æ— æ•°æ®",confirmFilter:"ç­›é€‰",resetFilter:"é‡ç½®",clearFilter:"å…¨éƒ¨",sumText:"åˆè®¡"},tour:{next:"ä¸‹ä¸€æ­¥",previous:"ä¸Šä¸€æ­¥",finish:"ç»“æŸå¯¼è§ˆ",close:"å…³é—­æ­¤å¯¹è¯æ¡†"},tree:{emptyText:"æš‚æ— æ•°æ®"},transfer:{noMatch:"æ— åŒ¹é…æ•°æ®",noData:"æ— æ•°æ®",titles:["åˆ—è¡¨ 1","åˆ—è¡¨ 2"],filterPlaceholder:"è¯·è¾“å…¥æœç´¢å†…å®¹",noCheckedFormat:"å…± {total} é¡¹",hasCheckedFormat:"å·²é€‰ {checked}/{total} é¡¹"},image:{error:"åŠ è½½å¤±è´¥"},pageHeader:{title:"è¿”å›"},popconfirm:{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ"},carousel:{leftArrow:"ä¸Šä¸€å¼ å¹»ç¯ç‰‡",rightArrow:"ä¸‹ä¸€å¼ å¹»ç¯ç‰‡",indicator:"å¹»ç¯ç‰‡åˆ‡æ¢è‡³ç´¢å¼• {index}"}}};const _a="ws://localhost:8765/ws";function Aa(){return""}function $a(){if(typeof window>"u")return _a;const{protocol:e,host:t}=window.location;return`${e==="https:"?"wss:":"ws:"}//${t}/ws`}const Fa={level:2};function Su(e,t){return!(e<Fa.level)}function Cu(e,t){const n=[];return e&&n.push(`[${e}]`),n.push(t),n.join(" ")}function so(e){return{debug(t,...n){Su(0)&&console.debug(Cu(e,t),...n)},info(t,...n){Su(1)&&console.info(Cu(e,t),...n)},warn(t,...n){Su(2)&&console.warn(Cu(e,t),...n)},error(t,...n){Su(3)&&console.error(Cu(e,t),...n)}}}const Wo={session:so("SessionStore"),stream:so("StreamEvent"),agent:so("AiAgentService")},Oa=["message_start","text_delta","thinking_delta","tool_start","tool_progress","tool_complete","message_complete","error","assistant"];function Ko(e){return typeof e=="object"&&e!==null&&"type"in e}function Pa(e){return typeof e=="string"&&Oa.includes(e)}function Fo(e){return Ko(e)?Pa(e.type):!1}function Vo(e){if(!Ko(e))return!1;const t=e;return t.type==="stream"&&"id"in t&&"data"in t&&Fo(t.data)}function sr(e){if(typeof e!="object"||e===null)return!1;const t=e;return"id"in t&&"result"in t&&t.error===null}function rr(e){if(typeof e!="object"||e===null)return!1;const t=e;return"id"in t&&t.result===null&&"error"in t&&t.error!==null}function ar(e){if(!Ko(e))return!1;const t=e;return t.type==="complete"&&"id"in t}function Ma(e){return e===null||typeof e!="object"?null:Vo(e)||ar(e)||sr(e)||rr(e)?e:null}function Ra(e){return Vo(e)?e.data:null}const ot=Wo.agent;class ls{constructor(t){ze(this,"ws",null);ze(this,"_isConnected",!1);ze(this,"sessionId",null);ze(this,"messageHandlers",new Set);ze(this,"errorHandlers",new Set);ze(this,"pendingRequests",new Map);ze(this,"requestIdCounter",0);ze(this,"wsUrl");t?this.wsUrl=t:this.wsUrl=$a(),ot.debug(`WebSocket URL: ${this.wsUrl}`)}get isConnected(){return this._isConnected}get currentSessionId(){return this.sessionId}async connect(t){return ot.debug("connect: å¼€å§‹è¿æ¥",t?.model?`model=${t.model}`:""),new Promise((n,u)=>{this.ws=new WebSocket(this.wsUrl),this.ws.onopen=async()=>{ot.debug("WebSocket è¿æ¥å·²å»ºç«‹");try{const s=await this.sendRequest("connect",t);if(this.sessionId=s.sessionId,this._isConnected=!0,ot.info(`ä¼šè¯å·²è¿æ¥: ${this.sessionId}`),!this.sessionId){const r=new Error("è¿æ¥æˆåŠŸä½†æœªè¿”å› sessionId");this.handleError(r),u(r);return}n(this.sessionId)}catch(s){this.handleError(s),u(s)}},this.ws.onmessage=s=>{this.handleMessage(s.data)},this.ws.onerror=s=>{ot.error("WebSocket é”™è¯¯:",s);const r=new Error("WebSocket connection failed");this.handleError(r),u(r)},this.ws.onclose=()=>{ot.debug("WebSocket è¿æ¥å·²å…³é—­"),this._isConnected=!1,this.sessionId=null}})}async sendMessage(t){if(!this._isConnected)throw new Error("Session not connected");await this.sendRequest("query",{message:t})}async sendMessageWithContent(t){if(!this._isConnected)throw new Error("Session not connected");await this.sendRequest("queryWithContent",{content:t})}async interrupt(){if(!this._isConnected)throw new Error("Session not connected");await this.sendRequest("interrupt")}async disconnect(){this._isConnected&&(await this.sendRequest("disconnect"),this.ws?.close(),this._isConnected=!1,this.sessionId=null)}async setModel(t){await this.sendRequest("setModel",t)}async getHistory(){return(await this.sendRequest("getHistory")).messages||[]}onMessage(t){return this.messageHandlers.add(t),()=>this.messageHandlers.delete(t)}onError(t){return this.errorHandlers.add(t),()=>this.errorHandlers.delete(t)}sendRequest(t,n){return new Promise((u,s)=>{const r=`req-${++this.requestIdCounter}`,o={id:r,method:t,params:n};if(ot.debug(`sendRequest: method=${t}, id=${r}`),this.pendingRequests.set(r,{resolve:u,reject:s}),!this.ws){const a=new Error("WebSocket æœªåˆå§‹åŒ–");s(a);return}this.ws.send(JSON.stringify(o))})}handleMessage(t){try{const n=JSON.parse(t),u=Ma(n);if(!u){ot.warn("âš ï¸ [AiAgentSession] æ— æ³•è§£ææ¶ˆæ¯:",t.substring(0,200)),ot.warn("âš ï¸ [AiAgentSession] åŸå§‹æ•°æ®:",t);return}const s="type"in u?u.type:"result"in u?"result":"error";if(ot.info("ğŸ“¨ [AiAgentSession] æ”¶åˆ°æ¶ˆæ¯:",{type:s,id:u.id,hasHandlers:this.messageHandlers.size>0}),Vo(u)){const r=Ra(u);r?(ot.info("ğŸ“¤ [AiAgentSession] è½¬å‘æµå¼äº‹ä»¶:",{id:u.id,eventType:r.type,handlerCount:this.messageHandlers.size}),this.messageHandlers.forEach(o=>{try{o(r)}catch(a){ot.error("âŒ [AiAgentSession] æ¶ˆæ¯å¤„ç†å™¨æ‰§è¡Œå¤±è´¥:",a,r)}})):ot.warn("âš ï¸ [AiAgentSession] æ— æ³•æå–æµå¼äº‹ä»¶:",u);return}if(ar(u)){ot.info(`âœ… [AiAgentSession] æµå®Œæˆ, id=${u.id}`);const r=this.pendingRequests.get(u.id);r?(this.pendingRequests.delete(u.id),r.resolve({status:"complete"})):ot.warn(`âš ï¸ [AiAgentSession] æµå®Œæˆä½†æ‰¾ä¸åˆ°å¯¹åº”çš„è¯·æ±‚: id=${u.id}`);return}if(sr(u)){const r=this.pendingRequests.get(u.id);r&&(this.pendingRequests.delete(u.id),r.resolve(u.result));return}if(rr(u)){const r=this.pendingRequests.get(u.id);if(r){this.pendingRequests.delete(u.id);const o=new Error(u.error.message);this.handleError(o),r.reject(o)}return}ot.warn("âš ï¸ [AiAgentSession] æœªå¤„ç†çš„æ¶ˆæ¯ç±»å‹:",u)}catch(n){ot.error("âŒ [AiAgentSession] å¤„ç†æ¶ˆæ¯å¤±è´¥:",n,t),this.handleError(n)}}handleError(t){this.errorHandlers.forEach(n=>{try{n(t)}catch(u){ot.error("é”™è¯¯å¤„ç†å™¨æ‰§è¡Œå¤±è´¥:",u)}})}}var zt=(e=>(e.RUNNING="RUNNING",e.SUCCESS="SUCCESS",e.FAILED="FAILED",e))(zt||{}),Qt=(e=>(e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.ERROR="ERROR",e))(Qt||{});const he={READ:"Read",WRITE:"Write",EDIT:"Edit",MULTI_EDIT:"MultiEdit",TODO_WRITE:"TodoWrite",BASH:"Bash",GREP:"Grep",GLOB:"Glob",WEB_SEARCH:"WebSearch",WEB_FETCH:"WebFetch",GENERIC:"Generic"};function Pn(e){if(!e||typeof e!="object")return!1;const t=e.type;return t==="tool_use"||typeof t=="string"&&t.endsWith("_tool_use")}function Uu(e){return e?.type==="text"}function ir(e){const t=[],n=e.text?.trim();return n&&t.push({type:"text",text:n}),t}async function La(e){const t=await Na(e);return{type:"image",source:{type:"base64",media_type:e.type||"image/png",data:t}}}function Na(e){return new Promise((t,n)=>{const u=new FileReader;u.onload=()=>{const s=u.result;if(typeof s=="string"){const r=s.indexOf(",");t(r>=0?s.slice(r+1):s)}else n(new Error("Unsupported FileReader result"))},u.onerror=()=>n(u.error??new Error("Failed to read file")),u.readAsDataURL(e)})}function Xu(e=[]){return{contexts:[],contextImages:[],userContent:e}}const Ba=Object.freeze(Object.defineProperty({__proto__:null,buildUserMessageContent:ir,fileToImageBlock:La,parseUserMessage:Xu},Symbol.toStringTag,{value:"Module"})),Ua={Read:he.READ,Write:he.WRITE,Edit:he.EDIT,MultiEdit:he.MULTI_EDIT,TodoWrite:he.TODO_WRITE,Bash:he.BASH,Grep:he.GREP,Glob:he.GLOB,WebSearch:he.WEB_SEARCH,WebFetch:he.WEB_FETCH};function lr(e,t){const n=t.get(e.id);if(n)return e.input&&Object.keys(e.input).length>0&&(n.input=e.input),n;const u=Ua[e.name]||e.name,s=Date.now(),r={id:e.id,type:"toolCall",toolType:u,status:zt.RUNNING,startTime:s,timestamp:s,input:e.input};let o;switch(u){case he.READ:o={...r,toolType:he.READ};break;case he.WRITE:o={...r,toolType:he.WRITE};break;case he.EDIT:o={...r,toolType:he.EDIT};break;case he.MULTI_EDIT:o={...r,toolType:he.MULTI_EDIT};break;case he.TODO_WRITE:o={...r,toolType:he.TODO_WRITE};break;case he.BASH:o={...r,toolType:he.BASH};break;case he.GREP:o={...r,toolType:he.GREP};break;case he.GLOB:o={...r,toolType:he.GLOB};break;case he.WEB_SEARCH:o={...r,toolType:he.WEB_SEARCH};break;case he.WEB_FETCH:o={...r,toolType:he.WEB_FETCH};break;default:o={...r,toolType:u}}const a=Tn(o);return t.set(e.id,a),a}function cr(e,t){e.status=t.is_error?zt.FAILED:zt.SUCCESS,e.endTime=Date.now();const n=t.is_error?{type:"error",error:typeof t.content=="string"?t.content:JSON.stringify(t.content)}:{type:"success",output:typeof t.content=="string"?t.content:JSON.stringify(t.content)};e.result=n}function ro(e,t){const n=[];if(e.role==="user"){const u=Xu(e.content),s=[...u.contexts];for(const o of u.contextImages)o.source.type==="base64"&&s.push({type:"image",uri:`image://context-${e.id}-${s.length}`,displayType:"TAG",mimeType:o.source.media_type,base64Data:o.source.data});if(u.userContent.length>0||s.length>0){const o={type:"userMessage",id:e.id,contexts:s.length>0?s:void 0,content:u.userContent,timestamp:e.timestamp};n.push(o)}const r=e.content.filter(o=>o.type==="tool_result");for(const o of r){const a=t.get(o.tool_use_id);a&&cr(a,o)}}else if(e.role==="assistant"){const u=[];e.content.forEach((r,o)=>{Uu(r)&&r.text.trim()&&u.push(o)});const s=u.length>0?u[u.length-1]:-1;for(let r=0;r<e.content.length;r++){const o=e.content[r];if(Uu(o)&&o.text.trim()){const a=r===s;let i;a&&e.tokenUsage&&(i={requestDuration:0,inputTokens:e.tokenUsage.input_tokens,outputTokens:e.tokenUsage.output_tokens});const l={type:"assistantText",id:`${e.id}-text-${r}`,content:o.text,timestamp:e.timestamp,isLastInMessage:a,stats:i};n.push(l)}else if(Pn(o)){const a=lr(o,t);n.push(a)}}}else if(e.role==="system"){const u=e.content.filter(s=>s.type==="text");if(u.length>0){const s={type:"systemMessage",id:e.id,content:u.map(r=>r.text).join(`
`),level:"info",timestamp:e.timestamp};n.push(s)}}return n}function ja(e,t){const n=[];for(const u of e)if(u.role==="user"){const s=u.content.filter(o=>o.type==="text"||o.type==="image");if(s.length>0){const o=Xu(s),a=[...o.contexts,...o.contextImages.map(c=>({type:"image",uri:"image://context",displayType:"TAG",mimeType:c.source.media_type,base64Data:c.source.type==="base64"?c.source.data:void 0}))],i=o.userContent,l={type:"userMessage",id:u.id,contexts:a.length>0?a:void 0,content:i.length>0?i:[],timestamp:u.timestamp};n.push(l)}const r=u.content.filter(o=>o.type==="tool_result");for(const o of r){const a=t.get(o.tool_use_id);a&&cr(a,o)}}else if(u.role==="assistant"){const s=[];u.content.forEach((o,a)=>{Uu(o)&&o.text.trim()&&s.push(a)});const r=s.length>0?s[s.length-1]:-1;for(let o=0;o<u.content.length;o++){const a=u.content[o];if(Uu(a)&&a.text.trim()){const i=o===r;let l;if(i&&u.tokenUsage){let d=0;for(let p=e.indexOf(u)-1;p>=0;p--)if(e[p].role==="user"){d=e[p].timestamp;break}l={requestDuration:d>0?u.timestamp-d:0,inputTokens:u.tokenUsage.input_tokens,outputTokens:u.tokenUsage.output_tokens}}const c={type:"assistantText",id:`${u.id}-text-${n.length}`,content:a.text,timestamp:u.timestamp,isLastInMessage:i,stats:l};n.push(c)}else if(Pn(a)){const i=lr(a,t);n.push(i)}}}else if(u.role==="system"){const s=u.content.filter(r=>r.type==="text");if(s.length>0){const r={type:"systemMessage",id:u.id,content:s.map(o=>o.text).join(`
`),level:"info",timestamp:u.timestamp};n.push(r)}}return n}function za(e){return e.type==="message_start"}function Ha(e){return e.type==="message_delta"}function Ga(e){return e.type==="message_stop"}function Wa(e){return e.type==="content_block_start"}function Ka(e){return e.type==="content_block_delta"}function Va(e){return e.type==="content_block_stop"}function Ja(e){return e&&e.type==="text_delta"&&typeof e.text=="string"}function Ya(e){return e&&e.type==="input_json_delta"&&typeof e.partial_json=="string"}function Xa(e){return e&&e.type==="thinking_delta"&&typeof e.delta=="string"}function Za(e,t,n){if(!n.text)return!1;const u=e.content[t];if(u&&u.type==="text"){const s={type:"text",text:u.text+n.text},r=[...e.content];return r[t]=s,e.content=r,!0}else{const s={type:"text",text:n.text};if(t>=e.content.length)e.content=[...e.content,s];else{const r=[...e.content];r[t]=s,e.content=r}return!0}}function Qa(e,t,n,u){if(!n.partial_json)return!1;let s,r=-1;if(t<e.content.length){const i=e.content[t];Pn(i)&&(s=i,r=t)}if(!s)for(let i=e.content.length-1;i>=0;i--){const l=e.content[i];if(Pn(l)){s=l,r=i;break}}if(!s||r===-1)return!1;const o=`tool_input_${s.id}`,a=(u.get(o)||"")+n.partial_json;u.set(o,a);try{const i=JSON.parse(a),l={...s,input:i},c=[...e.content];return c[r]=l,e.content=c,!0}catch{return!1}}function qa(e,t,n){if(!n.delta)return!1;const u=e.content[t];if(u&&u.type==="thinking"){const s={...u,thinking:u.thinking+n.delta},r=[...e.content];return r[t]=s,e.content=r,!0}else{const s={type:"thinking",thinking:n.delta,signature:void 0};if(t>=e.content.length)e.content=[...e.content,s];else{const r=[...e.content];r[t]=s,e.content=r}return!0}}function ei(){return{id:`assistant-placeholder-${Date.now()}-${crypto.randomUUID().substring(0,8)}`,role:"assistant",content:[],timestamp:Date.now()}}function Zu(e){const t=e.slice().reverse().find(u=>u.role==="assistant");if(t)return t;const n=ei();return e.push(n),n}const dr=Wo.stream;function ti(){return`assistant-${Date.now()}-${crypto.randomUUID().substring(0,8)}`}function cs(e,t,n){return e?t.some(s=>n&&s.id===n?!1:s.id===e)?`${e}-${crypto.randomUUID().substring(0,8)}`:e:ti()}function ni(e){return e.length===0?!0:e.every(t=>{if(t.type==="text"){const n=t;return!n.text||n.text.trim()===""}return!1})}function ui(e,t){if(!za(e))return bn();const n=e.message?.id;dr.debug(`processMessageStart: id=${n}`);const u=t.messages.slice().reverse().find(r=>r.role==="assistant");if(u&&ni(u.content)){const r=cs(n,t.messages,u.id);if(u.id!==r){const o=t.messages.findIndex(a=>a.id===u.id);o!==-1&&(t.messages[o]={...u,id:r})}return{shouldUpdateMessages:!0,shouldSetGenerating:!0,messageUpdated:!0}}const s={id:cs(n,t.messages),role:"assistant",content:[],timestamp:Date.now()};return t.messages.push(s),{shouldUpdateMessages:!0,shouldSetGenerating:!0,messageUpdated:!0,newMessage:s}}function oi(e,t){if(!Ka(e))return bn();const{index:n,delta:u}=e,s=Zu(t.messages);let r=!1;return Ja(u)?r=Za(s,n,u):Ya(u)?r=Qa(s,n,u,t.toolInputJsonAccumulator):Xa(u)&&(r=qa(s,n,u)),{shouldUpdateMessages:!0,shouldSetGenerating:!0,messageUpdated:r}}function si(e,t){if(!Wa(e))return bn();const{index:n,content_block:u}=e,s=Zu(t.messages);let r=!1;return u.type==="tool_use"&&u.id&&u.name?r=ri(u,n,s,t):u.type==="text"||u.type==="thinking"&&(r=ai(u,n,s)),{shouldUpdateMessages:r,shouldSetGenerating:!0,messageUpdated:r}}function ri(e,t,n,u){if(n.content.find(o=>Pn(o)&&o.id===e.id))return!1;const r={type:"tool_use",id:e.id,name:e.name,input:e.input||{}};if(t>=n.content.length)n.content=[...n.content,r];else{const o=[...n.content];o[t]=r,n.content=o}return u.registerToolCall&&u.registerToolCall(r),!0}function ai(e,t,n){const u={type:"thinking",thinking:e.thinking||"",signature:e.signature};if(t>=n.content.length)n.content=[...n.content,u];else{const s=[...n.content];s[t]=u,n.content=s}return!0}function ii(e,t){if(!Va(e))return bn();const{index:n}=e,u=Zu(t.messages);if(n!==void 0&&u.content[n]){const s=u.content[n];if(Pn(s)){const r=`tool_input_${s.id}`;t.toolInputJsonAccumulator.delete(r)}}return{shouldUpdateMessages:!1,shouldSetGenerating:null,messageUpdated:!1}}function li(e,t){return Ha(e)?{shouldUpdateMessages:!1,shouldSetGenerating:null,messageUpdated:!1}:bn()}function ci(e,t,n){if(!Ga(e))return bn();t.toolInputJsonAccumulator.clear();const u=Zu(n),s=n.findIndex(r=>r.id===u.id);return s!==-1&&(n[s]={...n[s],timestamp:Date.now()}),{shouldUpdateMessages:!0,shouldSetGenerating:null,messageUpdated:!0}}function bn(){return{shouldUpdateMessages:!1,shouldSetGenerating:null,messageUpdated:!1}}function di(e,t){const n=e.type;switch(n){case"message_start":return ui(e,t);case"content_block_delta":return oi(e,t);case"content_block_start":return si(e,t);case"content_block_stop":return ii(e,t);case"message_delta":return li(e);case"message_stop":return ci(e,t,t.messages);default:return dr.warn(`æœªçŸ¥çš„äº‹ä»¶ç±»å‹: ${n}`),bn()}}class fi{constructor(){ze(this,"listeners",new Map);ze(this,"isReady",!1);ze(this,"mode","browser");this.setupEventListener(),this.init()}getBaseUrl(){return""}detectMode(){return typeof window>"u"?"browser":window.__serverUrl?"ide":"browser"}async init(){typeof window>"u"||(this.mode=this.detectMode(),this.isReady=!0,console.log("ğŸŒ Bridge Mode: HTTP"),console.log("ğŸ”— Server URL:",this.getBaseUrl()))}setupEventListener(){typeof window>"u"||window.addEventListener("ide-event",t=>{const{type:n,data:u}=t.detail;this.dispatchEvent({type:n,data:u})})}dispatchEvent(t){const n=this.listeners.get(t.type);n&&n.forEach(u=>{try{u(t.data)}catch(s){console.error(`Error in event handler for ${t.type}:`,s)}})}async waitForReady(){if(!this.isReady)return new Promise(t=>{const n=setInterval(()=>{this.isReady&&(clearInterval(n),t())},100);setTimeout(()=>{clearInterval(n),console.warn("âš ï¸ Bridge ready timeout"),t()},5e3)})}async query(t,n){await this.waitForReady();try{const u=await fetch(`${this.getBaseUrl()}/api/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,data:n})});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);return await u.json()}catch(u){return console.error(`HTTP query failed for ${t}:`,u),{success:!1,error:u instanceof Error?u.message:"Unknown error"}}}getServerUrl(){return this.getBaseUrl()}getMode(){return this.mode}isInIde(){return this.mode==="ide"}isInBrowser(){return this.mode==="browser"}checkReady(){return this.isReady}getServerPort(){try{return new URL(this.getBaseUrl()).port||"80"}catch{return"8765"}}on(t,n){this.listeners.has(t)||this.listeners.set(t,new Set),this.listeners.get(t).add(n)}off(t,n){this.listeners.get(t)?.delete(n)}}let ao=null;function lt(){return ao||(ao=new fi),ao}const bt={query:(e,t)=>lt().query(e,t),getServerUrl:()=>lt().getServerUrl(),getMode:()=>lt().getMode(),isInIde:()=>lt().isInIde(),isInBrowser:()=>lt().isInBrowser(),checkReady:()=>lt().checkReady(),getServerPort:()=>lt().getServerPort(),on:(e,t)=>lt().on(e,t),off:(e,t)=>lt().off(e,t),waitForReady:()=>lt().waitForReady()};async function pi(e,t){return lt().query("ide.openFile",{filePath:e,...t})}async function hi(e){return lt().query("ide.showDiff",e)}async function gi(e,t){return lt().query("ide.searchFiles",{query:e,maxResults:t||20})}async function vi(e,t,n){return lt().query("ide.getFileContent",{filePath:e,lineStart:t,lineEnd:n})}async function mi(){return lt().query("ide.getLocale")}async function bi(e){return lt().query("ide.setLocale",e)}const rn={openFile:pi,showDiff:hi,searchFiles:gi,getFileContent:vi,getLocale:mi,setLocale:bi};var St=(e=>(e.OPUS_45="OPUS_45",e.OPUS_45_THINKING="OPUS_45_THINKING",e.SONNET_45="SONNET_45",e.SONNET_45_THINKING="SONNET_45_THINKING",e.HAIKU_45="HAIKU_45",e.HAIKU_45_THINKING="HAIKU_45_THINKING",e))(St||{});const yi={OPUS_45:{provider:"claude",modelId:"claude-opus-4-5-20251101",thinkingEnabled:!1},OPUS_45_THINKING:{provider:"claude",modelId:"claude-opus-4-5-20251101",thinkingEnabled:!0},SONNET_45:{provider:"claude",modelId:"claude-sonnet-4-5-20250929",thinkingEnabled:!1},SONNET_45_THINKING:{provider:"claude",modelId:"claude-sonnet-4-5-20250929",thinkingEnabled:!0},HAIKU_45:{provider:"claude",modelId:"claude-haiku-4-5-20251001",thinkingEnabled:!1},HAIKU_45_THINKING:{provider:"claude",modelId:"claude-haiku-4-5-20251001",thinkingEnabled:!0}},xi={OPUS_45:"Opus 4.5",OPUS_45_THINKING:"Opus 4.5",SONNET_45:"Sonnet 4.5",SONNET_45_THINKING:"Sonnet 4.5",HAIKU_45:"Haiku 4.5",HAIKU_45_THINKING:"Haiku 4.5"},ds={OPUS_45:!1,OPUS_45_THINKING:!0,SONNET_45:!1,SONNET_45_THINKING:!0,HAIKU_45:!1,HAIKU_45_THINKING:!0},io={model:St.OPUS_45_THINKING,permissionMode:"default",systemPrompt:null,maxTurns:10,continueConversation:!1,maxTokens:null,thinkingEnabled:!0,maxThinkingTokens:8e3,temperature:null,verbose:!1,apiKey:null};St.SONNET_45+"",St.SONNET_45_THINKING+"",St.OPUS_45+"",St.OPUS_45_THINKING+"",St.HAIKU_45+"",St.HAIKU_45_THINKING+"";const fr=Go("settings",()=>{const e=G({...io}),t=G(!1),n=G(!1);async function u(){t.value=!0;try{console.log("âš™ï¸ Loading settings...");const h=await bt.query("settings.get");h.success&&h.data?.settings?(e.value={...io,...h.data.settings},console.log("âœ… Settings loaded:",e.value)):console.warn("âš ï¸ Failed to load settings, using defaults")}catch(h){console.error("âŒ Error loading settings:",h)}finally{t.value=!1}}async function s(h){t.value=!0;try{console.log("ğŸ’¾ Saving settings...",h),e.value={...e.value,...h};const p=await bt.query("settings.update",{settings:e.value});return p.success?(console.log("âœ… Settings saved"),!0):(console.error("âŒ Failed to save settings:",p.error),!1)}catch(p){return console.error("âŒ Error saving settings:",p),!1}finally{t.value=!1}}async function r(h){return await s({model:h})}async function o(h){return await s({permissionMode:h})}async function a(h){return await s({maxTurns:h})}async function i(){return await s(io)}function l(){n.value=!0}function c(){n.value=!1}function d(){n.value=!n.value}return{settings:e,loading:t,showPanel:n,loadSettings:u,saveSettings:s,updateModel:r,updatePermissionMode:o,updateMaxTurns:a,resetToDefaults:i,openPanel:l,closePanel:c,togglePanel:d}}),je=Wo.session,Ei=fr(),Qu=Go("session",()=>{const e=Tn(new Map),t=G(null),n=G(!1),u=G(null),s=G(new Map),r=G(new Map),o=G(new Map),a=Tn(new Map),i=Tn(new Map);function l(F={}){const B=Ei.settings.value,z=Object.values(St),K=B?.model,se=z.includes(K??"")?K:St.SONNET_45,re=yi[se],be=re.thinkingEnabled,O={includePartialMessages:!0,dangerouslySkipPermissions:!0,allowDangerouslySkipPermissions:!0,...F.claude,thinkingEnabled:be},$=F.codex?{...F.codex}:void 0,W={...F.metadata??{},thinkingEnabled:String(be)};return{provider:re.provider,model:re.modelId,systemPrompt:F.systemPrompt,initialPrompt:F.initialPrompt,sessionId:F.sessionId,resumeSessionId:F.resumeSessionId,metadata:W,claude:O,codex:$}}function c(F,B,z,K=null){const se=Date.now(),re=e.size>0?Math.max(...Array.from(e.values()).map(be=>be.order)):-1;return Tn({id:F,name:B,createdAt:se,updatedAt:se,lastActiveAt:se,order:re+1,messages:[],displayItems:[],pendingToolCalls:new Map,session:K,connectionStatus:K?Qt.CONNECTED:Qt.DISCONNECTED,modelId:z,isGenerating:!1,uiState:{inputText:"",contexts:[],scrollPosition:0},toolInputJsonAccumulator:new Map})}const d=k(()=>t.value&&e.get(t.value)||null),h=k(()=>d.value?d.value.messages:[]),p=k(()=>d.value?d.value.displayItems:[]),g=k(()=>d.value?d.value.connectionStatus:Qt.DISCONNECTED),v=k(()=>Array.from(e.values()).sort((F,B)=>F.order-B.order)),y=k(()=>Array.from(e.values()).sort((F,B)=>B.lastActiveAt-F.lastActiveAt));function D(F){return F&&e.get(F)||null}function E(F){return F?e.has(F)?F:a.get(F)??null:null}function m(F,B){F&&a.set(F,B)}function C(F){for(const[B,z]of a.entries())z===F&&a.delete(B)}function b(F){const B=e.get(F);if(!B)return;const z=Date.now();B.updatedAt=z,B.lastActiveAt=z}function w(F,B){const z=e.get(F);z&&(z.isGenerating=B,b(F))}async function _(F){try{const B=l();r.value.set("pending",Qt.CONNECTING);const z=new ls,K=`pending-${Date.now()}`,se=c(K,F||`ä¼šè¯ ${new Date().toLocaleString()}`,B.model||null,z);z.onMessage(be=>{const O=H(be);O&&U(se,O)});const re=await z.connect(B);return se.id=re,e.set(re,se),r.value.delete("pending"),r.value.set(re,Qt.CONNECTED),t.value=re,s.value.set(re,B.model||""),u.value=B.model||null,se}catch(B){return je.error("åˆ›å»ºä¼šè¯å¼‚å¸¸:",B),r.value.delete("pending"),null}}async function A(F){return _(F)}async function I(F,B){if(!F)return null;const z=E(F);if(z)return await R(z),D(z);try{const K=l({resumeSessionId:F,claude:{resume:F}});r.value.set("pending",Qt.CONNECTING);const se=new ls,re=F.slice(-8)||F,be=`pending-${Date.now()}`,O=c(be,B||`å†å²ä¼šè¯ ${re}`,K.model||null,se);se.onMessage(L=>{const W=H(L);W&&U(O,W)});const $=await se.connect(K);return O.id=$,e.set($,O),r.value.delete("pending"),r.value.set($,Qt.CONNECTED),s.value.set($,K.model||""),u.value=K.model||null,t.value=$,m(F,$),O}catch(K){return je.error("æ¢å¤ä¼šè¯å¼‚å¸¸:",K),r.value.delete("pending"),null}}async function R(F){const B=D(F);return B?(t.value=F,u.value=s.value.get(F)??B.modelId??null,b(F),!0):(je.warn(`ä¼šè¯ä¸å­˜åœ¨ ${F}`),!1)}function H(F){if(!F||typeof F!="object")return null;const B=F,z=B.type||B.role;if(z==="stream"&&B.data&&Fo(B.data))return{kind:"stream_event",data:B.data};if(Fo(F))return{kind:"stream_event",data:F};if(z==="result")return{kind:"result",data:F};if(z==="assistant"){const K=Array.isArray(B.content)?B.content:[],se=typeof B.timestamp=="number"?B.timestamp:Date.now();return{kind:"message",data:{id:B.id||"",role:"assistant",content:K,timestamp:se,tokenUsage:B.token_usage}}}if(z==="user"){const K=Array.isArray(B.content)?B.content:[];if(K.some(re=>re.type==="tool_result")){const re=typeof B.timestamp=="number"?B.timestamp:Date.now();return{kind:"message",data:{id:B.id||"",role:"user",content:K,timestamp:re}}}}return null}function te(F,B){const z=D(F);z&&U(z,B)}function U(F,B){switch(B.kind){case"stream_event":ee(F,B.data);return;case"result":Ne(F.id,B.data);return;case"message":N(F.id,F,B.data);return}}function N(F,B,z){z.id||(z.id=Y(z.role));const K=z.role==="user"&&z.content.some(se=>se.type==="tool_result");if(z.role==="assistant"){const se=B.messages[B.messages.length-1];if(se&&se.id===z.id)return}K?b(F):J(F,z),K&&V(B,z.content)}function Y(F){return`${F}-${Date.now()}-${crypto.randomUUID().substring(0,8)}`}function V(F,B){const z=B.filter(K=>K.type==="tool_result");for(const K of z){const se=F.pendingToolCalls.get(K.tool_use_id);if(se){const re=!K.is_error;se.status=K.is_error?zt.FAILED:zt.SUCCESS,se.endTime=Date.now(),se.result=K.is_error?{type:"error",error:typeof K.content=="string"?K.content:JSON.stringify(K.content)}:{type:"success",output:typeof K.content=="string"?K.content:JSON.stringify(K.content)},re&&Q(se)}}}async function Q(F){try{switch(F.toolType){case he.READ:{const z=F,K=z.input.file_path||z.input.path||"";if(!K)break;const se=z.input.view_range;let re,be;Array.isArray(se)&&se.length>=2?(re=se[0],be=se[1]):z.input.offset!==void 0&&(re=z.input.offset,z.input.limit!==void 0&&(be=re+z.input.limit-1)),await ideService.openFile(K,{line:re,endLine:be,selectContent:!0}),je.debug(`[executeIdeActionForTool] READ: æ‰“å¼€æ–‡ä»¶ ${K}ï¼Œè¡Œ=${re}`);break}case he.WRITE:{const z=F,K=z.input.file_path||z.input.path||"";if(!K)break;await ideService.openFile(K),je.debug(`[executeIdeActionForTool] WRITE: æ‰“å¼€æ–‡ä»¶ ${K}`);break}case he.EDIT:{const z=F,K=z.input.file_path||"";if(!K)break;await ideService.showDiff({filePath:K,oldContent:z.input.old_string||"",newContent:z.input.new_string||"",rebuildFromFile:!0,edits:[{oldString:z.input.old_string||"",newString:z.input.new_string||"",replaceAll:z.input.replace_all||!1}]}),je.debug(`[executeIdeActionForTool] EDIT: æ˜¾ç¤º Diff ${K}`);break}case he.MULTI_EDIT:{const z=F;for(const K of z.input.edits||[]){const se=K.file_path||"";se&&(await ideService.showDiff({filePath:se,oldContent:K.old_string||"",newContent:K.new_string||"",rebuildFromFile:!0,edits:[{oldString:K.old_string||"",newString:K.new_string||"",replaceAll:K.replace_all||!1}]}),je.debug(`[executeIdeActionForTool] MULTI_EDIT: æ˜¾ç¤º Diff ${se}`))}break}default:break}}catch(B){je.error("executeIdeActionForTool å¼‚å¸¸:",B)}}function J(F,B){const z=D(F);if(!z){je.warn(`addMessage: ä¼šè¯ ${F} ä¸å­˜åœ¨`);return}z.messages.push(B),z.displayItems.push(...ro(B,z.pendingToolCalls)),b(F)}function ee(F,B){const z=F.id,K=we(B);if(B.type==="message_complete"&&B.usage&&(xe(z,B.usage.inputTokens||0,B.usage.outputTokens||0),w(z,!1)),!K)return;je.debug(`ğŸ”„ [handleStreamEvent] è½¬æ¢åäº‹ä»¶: type=${K.type}`,K);const se={messages:F.messages,toolInputJsonAccumulator:F.toolInputJsonAccumulator,registerToolCall:ft},re=di(K,se);if(je.debug("ğŸ“Š [handleStreamEvent] å¤„ç†ç»“æœ:",{shouldUpdateMessages:re.shouldUpdateMessages,shouldSetGenerating:re.shouldSetGenerating,messageUpdated:re.messageUpdated,hasNewMessage:!!re.newMessage,messagesCount:F.messages.length,displayItemsCount:F.displayItems.length}),re.shouldSetGenerating!==null&&w(z,re.shouldSetGenerating),re.newMessage){const be=ro(re.newMessage,F.pendingToolCalls);F.displayItems.push(...be),je.debug(`æµå¼äº‹ä»¶åˆ›å»ºæ–°æ¶ˆæ¯ï¼Œæ·»åŠ  ${be.length} ä¸ªdisplayItems`)}if(re.messageUpdated&&re.shouldUpdateMessages){const be=F.messages.slice().reverse().find(O=>O.role==="assistant");be&&(je.debug(`ğŸ”§ [handleStreamEvent] åŒæ­¥displayItemsï¼Œæ¶ˆæ¯id=${be.id}ï¼Œcontentå—æ•°=${be.content.length}`),be.content.forEach((O,$)=>{je.debug(`  [${$}] type=${O.type}`,O)}),Ee(be,F),je.debug(`ğŸ”§ [handleStreamEvent] åŒæ­¥å displayItems æ•°é‡: ${F.displayItems.length}`))}}function me(F){if(!F.messageId||F.messageId.length===0)throw new Error("message_start äº‹ä»¶ç¼ºå°‘ messageId");return F.messageId}function we(F){switch(F.type){case"message_start":return{type:"message_start",message:{id:me(F),type:"message",role:"assistant",content:[]}};case"text_delta":return{type:"content_block_delta",index:0,delta:{type:"text_delta",text:F.text}};case"thinking_delta":return{type:"content_block_delta",index:0,delta:{type:"thinking_delta",delta:F.thinking}};case"tool_start":return{type:"content_block_start",index:0,content_block:{type:"tool_use",id:F.toolId,name:F.toolName,input:{}}};case"tool_progress":return{type:"message_delta",delta:{}};case"tool_complete":return{type:"content_block_stop",index:0};case"message_complete":return{type:"message_stop"};case"error":return{type:"message_stop"};case"assistant":return je.debug("ğŸ“¦ [assistant] æ”¶åˆ°å®Œæ•´æ¶ˆæ¯ç”¨äºæ ¡éªŒ:",F.content),null;default:return null}}function Ee(F,B){je.debug(`ğŸ“Œ [syncDisplayItems] å¼€å§‹åŒæ­¥ï¼Œæ¶ˆæ¯ID=${F.id}`);let z=-1,K=-1;for(let $=0;$<B.displayItems.length;$++){const L=B.displayItems[$];if(L.type==="assistantText"&&L.id.startsWith(`${F.id}-text-`)||L.type==="toolCall"&&F.content.some(Z=>isToolUseBlock(Z)&&Z.id===L.id))z===-1&&(z=$),K=$;else if(z!==-1)break}je.debug(`ğŸ“Œ [syncDisplayItems] æ‰¾åˆ°ç°æœ‰é¡¹èŒƒå›´: start=${z}, end=${K}`);const se=[];F.content.forEach(($,L)=>{$.type==="text"&&$.text.trim()&&se.push(L)});const re=se.length>0?se[se.length-1]:-1,be=[],O=new Map;if(z!==-1&&K!==-1)for(let $=z;$<=K;$++){const L=B.displayItems[$];O.set(L.id,L)}for(let $=0;$<F.content.length;$++){const L=F.content[$];if(L.type==="text"&&L.text.trim()){const W=L,Z=`${F.id}-text-${$}`,oe=O.get(Z);if(oe&&oe.type==="assistantText"){const de=oe;de.content=W.text,de.isLastInMessage=$===re,be.push(oe)}else{const de=$===re,Ae={type:"assistantText",id:Z,content:W.text,timestamp:F.timestamp,isLastInMessage:de,stats:void 0};be.push(Ae)}}else if(isToolUseBlock(L)){const W=O.get(L.id);if(W&&W.type==="toolCall"){const Z=L;Z.input!==void 0&&(W.input=Z.input);const oe=B.pendingToolCalls.get(L.id);oe&&Z.input!==void 0&&(oe.input=Z.input),be.push(W)}else{const Z=ro(F,B.pendingToolCalls).find(oe=>oe.type==="toolCall"&&oe.id===L.id);Z&&be.push(Z)}}}je.debug(`ğŸ“Œ [syncDisplayItems] æ„å»ºçš„æ–°æ˜¾ç¤ºé¡¹æ•°é‡: ${be.length}`),be.forEach(($,L)=>{je.debug(`  [${L}] type=${$.type}, id=${$.id}`)}),z!==-1&&K!==-1?(je.debug(`ğŸ“Œ [syncDisplayItems] æ›¿æ¢æ¨¡å¼: splice(${z}, ${K-z+1})`),B.displayItems.splice(z,K-z+1,...be)):(je.debug(`ğŸ“Œ [syncDisplayItems] è¿½åŠ æ¨¡å¼: push ${be.length} é¡¹`),B.displayItems.push(...be)),B.displayItems=[...B.displayItems],je.debug(`ğŸ“Œ [syncDisplayItems] æœ€ç»ˆ displayItems æ•°é‡: ${B.displayItems.length}`)}function Ne(F,B){const z=D(F);if(!z){je.warn(`handleResultMessage: ä¼šè¯ ${F} ä¸å­˜åœ¨`);return}const K=i.get(F);let se=0,re=0;B.usage&&(se=B.usage.input_tokens||0,re=B.usage.output_tokens||0);const be=B.duration_ms||(K?Date.now()-K.requestStartTime:0);if(K?.lastUserMessageId){const O=z.displayItems.findIndex($=>$.id===K.lastUserMessageId&&$.type==="userMessage");if(O!==-1){const $=z.displayItems[O];$.requestStats={requestDuration:be,inputTokens:se,outputTokens:re},$.isStreaming=!1,z.displayItems=[...z.displayItems]}}w(F,!1),i.delete(F)}function Me(F,B,z){i.set(F,{lastUserMessageId:B,requestStartTime:Date.now(),inputTokens:0,outputTokens:0,currentStreamingMessageId:z}),w(F,!0);const K=D(F);if(K){const se=K.displayItems.findIndex(re=>re.id===B&&re.type==="userMessage");if(se!==-1){const re=K.displayItems[se];re.isStreaming=!0,K.displayItems=[...K.displayItems]}}}function Le(F,B,z){const K=i.get(F);K&&(K.inputTokens+=B,K.outputTokens+=z)}function xe(F,B,z){const K=i.get(F);K&&(K.inputTokens=B,K.outputTokens=z)}function Se(F){const B=i.get(F);return B?{startTime:B.requestStartTime,inputTokens:B.inputTokens,outputTokens:B.outputTokens}:null}function Te(F,B){const z=D(F);if(!z){je.warn(`removeMessage: ä¼šè¯ ${F} ä¸å­˜åœ¨`);return}if(B>=0&&B<z.messages.length){const K=[...z.messages];K.splice(B,1),z.messages=K,z.displayItems=ja(K,z.pendingToolCalls)}}async function Ue(F){try{const B=D(F);if(B?.session&&await B.session.disconnect(),r.value.delete(F),e.delete(F),C(F),s.value.delete(F),t.value===F){const z=Array.from(e.values());z.length>0?await R(z[0].id):t.value=null}return!0}catch(B){return je.error("åˆ é™¤ä¼šè¯å¼‚å¸¸:",B),!1}}function nt(F,B){const z=D(F);return z?(z.name=B,z.updatedAt=Date.now(),!0):!1}async function Dt(F){n.value=!0;try{const B=D(F);return B?.session?await B.session.getHistory():(je.warn("loadSessionHistory: ä¼šè¯ä¸å­˜åœ¨æˆ–æœªè¿æ¥"),[])}catch(B){return je.error("åŠ è½½å†å²æ¶ˆæ¯å¤±è´¥:",B),[]}finally{n.value=!1}}function dt(F){const B=D(F);return B?B.messages:[]}async function Ve(F){if(!d.value?.session)throw new Error("å½“å‰æ²¡æœ‰æ´»è·ƒçš„ä¼šè¯");await d.value.session.sendMessage(F)}async function Je(F){if(!d.value?.session)throw new Error("å½“å‰æ²¡æœ‰æ´»è·ƒçš„ä¼šè¯");await d.value.session.sendMessageWithContent(F)}async function Ot(){if(!d.value?.session)throw new Error("å½“å‰æ²¡æœ‰æ´»è·ƒçš„ä¼šè¯");await d.value.session.interrupt()}async function gt(F){if(!d.value?.session)throw new Error("å½“å‰æ²¡æœ‰æ´»è·ƒçš„ä¼šè¯");await d.value.session.setModel(F),s.value.set(d.value.id,F),u.value=F,d.value.modelId=F}function ft(F){o.value.has(F.id)||o.value.set(F.id,{id:F.id,name:F.name,status:"running",startTime:Date.now()})}function Zt(F,B){const z=o.value.get(F);z&&(z.status=B.is_error?"failed":"success",z.result=B.content,z.endTime=Date.now())}function dn(F){return o.value.get(F)?.status||"running"}function pt(F){return o.value.get(F)?.result}function Tt(F){F.forEach((B,z)=>{const K=e.get(B);K&&(K.order=z)})}return{sessions:e,activeTabs:v,allSessions:y,currentSessionId:t,currentSession:d,currentMessages:h,currentDisplayItems:p,currentModelId:u,currentConnectionStatus:g,loading:n,createSession:_,startNewSession:A,switchSession:R,deleteSession:Ue,renameSession:nt,loadSessionHistory:Dt,addMessage:J,removeMessage:Te,getMessages:dt,setSessionGenerating:w,handleMessage:te,sendMessage:Ve,sendMessageWithContent:Je,interrupt:Ot,setModel:gt,resumeSession:I,resolveSessionIdentifier:E,toolCallsMap:o,registerToolCall:ft,updateToolResult:Zt,getToolStatus:dn,getToolResult:pt,updateTabOrder:Tt,startRequestTracking:Me,addTokenUsage:Le,getRequestStats:Se,requestTracker:i}});class Si{constructor(){ze(this,"currentLocale","en-US");ze(this,"isInitialized",!1);ze(this,"initPromise",null)}async init(){if(!this.isInitialized){if(this.initPromise)return this.initPromise;this.initPromise=this.doInit(),await this.initPromise,this.isInitialized=!0}}async doInit(){try{const t=await rn.getLocale();if(t.success&&t.data){const n=this.normalizeLocale(t.data);this.currentLocale=n,console.log("ğŸŒ Locale initialized from IDE:",n)}else this.currentLocale=this.detectBrowserLocale(),console.log("ğŸŒ Locale fallback to browser:",this.currentLocale)}catch(t){console.warn("âš ï¸ Failed to get locale from IDE, using browser default:",t),this.currentLocale=this.detectBrowserLocale()}}normalizeLocale(t){const n=t.toLowerCase().replace("_","-");return n.startsWith("zh")?"zh-CN":(n.startsWith("en"),"en-US")}detectBrowserLocale(){if(typeof window>"u")return"en-US";const t=navigator.language||navigator.userLanguage||"en-US";return this.normalizeLocale(t)}getLocale(){return this.currentLocale}async setLocale(t){try{const n=await rn.setLocale(t);n.success?(this.currentLocale=t,console.log("ğŸŒ Locale changed to:",t)):(console.warn("âš ï¸ Failed to set locale:",n.error),this.currentLocale=t)}catch(n){console.warn("âš ï¸ Failed to set locale:",n),this.currentLocale=t}}getElementPlusLocale(){return this.currentLocale==="zh-CN"?"zh-cn":"en"}getI18nLocale(){return this.currentLocale}isChinese(){return this.currentLocale==="zh-CN"}isEnglish(){return this.currentLocale==="en-US"}}const An=new Si,Ci={common:{send:"å‘é€",cancel:"å–æ¶ˆ",confirm:"ç¡®è®¤",save:"ä¿å­˜",delete:"åˆ é™¤",edit:"ç¼–è¾‘",copy:"å¤åˆ¶",close:"å…³é—­",loading:"åŠ è½½ä¸­...",success:"æˆåŠŸ",error:"é”™è¯¯",search:"æœç´¢",clear:"æ¸…ç©º",settings:"è®¾ç½®",tools:"å·¥å…·",unknown:"æœªçŸ¥",remove:"ç§»é™¤",yes:"æ˜¯",no:"å¦",ok:"ç¡®å®š",pending:"ç­‰å¾…",cancelled:"å·²å–æ¶ˆ",copyFailed:"å¤åˆ¶å¤±è´¥"},chat:{placeholder:"è¾“å…¥æ¶ˆæ¯...",placeholderWithShortcuts:"è¾“å…¥æ¶ˆæ¯... (Enter å‘é€, Shift+Enter æ¢è¡Œ, Alt+Enter æ‰“æ–­å‘é€)",placeholderWithShortcutsCtrl:"è¾“å…¥æ¶ˆæ¯... (Ctrl+Enter å‘é€, Shift+Enter æ¢è¡Œ)",newSession:"æ–°ä¼šè¯",history:"å†å²è®°å½•",thinking:"æ€è€ƒä¸­...",retry:"é‡è¯•",stop:"åœæ­¢",stopGenerating:"åœæ­¢ç”Ÿæˆ",welcome:"ä½ å¥½ï¼æˆ‘æ˜¯ Claudeï¼Œä½ çš„ AI ç¼–ç¨‹åŠ©æ‰‹ã€‚",emptyState:"å¼€å§‹ä¸€ä¸ªæ–°çš„ä¼šè¯ï¼Œæˆ–é€‰æ‹©ä¸€ä¸ªå†å²è®°å½•ã€‚",sendMessage:"å‘é€æ¶ˆæ¯",sendMessageShortcut:"å‘é€æ¶ˆæ¯ (Enter) | å³é”®æŸ¥çœ‹æ›´å¤šé€‰é¡¹",addContext:"æ·»åŠ ä¸Šä¸‹æ–‡",autoCleanupContext:"è‡ªåŠ¨æ¸…ç†ä¸Šä¸‹æ–‡",autoCleanupContextTooltip:"å‘é€æ¶ˆæ¯åè‡ªåŠ¨æ¸…ç©ºä¸Šä¸‹æ–‡æ ‡ç­¾",dropFileToAddContext:"é‡Šæ”¾æ–‡ä»¶ä»¥æ·»åŠ åˆ°ä¸Šä¸‹æ–‡",taskQueue:"ä»»åŠ¡é˜Ÿåˆ—",taskQueueCount:"ä»»åŠ¡é˜Ÿåˆ— ({count})",taskStatus:{pending:"æ’é˜Ÿä¸­",running:"æ‰§è¡Œä¸­",success:"æˆåŠŸ",failed:"å¤±è´¥"},error:{title:"é”™è¯¯",unknown:"æœªçŸ¥é”™è¯¯",initSessionFailed:"åˆå§‹åŒ–ä¼šè¯å¤±è´¥: {message}",switchSessionFailed:"åˆ‡æ¢ä¼šè¯å¤±è´¥: {message}",sendMessageFailed:"å‘é€æ¶ˆæ¯å¤±è´¥: {message}"},debug:{title:"è°ƒè¯•ä¿¡æ¯",sessionId:"ä¼šè¯ID",projectPath:"é¡¹ç›®è·¯å¾„",messageCount:"æ¶ˆæ¯æ•°",generating:"ç”Ÿæˆä¸­",pendingTasks:"å¾…å¤„ç†ä»»åŠ¡",contexts:"ä¸Šä¸‹æ–‡",notSet:"æœªè®¾ç½®",generatingStatus:"æ­£åœ¨ç”Ÿæˆä¸­"},enterToSend:"Enter å‘é€æ¶ˆæ¯ Â·",noMessages:"æ²¡æœ‰æ¶ˆæ¯ã€‚è¯·åˆ›å»ºä¼šè¯å¹¶å‘é€æ¶ˆæ¯ã€‚"},tools:{read:"è¯»å–æ–‡ä»¶",write:"å†™å…¥æ–‡ä»¶",edit:"ç¼–è¾‘æ–‡ä»¶",bash:"æ‰§è¡Œå‘½ä»¤",search:"æœç´¢æ–‡ä»¶",status:{pending:"ç­‰å¾…",running:"æ‰§è¡Œä¸­",runningWithDots:"æ‰§è¡Œä¸­...",completed:"å·²å®Œæˆ",failed:"å¤±è´¥",cancelled:"å·²å–æ¶ˆ",success:"æˆåŠŸ"},editSuccess:"ç¼–è¾‘æˆåŠŸ",editFailed:"ç¼–è¾‘å¤±è´¥",confirmed:"å·²ç¡®è®¤",terminated:"å·²ç»ˆæ­¢",copyContent:"å¤åˆ¶å†…å®¹"},settings:{title:"è®¾ç½®",language:"è¯­è¨€",theme:"ä¸»é¢˜",autoScroll:"è‡ªåŠ¨æ»šåŠ¨",fontSize:"å­—ä½“å¤§å°",autoLoadContext:"æ–°å»ºä¼šè¯æ—¶è‡ªåŠ¨åŠ è½½ä¸Šæ¬¡å¯¹è¯çš„ä¸Šä¸‹æ–‡ã€‚",temperature:"æ¸©åº¦",temperatureDescription:"æ§åˆ¶æ¨¡å‹çš„åˆ›é€ æ€§ã€‚0 = ç¡®å®šæ€§, 1 = é«˜åˆ›é€ æ€§ã€‚ç•™ç©ºä½¿ç”¨é»˜è®¤å€¼ã€‚"},session:{group:{today:"ä»Šå¤©",yesterday:"æ˜¨å¤©",sevenDays:"7å¤©å†…",thirtyDays:"30å¤©å†…",older:"æ›´æ—©"},search:"æœç´¢ä¼šè¯...",export:"å¯¼å‡ºä¼šè¯",editGroup:"ç¼–è¾‘åˆ†ç»„",createGroup:"åˆ›å»ºåˆ†ç»„",editTag:"ç¼–è¾‘æ ‡ç­¾",createTag:"åˆ›å»ºæ ‡ç­¾",deleteSession:"åˆ é™¤ä¼šè¯",searchFailed:"æœç´¢å¤±è´¥"},context:{usage:"ä¸Šä¸‹æ–‡ä½¿ç”¨: {used} / {max} tokens ({percentage}%)",critical:"ğŸš¨ ä¸Šä¸‹æ–‡çª—å£å³å°†ç”¨å®Œï¼å»ºè®®ç«‹å³å¼€å¯æ–°å¯¹è¯",warning:"ğŸ’¡ ä¸Šä¸‹æ–‡å·²ä½¿ç”¨ä¸€åŠï¼Œæ³¨æ„ç®¡ç†"},keyboard:{sendMessage:"å‘é€æ¶ˆæ¯",closeDialog:"å…³é—­å¯¹è¯æ¡†"}},ki={common:{send:"Send",cancel:"Cancel",confirm:"Confirm",save:"Save",delete:"Delete",edit:"Edit",copy:"Copy",close:"Close",loading:"Loading...",success:"Success",error:"Error",search:"Search",clear:"Clear",settings:"Settings",tools:"Tools",unknown:"Unknown",remove:"Remove",yes:"Yes",no:"No",ok:"OK",pending:"Pending",cancelled:"Cancelled",copyFailed:"Copy failed"},chat:{placeholder:"Type a message...",placeholderWithShortcuts:"Type a message... (Enter to send, Shift+Enter for new line, Alt+Enter to interrupt)",placeholderWithShortcutsCtrl:"Type a message... (Ctrl+Enter to send, Shift+Enter for new line)",newSession:"New Session",history:"History",thinking:"Thinking...",retry:"Retry",stop:"Stop",stopGenerating:"Stop Generating",welcome:"Hello! I am Claude, your AI coding assistant.",emptyState:"Start a new session or select one from history.",sendMessage:"Send Message",sendMessageShortcut:"Send Message (Enter) | Right-click for more options",addContext:"Add Context",autoCleanupContext:"Auto Cleanup Context",autoCleanupContextTooltip:"Automatically clear context tags after sending message",dropFileToAddContext:"Drop files here to add to context",taskQueue:"Task Queue",taskQueueCount:"Task Queue ({count})",taskStatus:{pending:"Pending",running:"Running",success:"Success",failed:"Failed"},error:{title:"Error",unknown:"Unknown error",initSessionFailed:"Failed to initialize session: {message}",switchSessionFailed:"Failed to switch session: {message}",sendMessageFailed:"Failed to send message: {message}"},debug:{title:"Debug Info",sessionId:"Session ID",projectPath:"Project Path",messageCount:"Message Count",generating:"Generating",pendingTasks:"Pending Tasks",contexts:"Contexts",notSet:"Not Set",generatingStatus:"Generating"},enterToSend:"Enter to send message Â·",noMessages:"No messages. Please create a session and send a message."},tools:{read:"Read File",write:"Write File",edit:"Edit File",bash:"Execute Command",search:"Search Files",status:{pending:"Pending",running:"Running",runningWithDots:"Running...",completed:"Completed",failed:"Failed",cancelled:"Cancelled",success:"Success"},editSuccess:"Edit successful",editFailed:"Edit failed",confirmed:"Confirmed",terminated:"Terminated",copyContent:"Copy Content"},settings:{title:"Settings",language:"Language",theme:"Theme",autoScroll:"Auto Scroll",fontSize:"Font Size",autoLoadContext:"Automatically load last conversation context when creating a new session.",temperature:"Temperature",temperatureDescription:"Controls model creativity. 0 = deterministic, 1 = highly creative. Leave empty to use default value."},session:{group:{today:"Today",yesterday:"Yesterday",sevenDays:"Previous 7 Days",thirtyDays:"Previous 30 Days",older:"Older"},search:"Search sessions...",export:"Export Session",editGroup:"Edit Group",createGroup:"Create Group",editTag:"Edit Tag",createTag:"Create Tag",deleteSession:"Delete Session",searchFailed:"Search failed"},context:{usage:"Context usage: {used} / {max} tokens ({percentage}%)",critical:"ğŸš¨ Context window is almost full! Consider starting a new conversation",warning:"ğŸ’¡ Context is half full, manage carefully"},keyboard:{sendMessage:"Send Message",closeDialog:"Close Dialog"}},ku={"zh-CN":Ci,"en-US":ki};function pr(){const e=k(()=>An.getLocale());function t(u,s){const r=e.value,o=ku[r]||ku["en-US"],a=u.split(".");let i=o;for(const l of a)if(i&&typeof i=="object"&&l in i)i=i[l];else return console.warn(`[i18n] Missing translation for key: ${u} (locale: ${r})`),u;return typeof i!="string"?(console.warn(`[i18n] Translation value is not a string for key: ${u}`),u):s?i.replace(/\{(\w+)\}/g,(l,c)=>s[c]?.toString()||l):i}function n(u){const s=e.value,r=ku[s]||ku["en-US"],o=u.split(".");let a=r;for(const i of o)if(a&&typeof a=="object"&&i in a)a=a[i];else return!1;return typeof a=="string"}return{locale:e,t,hasKey:n,isChinese:k(()=>An.isChinese()),isEnglish:k(()=>An.isEnglish())}}const wu=G("browser"),lo=G(!1);function Jo(){const e=k(()=>wu.value==="ide"),t=k(()=>wu.value==="browser");async function n(){lo.value||(await bt.waitForReady(),wu.value=bt.getMode(),lo.value=!0,console.log(`ğŸ” [useEnvironment] ç¯å¢ƒæ£€æµ‹å®Œæˆ: ${wu.value}`))}return{isInIde:e,isInBrowser:t,environmentReady:lo,detectEnvironment:n}}const lu=new Set;let Hn=0,Oo=null,$n=null,Fn=null,tu=null;function wi(){typeof window>"u"||(window.__CLAUDE_IDE_BRIDGE__=window.__CLAUDE_IDE_BRIDGE__||{},window.__CLAUDE_IDE_BRIDGE__.onHostCommand=e=>{Di(e)})}function Di(e){lu.forEach(t=>{try{t(e)}catch(n){console.error("[IDE Bridge] Host command handler failed:",n)}})}function hr(e){if(typeof window>"u")return!1;const t=window.__CLAUDE_IDE_HOST__;if(t?.postSessionState)try{return t.postSessionState(JSON.stringify(e)),!0}catch(n){console.warn("[IDE Bridge] Failed to post session state:",n)}return!1}function Yo(){tu!==null&&typeof window<"u"&&(window.clearInterval(tu),tu=null)}function Ti(){typeof window>"u"||tu===null&&(tu=window.setInterval(()=>{Fn&&hr(Fn)&&(Fn=null,Yo())},400))}function Ii(e){Fn=e,hr(e)?(Fn=null,Yo()):Ti()}function _i(e){$n||($n=async t=>{try{switch(t.type){case"switchSession":{const n=t.payload?.sessionId;n&&await e.switchSession(n);break}case"createSession":{const u=await(e.startNewSession??e.createSession)?.();u?.id&&await e.switchSession(u.id);break}default:break}}catch(n){console.error(`[IDE Bridge] Failed to process host command ${t.type}:`,n)}},lu.add($n))}function Ai(e){const t=e.activeTabs;return Array.isArray(t)?t:Array.isArray(t?.value)?t.value:[]}function $i(e){Oo=et(()=>{const n=Ai(e).map(s=>({id:s.id,title:s.name||`ä¼šè¯ ${s.id.slice(-6)}`,isGenerating:!!s.isGenerating,isConnected:s.connectionStatus==="CONNECTED"||s.connectionStatus==="CONNECTING"})),u=e.currentSessionId?.value??e.currentSessionId??null;return{sessions:n,activeSessionId:u}},n=>{Ii({type:"session:update",sessions:n.sessions,activeSessionId:n.activeSessionId})},{deep:!0,immediate:!0})}function Fi(e){return bt.isInIde()?(Hn+=1,wi(),Hn===1&&($i(e),_i(e)),()=>{Hn=Math.max(Hn-1,0),Hn===0&&(Oo?.(),Oo=null,$n&&(lu.delete($n),$n=null),Yo(),Fn=null)}):()=>{}}function Oi(e){return lu.add(e),()=>lu.delete(e)}function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fs(Object(n),!0).forEach(function(u){Li(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){for(var n=0;n<t.length;n++){var u=t[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}function Ri(e,t,n){return t&&Mi(e.prototype,t),e}function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e){return Bi(e)||Ui(e)||ji(e)||zi()}function Bi(e){if(Array.isArray(e))return Po(e)}function Ui(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ji(e,t){if(e){if(typeof e=="string")return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Po(e,t)}}function Po(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function zi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xn={FRONT:"FRONT",BEHIND:"BEHIND"},fn={INIT:"INIT",FIXED:"FIXED",DYNAMIC:"DYNAMIC"},ps=2,Hi=function(){function e(t,n){Pi(this,e),this.init(t,n)}return Ri(e,[{key:"init",value:function(n,u){this.param=n,this.callUpdate=u,this.sizes=new Map,this.firstRangeTotalSize=0,this.firstRangeAverageSize=0,this.lastCalcIndex=0,this.fixedSizeValue=0,this.calcType=fn.INIT,this.offset=0,this.direction="",this.range=Object.create(null),n&&this.checkRange(0,n.keeps-1)}},{key:"destroy",value:function(){this.init(null,null)}},{key:"getRange",value:function(){var n=Object.create(null);return n.start=this.range.start,n.end=this.range.end,n.padFront=this.range.padFront,n.padBehind=this.range.padBehind,n}},{key:"isBehind",value:function(){return this.direction===xn.BEHIND}},{key:"isFront",value:function(){return this.direction===xn.FRONT}},{key:"getOffset",value:function(n){return(n<1?0:this.getIndexOffset(n))+this.param.slotHeaderSize}},{key:"updateParam",value:function(n,u){var s=this;this.param&&n in this.param&&(n==="uniqueIds"&&this.sizes.forEach(function(r,o){u.includes(o)||s.sizes.delete(o)}),this.param[n]=u)}},{key:"saveSize",value:function(n,u){this.sizes.set(n,u),this.calcType===fn.INIT?(this.fixedSizeValue=u,this.calcType=fn.FIXED):this.calcType===fn.FIXED&&this.fixedSizeValue!==u&&(this.calcType=fn.DYNAMIC,delete this.fixedSizeValue),this.calcType!==fn.FIXED&&typeof this.firstRangeTotalSize<"u"&&(this.sizes.size<Math.min(this.param.keeps,this.param.uniqueIds.length)?(this.firstRangeTotalSize=Ni(this.sizes.values()).reduce(function(s,r){return s+r},0),this.firstRangeAverageSize=Math.round(this.firstRangeTotalSize/this.sizes.size)):delete this.firstRangeTotalSize)}},{key:"handleDataSourcesChange",value:function(){var n=this.range.start;this.isFront()?n=n-ps:this.isBehind()&&(n=n+ps),n=Math.max(n,0),this.updateRange(this.range.start,this.getEndByStart(n))}},{key:"handleSlotSizeChange",value:function(){this.handleDataSourcesChange()}},{key:"handleScroll",value:function(n){this.direction=n<this.offset?xn.FRONT:xn.BEHIND,this.offset=n,this.param&&(this.direction===xn.FRONT?this.handleFront():this.direction===xn.BEHIND&&this.handleBehind())}},{key:"handleFront",value:function(){var n=this.getScrollOvers();if(!(n>this.range.start)){var u=Math.max(n-this.param.buffer,0);this.checkRange(u,this.getEndByStart(u))}}},{key:"handleBehind",value:function(){var n=this.getScrollOvers();n<this.range.start+this.param.buffer||this.checkRange(n,this.getEndByStart(n))}},{key:"getScrollOvers",value:function(){var n=this.offset-this.param.slotHeaderSize;if(n<=0)return 0;if(this.isFixedType())return Math.floor(n/this.fixedSizeValue);for(var u=0,s=0,r=0,o=this.param.uniqueIds.length;u<=o;){if(s=u+Math.floor((o-u)/2),r=this.getIndexOffset(s),r===n)return s;r<n?u=s+1:r>n&&(o=s-1)}return u>0?--u:0}},{key:"getIndexOffset",value:function(n){if(!n)return 0;for(var u=0,s=0,r=0;r<n;r++)s=this.sizes.get(this.param.uniqueIds[r]),u=u+(typeof s=="number"?s:this.getEstimateSize());return this.lastCalcIndex=Math.max(this.lastCalcIndex,n-1),this.lastCalcIndex=Math.min(this.lastCalcIndex,this.getLastIndex()),u}},{key:"isFixedType",value:function(){return this.calcType===fn.FIXED}},{key:"getLastIndex",value:function(){return this.param.uniqueIds.length-1}},{key:"checkRange",value:function(n,u){var s=this.param.keeps,r=this.param.uniqueIds.length;r<=s?(n=0,u=this.getLastIndex()):u-n<s-1&&(n=u-s+1),this.range.start!==n&&this.updateRange(n,u)}},{key:"updateRange",value:function(n,u){this.range.start=n,this.range.end=u,this.range.padFront=this.getPadFront(),this.range.padBehind=this.getPadBehind(),this.callUpdate(this.getRange())}},{key:"getEndByStart",value:function(n){var u=n+this.param.keeps-1,s=Math.min(u,this.getLastIndex());return s}},{key:"getPadFront",value:function(){return this.isFixedType()?this.fixedSizeValue*this.range.start:this.getIndexOffset(this.range.start)}},{key:"getPadBehind",value:function(){var n=this.range.end,u=this.getLastIndex();return this.isFixedType()?(u-n)*this.fixedSizeValue:this.lastCalcIndex===u?this.getIndexOffset(u)-this.getIndexOffset(n):(u-n)*this.getEstimateSize()}},{key:"getEstimateSize",value:function(){return this.isFixedType()?this.fixedSizeValue:this.firstRangeAverageSize||this.param.estimateSize}}]),e}(),Gi={dataKey:{type:[String,Function],required:!0},dataSources:{type:Array,required:!0,default:function(){return[]}},dataComponent:{type:[Object,Function],required:!0},keeps:{type:Number,default:30},extraProps:{type:Object},estimateSize:{type:Number,default:50},direction:{type:String,default:"vertical"},start:{type:Number,default:0},offset:{type:Number,default:0},topThreshold:{type:Number,default:0},bottomThreshold:{type:Number,default:0},pageMode:{type:Boolean,default:!1},rootTag:{type:String,default:"div"},wrapTag:{type:String,default:"div"},wrapClass:{type:String,default:"wrap"},wrapStyle:{type:Object},itemTag:{type:String,default:"div"},itemClass:{type:String,default:""},itemClassAdd:{type:Function},itemStyle:{type:Object},headerTag:{type:String,default:"div"},headerClass:{type:String,default:""},headerStyle:{type:Object},footerTag:{type:String,default:"div"},footerClass:{type:String,default:""},footerStyle:{type:Object},itemScopedSlots:{type:Object}},Wi={index:{type:Number},event:{type:String},tag:{type:String},horizontal:{type:Boolean},source:{type:Object},component:{type:[Object,Function]},uniqueKey:{type:[String,Number]},extraProps:{type:Object},scopedSlots:{type:Object}},Ki={event:{type:String},uniqueKey:{type:String},tag:{type:String},horizontal:{type:Boolean}},gr=function(t,n,u){var s=null,r=k(function(){return t.horizontal?"offsetWidth":"offsetHeight"}),o=function(){return n.value?n.value[r.value]:0},a=function(){var l=t.event,c=t.uniqueKey,d=t.hasInitial;u(l,c,o(),d)};ln(function(){typeof ResizeObserver<"u"&&(s=new ResizeObserver(function(){a()}),n.value&&s.observe(n.value))}),xa(function(){a()}),hu(function(){s&&(s.disconnect(),s=null)})},Vi=pe({name:"VirtualListItem",props:Wi,emits:["itemResize"],setup:function(t,n){var u=n.emit,s=G(null);return gr(t,s,u),function(){var r=t.tag,o=t.component,a=t.extraProps,i=a===void 0?{}:a,l=t.index,c=t.source,d=t.scopedSlots,h=d===void 0?{}:d,p=t.uniqueKey,g=Du(Du({},i),{},{source:c,index:l});return Pe(r,{key:p,ref:s},{default:function(){return[Pe(o,Du(Du({},g),{},{scopedSlots:h}),null)]}})}}}),hs=pe({name:"VirtualListSlot",props:Ki,emits:["slotResize"],setup:function(t,n){var u=n.slots,s=n.emit,r=G(null);return gr(t,r,s),function(){var o,a=t.tag,i=t.uniqueKey;return Pe(a,{ref:r,key:i},{default:function(){return[(o=u.default)===null||o===void 0?void 0:o.call(u)]}})}}}),nu;(function(e){e.ITEM="itemResize",e.SLOT="slotResize"})(nu||(nu={}));var In;(function(e){e.HEADER="thead",e.FOOTER="tfoot"})(In||(In={}));var Ji=pe({name:"VirtualList",props:Gi,setup:function(t,n){var u=n.emit,s=n.slots,r=n.expose,o=t.direction==="horizontal",a=o?"scrollLeft":"scrollTop",i=G(null),l=G(),c=G(null),d;et(function(){return t.dataSources.length},function(){d.updateParam("uniqueIds",E()),d.handleDataSourcesChange()}),et(function(){return t.keeps},function(U){d.updateParam("keeps",U),d.handleSlotSizeChange()}),et(function(){return t.start},function(U){b(U)}),et(function(){return t.offset},function(U){return w(U)});var h=function(N){return d.sizes.get(N)},p=function(){return t.pageMode?document.documentElement[a]||document.body[a]:l.value?Math.ceil(l.value[a]):0},g=function(){var N=o?"clientWidth":"clientHeight";return t.pageMode?document.documentElement[N]||document.body[N]:l.value?Math.ceil(l.value[N]):0},v=function(){var N=o?"scrollWidth":"scrollHeight";return t.pageMode?document.documentElement[N]||document.body[N]:l.value?Math.ceil(l.value[N]):0},y=function(N,Y,V,Q){u("scroll",Q,d.getRange()),d.isFront()&&t.dataSources.length&&N-t.topThreshold<=0?u("totop"):d.isBehind()&&N+Y+t.bottomThreshold>=V&&u("tobottom")},D=function(N){var Y=p(),V=g(),Q=v();Y<0||Y+V>Q+1||!Q||(d.handleScroll(Y),y(Y,V,Q,N))},E=function(){var N=t.dataKey,Y=t.dataSources,V=Y===void 0?[]:Y;return V.map(function(Q){return typeof N=="function"?N(Q):Q[N]})},m=function(N){i.value=N},C=function(){d=new Hi({slotHeaderSize:0,slotFooterSize:0,keeps:t.keeps,estimateSize:t.estimateSize,buffer:Math.round(t.keeps/3),uniqueIds:E()},m),i.value=d.getRange()},b=function(N){if(N>=t.dataSources.length-1)R();else{var Y=d.getOffset(N);w(Y)}},w=function(N){t.pageMode?(document.body[a]=N,document.documentElement[a]=N):l.value&&(l.value[a]=N)},_=function(){for(var N=[],Y=i.value,V=Y.start,Q=Y.end,J=t.dataSources,ee=t.dataKey,me=t.itemClass,we=t.itemTag,Ee=t.itemStyle,Ne=t.extraProps,Me=t.dataComponent,Le=t.itemScopedSlots,xe=V;xe<=Q;xe++){var Se=J[xe];if(Se){var Te=typeof ee=="function"?ee(Se):Se[ee];typeof Te=="string"||typeof Te=="number"?N.push(Pe(Vi,{index:xe,tag:we,event:nu.ITEM,horizontal:o,uniqueKey:Te,source:Se,extraProps:Ne,component:Me,scopedSlots:Le,style:Ee,class:"".concat(me).concat(t.itemClassAdd?" "+t.itemClassAdd(xe):""),onItemResize:A},null)):console.warn("Cannot get the data-key '".concat(ee,"' from data-sources."))}else console.warn("Cannot get the index '".concat(xe,"' from data-sources."))}return N},A=function(N,Y){d.saveSize(N,Y),u("resized",N,Y)},I=function(N,Y,V){N===In.HEADER?d.updateParam("slotHeaderSize",Y):N===In.FOOTER&&d.updateParam("slotFooterSize",Y),V&&d.handleSlotSizeChange()},R=function U(){if(c.value){var N=c.value[o?"offsetLeft":"offsetTop"];w(N),setTimeout(function(){p()+g()<v()&&U()},3)}},H=function(){if(l.value){var N=l.value.getBoundingClientRect(),Y=l.value.ownerDocument.defaultView,V=o?N.left+Y.pageXOffset:N.top+Y.pageYOffset;d.updateParam("slotHeaderSize",V)}},te=function(){return d.sizes.size};return ba(function(){C()}),ya(function(){w(d.offset)}),ln(function(){t.start?b(t.start):t.offset&&w(t.offset),t.pageMode&&(H(),document.addEventListener("scroll",D,{passive:!1}))}),hu(function(){d.destroy(),t.pageMode&&document.removeEventListener("scroll",D)}),r({scrollToBottom:R,getSizes:te,getSize:h,getOffset:p,getScrollSize:v,getClientSize:g,scrollToOffset:w,scrollToIndex:b}),function(){var U=t.pageMode,N=t.rootTag,Y=t.wrapTag,V=t.wrapClass,Q=t.wrapStyle,J=t.headerTag,ee=t.headerClass,me=t.headerStyle,we=t.footerTag,Ee=t.footerClass,Ne=t.footerStyle,Me=i.value,Le=Me.padFront,xe=Me.padBehind,Se={padding:o?"0px ".concat(xe,"px 0px ").concat(Le,"px"):"".concat(Le,"px 0px ").concat(xe,"px")},Te=Q?Object.assign({},Q,Se):Se,Ue=s.header,nt=s.footer;return Pe(N,{ref:l,onScroll:!U&&D},{default:function(){return[Ue&&Pe(hs,{class:ee,style:me,tag:J,event:nu.SLOT,uniqueKey:In.HEADER,onSlotResize:I},{default:function(){return[Ue()]}}),Pe(Y,{class:V,style:Te},{default:function(){return[_()]}}),nt&&Pe(hs,{class:Ee,style:Ne,tag:we,event:nu.SLOT,uniqueKey:In.FOOTER,onSlotResize:I},{default:function(){return[nt()]}}),Pe("div",{ref:c,style:{width:o?"0px":"100%",height:o?"100%":"0px"}},null)]}})}}});const Yi={class:"image-preview-modal"},Xi={class:"image-wrapper"},Zi=["src","alt"],Qi=pe({__name:"ImagePreviewModal",props:{visible:{type:Boolean},imageSrc:{},imageAlt:{}},emits:["close"],setup(e,{emit:t}){const n=t;function u(){n("close")}return(s,r)=>e.visible&&e.imageSrc?(x(),S("div",{key:0,class:"image-preview-overlay",onClick:Ct(u,["self"])},[f("div",Yi,[f("button",{class:"close-button",type:"button",title:"å…³é—­",onClick:u}," âœ• "),f("div",Xi,[f("img",{src:e.imageSrc,alt:e.imageAlt||"é¢„è§ˆå›¾ç‰‡",class:"preview-image"},null,8,Zi)])])])):M("",!0)}}),ve=(e,t)=>{const n=e.__vccOpts||e;for(const[u,s]of t)n[u]=s;return n},qi=ve(Qi,[["__scopeId","data-v-bc668652"]]),el={class:"user-message-bubble"},tl={key:0,class:"contexts-wrapper"},nl={class:"contexts"},ul={class:"context-icon"},ol={class:"context-label"},sl={key:0,class:"context-images"},rl=["src","alt","onClick"],al={key:0,class:"message-text"},il={key:1,class:"message-images"},ll=["src","alt","onClick"],cl={class:"image-info"},dl={class:"image-name"},fl={class:"image-size"},pl={class:"toggle-icon"},hl={class:"toggle-text"},gl=pe({__name:"UserMessageBubble",props:{message:{},contexts:{}},setup(e){const t=e,n=G(!0),u=k(()=>!t.message.content||!Array.isArray(t.message.content)?{contexts:[],contextImages:[],userContent:[]}:Xu(t.message.content)),s=k(()=>{const m=u.value.userContent;return!m||m.length===0?"":m.filter(C=>C.type==="text"?(C.text?.trim(),!0):!1).map(C=>C.text).join(`
`)}),r=k(()=>{const m=u.value.userContent;return!m||m.length===0?[]:m.filter(C=>C.type==="image")}),o=k(()=>{const m=u.value,C=[];return m.contexts.forEach(b=>{b.type==="file"&&b.path&&C.push({type:"file",label:b.path,path:b.path})}),m.contextImages.length>0&&C.push({type:"image",label:`å›¾ç‰‡ (${m.contextImages.length})`}),C}),a=k(()=>s.value.length>200||r.value.length>2),i=k(()=>o.value.length>0);k(()=>{const m=new Date(t.message.timestamp),C=m.getHours().toString().padStart(2,"0"),b=m.getMinutes().toString().padStart(2,"0");return`${C}:${b}`});function l(){n.value=!n.value}function c(m){return{file:"ğŸ“„",folder:"ğŸ“",url:"ğŸ”—",code:"ğŸ’»"}[m]||"ğŸ“"}function d(m){return m.source.type==="url"&&m.source.url?m.source.url:m.source.type==="base64"&&m.source.data?`data:${m.source.media_type};base64,${m.source.data}`:""}function h(m,C){if(m.source.type==="url"&&m.source.url){const w=m.source.url.split("/");return w[w.length-1]||`image-${C+1}`}return`image.${m.source.media_type.split("/")[1]||"png"}`}function p(m){if(m.source.type==="base64"&&m.source.data){const C=m.source.data.length*3/4;return C<1024?`${C.toFixed(0)} B`:C<1024*1024?`${(C/1024).toFixed(1)} KB`:`${(C/(1024*1024)).toFixed(1)} MB`}return""}const g=G(!1),v=G(""),y=G("");function D(m){const C=d(m);C&&(v.value=C,y.value=h(m,0),g.value=!0)}function E(){g.value=!1}return(m,C)=>(x(),S($e,null,[f("div",el,[i.value?(x(),S("div",tl,[f("div",nl,[(x(!0),S($e,null,Re(o.value,(b,w)=>(x(),S("div",{key:w,class:"context-item"},[f("span",ul,T(c(b.type)),1),f("span",ol,T(b.label),1)]))),128))]),u.value.contextImages.length>0?(x(),S("div",sl,[(x(!0),S($e,null,Re(u.value.contextImages,(b,w)=>(x(),S("div",{key:`context-image-${w}`,class:"context-image-item"},[f("img",{src:d(b),alt:`Context image ${w+1}`,class:"context-image-preview",onClick:_=>D(b)},null,8,rl)]))),128))])):M("",!0)])):M("",!0),f("div",{class:le(["bubble-content",{collapsed:n.value&&a.value}])},[s.value?(x(),S("div",al,T(s.value),1)):M("",!0),r.value.length>0?(x(),S("div",il,[(x(!0),S($e,null,Re(r.value,(b,w)=>(x(),S("div",{key:w,class:"image-item"},[f("img",{src:d(b),alt:`Image ${w+1}`,class:"message-image",onClick:_=>D(b)},null,8,ll),f("div",cl,[f("span",dl,T(h(b,w)),1),f("span",fl,T(p(b)),1)])]))),128))])):M("",!0)],2),a.value?(x(),S("button",{key:1,class:"toggle-button",onClick:l},[f("span",pl,T(n.value?"â–¾":"â–´"),1),f("span",hl,T(n.value?"å±•å¼€":"æ”¶èµ·"),1)])):M("",!0)]),Pe(qi,{visible:g.value,"image-src":v.value,"image-alt":y.value,onClose:E},null,8,["visible","image-src","image-alt"])],64))}}),vl=ve(gl,[["__scopeId","data-v-acd69a13"]]),gs={};function ml(e){let t=gs[e];if(t)return t;t=gs[e]=[];for(let n=0;n<128;n++){const u=String.fromCharCode(n);t.push(u)}for(let n=0;n<e.length;n++){const u=e.charCodeAt(n);t[u]="%"+("0"+u.toString(16).toUpperCase()).slice(-2)}return t}function Mn(e,t){typeof t!="string"&&(t=Mn.defaultChars);const n=ml(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(u){let s="";for(let r=0,o=u.length;r<o;r+=3){const a=parseInt(u.slice(r+1,r+3),16);if(a<128){s+=n[a];continue}if((a&224)===192&&r+3<o){const i=parseInt(u.slice(r+4,r+6),16);if((i&192)===128){const l=a<<6&1984|i&63;l<128?s+="ï¿½ï¿½":s+=String.fromCharCode(l),r+=3;continue}}if((a&240)===224&&r+6<o){const i=parseInt(u.slice(r+4,r+6),16),l=parseInt(u.slice(r+7,r+9),16);if((i&192)===128&&(l&192)===128){const c=a<<12&61440|i<<6&4032|l&63;c<2048||c>=55296&&c<=57343?s+="ï¿½ï¿½ï¿½":s+=String.fromCharCode(c),r+=6;continue}}if((a&248)===240&&r+9<o){const i=parseInt(u.slice(r+4,r+6),16),l=parseInt(u.slice(r+7,r+9),16),c=parseInt(u.slice(r+10,r+12),16);if((i&192)===128&&(l&192)===128&&(c&192)===128){let d=a<<18&1835008|i<<12&258048|l<<6&4032|c&63;d<65536||d>1114111?s+="ï¿½ï¿½ï¿½ï¿½":(d-=65536,s+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),r+=9;continue}}s+="ï¿½"}return s})}Mn.defaultChars=";/?:@&=+$,#";Mn.componentChars="";const vs={};function bl(e){let t=vs[e];if(t)return t;t=vs[e]=[];for(let n=0;n<128;n++){const u=String.fromCharCode(n);/^[0-9a-z]$/i.test(u)?t.push(u):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function gu(e,t,n){typeof t!="string"&&(n=t,t=gu.defaultChars),typeof n>"u"&&(n=!0);const u=bl(t);let s="";for(let r=0,o=e.length;r<o;r++){const a=e.charCodeAt(r);if(n&&a===37&&r+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){s+=e.slice(r,r+3),r+=2;continue}if(a<128){s+=u[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&r+1<o){const i=e.charCodeAt(r+1);if(i>=56320&&i<=57343){s+=encodeURIComponent(e[r]+e[r+1]),r++;continue}}s+="%EF%BF%BD";continue}s+=encodeURIComponent(e[r])}return s}gu.defaultChars=";/?:@&=+$,-_.!~*'()#";gu.componentChars="-_.!~*'()";function Xo(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function ju(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const yl=/^([a-z0-9.+-]+:)/i,xl=/:[0-9]*$/,El=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Sl=["<",">",'"',"`"," ","\r",`
`,"	"],Cl=["{","}","|","\\","^","`"].concat(Sl),kl=["'"].concat(Cl),ms=["%","/","?",";","#"].concat(kl),bs=["/","?","#"],wl=255,ys=/^[+a-z0-9A-Z_-]{0,63}$/,Dl=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xs={javascript:!0,"javascript:":!0},Es={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Zo(e,t){if(e&&e instanceof ju)return e;const n=new ju;return n.parse(e,t),n}ju.prototype.parse=function(e,t){let n,u,s,r=e;if(r=r.trim(),!t&&e.split("#").length===1){const l=El.exec(r);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}let o=yl.exec(r);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,r=r.substr(o.length)),(t||o||r.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=r.substr(0,2)==="//",s&&!(o&&xs[o])&&(r=r.substr(2),this.slashes=!0)),!xs[o]&&(s||o&&!Es[o])){let l=-1;for(let g=0;g<bs.length;g++)u=r.indexOf(bs[g]),u!==-1&&(l===-1||u<l)&&(l=u);let c,d;l===-1?d=r.lastIndexOf("@"):d=r.lastIndexOf("@",l),d!==-1&&(c=r.slice(0,d),r=r.slice(d+1),this.auth=c),l=-1;for(let g=0;g<ms.length;g++)u=r.indexOf(ms[g]),u!==-1&&(l===-1||u<l)&&(l=u);l===-1&&(l=r.length),r[l-1]===":"&&l--;const h=r.slice(0,l);r=r.slice(l),this.parseHost(h),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const g=this.hostname.split(/\./);for(let v=0,y=g.length;v<y;v++){const D=g[v];if(D&&!D.match(ys)){let E="";for(let m=0,C=D.length;m<C;m++)D.charCodeAt(m)>127?E+="x":E+=D[m];if(!E.match(ys)){const m=g.slice(0,v),C=g.slice(v+1),b=D.match(Dl);b&&(m.push(b[1]),C.unshift(b[2])),C.length&&(r=C.join(".")+r),this.hostname=m.join(".");break}}}}this.hostname.length>wl&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=r.indexOf("#");a!==-1&&(this.hash=r.substr(a),r=r.slice(0,a));const i=r.indexOf("?");return i!==-1&&(this.search=r.substr(i),r=r.slice(0,i)),r&&(this.pathname=r),Es[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};ju.prototype.parseHost=function(e){let t=xl.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Tl=Object.freeze(Object.defineProperty({__proto__:null,decode:Mn,encode:gu,format:Xo,parse:Zo},Symbol.toStringTag,{value:"Module"})),vr=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,mr=/[\0-\x1F\x7F-\x9F]/,Il=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Qo=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,br=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,yr=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,_l=Object.freeze(Object.defineProperty({__proto__:null,Any:vr,Cc:mr,Cf:Il,P:Qo,S:br,Z:yr},Symbol.toStringTag,{value:"Module"})),Al=new Uint16Array('áµ<Ã•Ä±ÊŠÒÕ»×ÙµÛŞ¢ß–à à©Šàª‘à¶¡à¹­à¼‰à¼¦áƒŠáˆ¨á‹¡á•á’á“ƒá“Ÿá”¥\0\0\0\0\0\0á•«á›á¦á°’á·á½¾â â†°âŠâ€â»â‘‚â ¤â¤’â´ˆâ¹ˆâ¿ã€–ãŠºã˜¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à €EMabcfglmnoprstu\\bfmsÂ„Â‹ÂÂ•Â˜Â¦Â³Â¹ÃˆÃligè€»Ã†äƒ†Pè€»&ä€¦cuteè€»Ãäƒreve;ä„‚Ä€iyx}rcè€»Ã‚äƒ‚;är;ì€€ğ”„raveè€»Ã€äƒ€pha;ä‘acr;ä„€d;æ©“Ä€gpÂÂ¡on;ä„„f;ì€€ğ”¸plyFunction;æ¡ingè€»Ã…äƒ…Ä€csÂ¾Ãƒr;ì€€ğ’œign;æ‰”ildeè€»Ãƒäƒƒmlè€»Ã„äƒ„Ğ€aceforsuÃ¥Ã»Ã¾Ä—ÄœÄ¢Ä§ÄªÄ€crÃªÃ²kslash;æˆ–Å¶Ã¶Ã¸;æ«§ed;æŒ†y;ä‘Æ€crtÄ…Ä‹Ä”ause;æˆµnoullis;æ„¬a;ä’r;ì€€ğ”…pf;ì€€ğ”¹eve;ä‹˜cÃ²Ä“mpeq;æ‰Ü€HOacdefhilorsuÅÅ‘Å–Æ€ÆÆ¢ÆµÆ·ÆºÇœÈ•É³É¸É¾cy;ä§PYè€»Â©ä‚©Æ€cpyÅÅ¢Åºute;ä„†Ä€;iÅ§Å¨æ‹’talDifferentialD;æ……leys;æ„­È€aeioÆ‰ÆÆ”Æ˜ron;ä„Œdilè€»Ã‡äƒ‡rc;ä„ˆnint;æˆ°ot;ä„ŠÄ€dnÆ§Æ­illa;ä‚¸terDot;ä‚·Ã²Å¿i;ä§rcleÈ€DMPTÇ‡Ç‹Ç‘Ç–ot;æŠ™inus;æŠ–lus;æŠ•imes;æŠ—oÄ€csÇ¢Ç¸kwiseContourIntegral;æˆ²eCurlyÄ€DQÈƒÈoubleQuote;æ€uote;æ€™È€lnpuÈÈ¨É‡É•onÄ€;eÈ¥È¦æˆ·;æ©´Æ€gitÈ¯È¶Èºruent;æ‰¡nt;æˆ¯ourIntegral;æˆ®Ä€frÉŒÉ;æ„‚oduct;æˆnterClockwiseContourIntegral;æˆ³oss;æ¨¯cr;ì€€ğ’pÄ€;CÊ„Ê…æ‹“ap;æ‰Ö€DJSZacefiosÊ Ê¬Ê°Ê´Ê¸Ë‹Ë—Ë¡Ë¦Ì³ÒÄ€;oÅ¹Ê¥trahd;æ¤‘cy;ä‚cy;ä…cy;äÆ€grsÊ¿Ë„Ë‡ger;æ€¡r;æ†¡hv;æ«¤Ä€ayËË•ron;ä„;ä”lÄ€;tËËæˆ‡a;ä”r;ì€€ğ”‡Ä€afË«Ì§Ä€cmË°Ì¢riticalÈ€ADGTÌ€Ì†Ì–Ìœcute;ä‚´oÅ´Ì‹Ì;ä‹™bleAcute;ä‹rave;ä ilde;ä‹œond;æ‹„ferentialD;æ…†Ñ°Ì½\0\0\0Í‚Í”\0Ğ…f;ì€€ğ”»Æ€;DEÍˆÍ‰Íä‚¨ot;æƒœqual;æ‰bleÌ€CDLRUVÍ£Í²Î‚ÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»Í‰nArrow;æ‡“Ä€eoÎ‡Î¤ftÆ€ARTÎÎ–Î¡rrow;æ‡ightArrow;æ‡”eÃ¥ËŠngÄ€LRÎ«Ï„eftÄ€ARÎ³Î¹rrow;æŸ¸ightArrow;æŸºightArrow;æŸ¹ightÄ€ATÏ˜Ïrrow;æ‡’ee;æŠ¨pÉÏ©\0\0Ï¯rrow;æ‡‘ownArrow;æ‡•erticalBar;æˆ¥nÌ€ABLRTaĞ’ĞªĞ°ÑÑ¿Í¼rrowÆ€;BUĞĞĞ¢æ†“ar;æ¤“pArrow;æ‡µreve;äŒ‘eftË’Ğº\0Ñ†\0ÑightVector;æ¥eeVector;æ¥ectorÄ€;BÑ™Ñšæ†½ar;æ¥–ightÇ”Ñ§\0Ñ±eeVector;æ¥ŸectorÄ€;BÑºÑ»æ‡ar;æ¥—eeÄ€;AÒ†Ò‡æŠ¤rrow;æ†§Ä€ctÒ’Ò—r;ì€€ğ’Ÿrok;ä„à €NTacdfglmopqstuxÒ½Ó€Ó„Ó‹ÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶Õ’ÕÕ Õ¥G;ä…ŠHè€»Ãäƒcuteè€»Ã‰äƒ‰Æ€aiyÓ’Ó—Óœron;ä„šrcè€»ÃŠäƒŠ;ä­ot;ä„–r;ì€€ğ”ˆraveè€»Ãˆäƒˆement;æˆˆÄ€apÓºÓ¾cr;ä„’tyÉ“Ô†\0\0Ô’mallSquare;æ—»erySmallSquare;æ–«Ä€gpÔ¦Ôªon;ä„˜f;ì€€ğ”¼silon;ä•uÄ€aiÔ¼Õ‰lÄ€;TÕ‚Õƒæ©µilde;æ‰‚librium;æ‡ŒÄ€ciÕ—Õšr;æ„°m;æ©³a;ä—mlè€»Ã‹äƒ‹Ä€ipÕªÕ¯sts;æˆƒonentialE;æ…‡Ê€cfiosÖ…ÖˆÖÖ²×Œy;ä¤r;ì€€ğ”‰lledÉ“Ö—\0\0Ö£mallSquare;æ—¼erySmallSquare;æ–ªÍ°Öº\0Ö¿\0\0×„f;ì€€ğ”½All;æˆ€riertrf;æ„±cÃ²×‹Ø€JTabcdfgorst×¨×¬×¯×ºØ€Ø’Ø–Ø›ØØ£Ù¬Ù²cy;äƒè€»>ä€¾mmaÄ€;d×·×¸ä“;äœreve;ä„Æ€eiyØ‡ØŒØdil;ä„¢rc;ä„œ;ä“ot;ä„ r;ì€€ğ”Š;æ‹™pf;ì€€ğ”¾eaterÌ€EFGLSTØµÙ„ÙÙ–Ù›Ù¦qualÄ€;LØ¾Ø¿æ‰¥ess;æ‹›ullEqual;æ‰§reater;æª¢ess;æ‰·lantEqual;æ©¾ilde;æ‰³cr;ì€€ğ’¢;æ‰«Ğ€AacfiosuÚ…Ú‹Ú–Ú›ÚÚªÚ¾ÛŠRDcy;äªÄ€ctÚÚ”ek;ä‹‡;äirc;ä„¤r;æ„ŒlbertSpace;æ„‹Ç°Ú¯\0Ú²f;æ„izontalLine;æ”€Ä€ctÛƒÛ…Ã²Ú©rok;ä„¦mpÅ„ÛÛ˜ownHumÃ°Ä¯qual;æ‰Ü€EJOacdfgmnostuÛºÛ¾ÜƒÜ‡ÜÜšÜÜ¡Ü¨İ„İ¸Ş‹ŞŞ•cy;ä•lig;ä„²cy;äcuteè€»ÃäƒÄ€iyÜ“Ü˜rcè€»Ãäƒ;ä˜ot;ä„°r;æ„‘raveè€»ÃŒäƒŒÆ€;apÜ Ü¯Ü¿Ä€cgÜ´Ü·r;ä„ªinaryI;æ…ˆlieÃ³ÏÇ´İ‰\0İ¢Ä€;eİİæˆ¬Ä€grİ“İ˜ral;æˆ«section;æ‹‚isibleÄ€CTİ¬İ²omma;æ£imes;æ¢Æ€gptİ¿ŞƒŞˆon;ä„®f;ì€€ğ•€a;ä™cr;æ„ilde;ä„¨Ç«Şš\0Şcy;ä†lè€»ÃäƒÊ€cfosuŞ¬Ş·Ş¼ß‚ßÄ€iyŞ±Şµrc;ä„´;ä™r;ì€€ğ”pf;ì€€ğ•Ç£ß‡\0ßŒr;ì€€ğ’¥rcy;äˆkcy;ä„Î€HJacfosß¤ß¨ß¬ß±ß½à ‚à ˆcy;ä¥cy;äŒppa;äšÄ€eyß¶ß»dil;ä„¶;äšr;ì€€ğ”pf;ì€€ğ•‚cr;ì€€ğ’¦Ö€JTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§‡à§à¨·à©‡cy;ä‰è€»<ä€¼Ê€cmnprà ·à ¼à¡à¡„à¡ute;ä„¹bda;ä›g;æŸªlacetrf;æ„’r;æ†Æ€aeyà¡—à¡œà¡¡ron;ä„½dil;ä„»;ä›Ä€fsà¡¨à¥°tÔ€ACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥›Îà¥ªÄ€nrà¢ƒà¢gleBracket;æŸ¨rowÆ€;BRà¢™à¢šà¢æ†ar;æ‡¤ightArrow;æ‡†eiling;æŒˆoÇµà¢·\0à£ƒbleBracket;æŸ¦nÇ”à£ˆ\0à£’eeVector;æ¥¡ectorÄ€;Bà£›à£œæ‡ƒar;æ¥™loor;æŒŠightÄ€AVà£¯à£µrrow;æ†”ector;æ¥Ä€erà¤à¤—eÆ€;AVà¤‰à¤Šà¤æŠ£rrow;æ†¤ector;æ¥šiangleÆ€;BEà¤¤à¤¥à¤©æŠ²ar;æ§qual;æŠ´pÆ€DTVà¤·à¥‚à¥ŒownVector;æ¥‘eeVector;æ¥ ectorÄ€;Bà¥–à¥—æ†¿ar;æ¥˜ectorÄ€;Bà¥¥à¥¦æ†¼ar;æ¥’ightÃ¡ÎœsÌ€EFGLSTà¥¾à¦‹à¦•à¦à¦¢à¦­qualGreater;æ‹šullEqual;æ‰¦reater;æ‰¶ess;æª¡lantEqual;æ©½ilde;æ‰²r;ì€€ğ”Ä€;eà¦½à¦¾æ‹˜ftarrow;æ‡šidot;ä„¿Æ€npwà§”à¨–à¨›gÈ€LRlrà§à§·à¨‚à¨eftÄ€ARà§¦à§¬rrow;æŸµightArrow;æŸ·ightArrow;æŸ¶eftÄ€arÎ³à¨ŠightÃ¡Î¿ightÃ¡ÏŠf;ì€€ğ•ƒerÄ€LRà¨¢à¨¬eftArrow;æ†™ightArrow;æ†˜Æ€chtà¨¾à©€à©‚Ã²à¡Œ;æ†°rok;ä…;æ‰ªĞ€acefiosuà©šà©à© à©·à©¼àª…àª‹àªp;æ¤…y;äœÄ€dlà©¥à©¯iumSpace;æŸlintrf;æ„³r;ì€€ğ”nusPlus;æˆ“pf;ì€€ğ•„cÃ²à©¶;äœÒ€Jacefostuàª£àª§àª­à«€à¬”à¬™à¶‘à¶—à¶cy;äŠcute;ä…ƒÆ€aeyàª´àª¹àª¾ron;ä…‡dil;ä……;äÆ€gswà«‡à«°à¬ativeÆ€MTVà«“à«Ÿà«¨ediumSpace;æ€‹hiÄ€cnà«¦à«˜Ã«à«™eryThiÃ®à«™tedÄ€GLà«¸à¬†reaterGreateÃ²Ù³essLesÃ³à©ˆLine;ä€Šr;ì€€ğ”‘È€Bnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä‚ f;æ„•Ú€;CDEGHLNPRSTVà­•à­–à­ªà­¼à®¡à¯«à°„à±à²„à²¦à³˜àµ¡à¶…æ«¬Ä€ouà­›à­¤ngruent;æ‰¢pCap;æ‰­oubleVerticalBar;æˆ¦Æ€lqxà®ƒà®Šà®›ement;æˆ‰ualÄ€;Tà®’à®“æ‰ ilde;ì€€â‰‚Ì¸ists;æˆ„reaterÎ€;EFGLSTà®¶à®·à®½à¯‰à¯“à¯˜à¯¥æ‰¯qual;æ‰±ullEqual;ì€€â‰§Ì¸reater;ì€€â‰«Ì¸ess;æ‰¹lantEqual;ì€€â©¾Ì¸ilde;æ‰µumpÅ„à¯²à¯½ownHump;ì€€â‰Ì¸qual;ì€€â‰Ì¸eÄ€fsà°Šà°§tTriangleÆ€;BEà°šà°›à°¡æ‹ªar;ì€€â§Ì¸qual;æ‹¬sÌ€;EGLSTà°µà°¶à°¼à±„à±‹à±˜æ‰®qual;æ‰°reater;æ‰¸ess;ì€€â‰ªÌ¸lantEqual;ì€€â©½Ì¸ilde;æ‰´estedÄ€GLà±¨à±¹reaterGreater;ì€€âª¢Ì¸essLess;ì€€âª¡Ì¸recedesÆ€;ESà²’à²“à²›æŠ€qual;ì€€âª¯Ì¸lantEqual;æ‹ Ä€eià²«à²¹verseElement;æˆŒghtTriangleÆ€;BEà³‹à³Œà³’æ‹«ar;ì€€â§Ì¸qual;æ‹­Ä€quà³à´ŒuareSuÄ€bpà³¨à³¹setÄ€;Eà³°à³³ì€€âŠÌ¸qual;æ‹¢ersetÄ€;Eà´ƒà´†ì€€âŠÌ¸qual;æ‹£Æ€bcpà´“à´¤àµsetÄ€;Eà´›à´ì€€âŠ‚âƒ’qual;æŠˆceedsÈ€;ESTà´²à´³à´»àµ†æŠqual;ì€€âª°Ì¸lantEqual;æ‹¡ilde;ì€€â‰¿Ì¸ersetÄ€;Eàµ˜àµ›ì€€âŠƒâƒ’qual;æŠ‰ildeÈ€;EFTàµ®àµ¯àµµàµ¿æ‰qual;æ‰„ullEqual;æ‰‡ilde;æ‰‰erticalBar;æˆ¤cr;ì€€ğ’©ildeè€»Ã‘äƒ‘;äÜ€Eacdfgmoprstuvà¶½à·‚à·‰à·•à·›à· à·§à·¼à¸‚à¸ à¸¢à¸²à¸¿à¹„lig;ä…’cuteè€»Ã“äƒ“Ä€iyà·à·“rcè€»Ã”äƒ”;äblac;ä…r;ì€€ğ”’raveè€»Ã’äƒ’Æ€aeià·®à·²à·¶cr;ä…Œga;ä©cron;äŸpf;ì€€ğ•†enCurlyÄ€DQà¸à¸šoubleQuote;æ€œuote;æ€˜;æ©”Ä€clà¸§à¸¬r;ì€€ğ’ªashè€»Ã˜äƒ˜iÅ¬à¸·à¸¼deè€»Ã•äƒ•es;æ¨·mlè€»Ã–äƒ–erÄ€BPà¹‹à¹ Ä€arà¹à¹“r;æ€¾acÄ€ekà¹šà¹œ;æet;æ´arenthesis;æœÒ€acfhilorsà¹¿àº‡àºŠàºàº’àº”àºàº°à»¼rtialD;æˆ‚y;äŸr;ì€€ğ”“i;ä¦;ä usMinus;ä‚±Ä€ipàº¢àº­ncareplanÃ¥Úf;æ„™È€;eioàº¹àººà» à»¤æª»cedesÈ€;ESTà»ˆà»‰à»à»šæ‰ºqual;æª¯lantEqual;æ‰¼ilde;æ‰¾me;æ€³Ä€dpà»©à»®uct;æˆortionÄ€;aÈ¥à»¹l;æˆÄ€cià¼à¼†r;ì€€ğ’«;ä¨È€Ufosà¼‘à¼–à¼›à¼ŸOTè€»"ä€¢r;ì€€ğ””pf;æ„šcr;ì€€ğ’¬Ø€BEacefhiorsuà¼¾à½ƒà½‡à½ à½³à¾§à¾ªà¾­á‚–á‚©á‚´á‚¾arr;æ¤Gè€»Â®ä‚®Æ€cnrà½à½“à½–ute;ä…”g;æŸ«rÄ€;tà½œà½æ† l;æ¤–Æ€aeyà½§à½¬à½±ron;ä…˜dil;ä…–;ä Ä€;và½¸à½¹æ„œerseÄ€EUà¾‚à¾™Ä€lqà¾‡à¾ement;æˆ‹uilibrium;æ‡‹pEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtĞ€ACDFTUVaà¿à¿«à¿³á€¢á€¨á›á‚‡Ï˜Ä€nrà¿†à¿’gleBracket;æŸ©rowÆ€;BLà¿œà¿à¿¡æ†’ar;æ‡¥eftArrow;æ‡„eiling;æŒ‰oÇµà¿¹\0á€…bleBracket;æŸ§nÇ”á€Š\0á€”eeVector;æ¥ectorÄ€;Bá€á€æ‡‚ar;æ¥•loor;æŒ‹Ä€erá€­áƒeÆ€;AVá€µá€¶á€¼æŠ¢rrow;æ†¦ector;æ¥›iangleÆ€;BEáá‘á•æŠ³ar;æ§qual;æŠµpÆ€DTVá£á®á¸ownVector;æ¥eeVector;æ¥œectorÄ€;Bá‚‚á‚ƒæ†¾ar;æ¥”ectorÄ€;Bá‚‘á‚’æ‡€ar;æ¥“Ä€puá‚›á‚f;æ„ndImplies;æ¥°ightarrow;æ‡›Ä€chá‚¹á‚¼r;æ„›;æ†±leDelayed;æ§´Ú€HOacfhimoqstuáƒ¤áƒ±áƒ·áƒ½á„™á„á…‘á…–á…¡á…§á†µá†»á†¿Ä€Ccáƒ©áƒ®Hcy;ä©y;ä¨FTcy;ä¬cute;ä…šÊ€;aeiyá„ˆá„‰á„á„“á„—æª¼ron;ä… dil;ä…rc;ä…œ;ä¡r;ì€€ğ”–ortÈ€DLRUá„ªá„´á„¾á…‰ownArrowÂ»ĞeftArrowÂ»à¢šightArrowÂ»à¿pArrow;æ†‘gma;ä£allCircle;æˆ˜pf;ì€€ğ•ŠÉ²á…­\0\0á…°t;æˆšareÈ€;ISUá…»á…¼á†‰á†¯æ–¡ntersection;æŠ“uÄ€bpá†á†setÄ€;Eá†—á†˜æŠqual;æŠ‘ersetÄ€;Eá†¨á†©æŠqual;æŠ’nion;æŠ”cr;ì€€ğ’®ar;æ‹†È€bcmpá‡ˆá‡›áˆ‰áˆ‹Ä€;sá‡á‡æ‹etÄ€;Eá‡á‡•qual;æŠ†Ä€chá‡ áˆ…eedsÈ€;ESTá‡­á‡®á‡´á‡¿æ‰»qual;æª°lantEqual;æ‰½ilde;æ‰¿ThÃ¡à¾Œ;æˆ‘Æ€;esáˆ’áˆ“áˆ£æ‹‘rsetÄ€;EáˆœáˆæŠƒqual;æŠ‡etÂ»áˆ“Ö€HRSacfhiorsáˆ¾á‰„á‰‰á‰•á‰á‰±á‰¶áŠŸá‹‚á‹ˆá‹‘ORNè€»ÃäƒADE;æ„¢Ä€Hcá‰á‰’cy;ä‹y;ä¦Ä€buá‰šá‰œ;ä€‰;ä¤Æ€aeyá‰¥á‰ªá‰¯ron;ä…¤dil;ä…¢;ä¢r;ì€€ğ”—Ä€eiá‰»áŠ‰Ç²áŠ€\0áŠ‡efore;æˆ´a;ä˜Ä€cnáŠáŠ˜kSpace;ì€€âŸâ€ŠSpace;æ€‰ldeÈ€;EFTáŠ«áŠ¬áŠ²áŠ¼æˆ¼qual;æ‰ƒullEqual;æ‰…ilde;æ‰ˆpf;ì€€ğ•‹ipleDot;æƒ›Ä€ctá‹–á‹›r;ì€€ğ’¯rok;ä…¦à«¡á‹·áŒáŒšáŒ¦\0áŒ¬áŒ±\0\0\0\0\0áŒ¸áŒ½á·á…\0á¿á„áŠáÄ€crá‹»áŒuteè€»ÃšäƒšrÄ€;oáŒ‡áŒˆæ†Ÿcir;æ¥‰rÇ£áŒ“\0áŒ–y;äve;ä…¬Ä€iyáŒáŒ£rcè€»Ã›äƒ›;ä£blac;ä…°r;ì€€ğ”˜raveè€»Ã™äƒ™acr;ä…ªÄ€diáá©erÄ€BPáˆáÄ€aráár;äŸacÄ€eká—á™;æŸet;æµarenthesis;æonÄ€;Pá°á±æ‹ƒlus;æŠÄ€gpá»á¿on;ä…²f;ì€€ğ•ŒĞ€ADETadpsá•á®á¸á„Ï¨á’á—á³rrowÆ€;BDá…á á¤ar;æ¤’ownArrow;æ‡…ownArrow;æ†•quilibrium;æ¥®eeÄ€;Aá‹áŒæŠ¥rrow;æ†¥ownÃ¡Ï³erÄ€LRáá¨eftArrow;æ†–ightArrow;æ†—iÄ€;lá¹áºä’on;ä¥ing;ä…®cr;ì€€ğ’°ilde;ä…¨mlè€»ÃœäƒœÒ€Dbcdefosvá§á¬á°á³á¾á’…á’Šá’á’–ash;æŠ«ar;æ««y;ä’ashÄ€;lá»á¼æŠ©;æ«¦Ä€erá‘ƒá‘…;æ‹Æ€btyá‘Œá‘á‘ºar;æ€–Ä€;iá‘á‘•calÈ€BLSTá‘¡á‘¥á‘ªá‘´ar;æˆ£ine;ä¼eparator;æ˜ilde;æ‰€ThinSpace;æ€Šr;ì€€ğ”™pf;ì€€ğ•cr;ì€€ğ’±dash;æŠªÊ€cefosá’§á’¬á’±á’¶á’¼irc;ä…´dge;æ‹€r;ì€€ğ”špf;ì€€ğ•cr;ì€€ğ’²È€fiosá“‹á“á“’á“˜r;ì€€ğ”›;äpf;ì€€ğ•cr;ì€€ğ’³Ò€AIUacfosuá“±á“µá“¹á“½á”„á”á””á”šá” cy;ä¯cy;ä‡cy;ä®cuteè€»ÃäƒÄ€iyá”‰á”rc;ä…¶;ä«r;ì€€ğ”œpf;ì€€ğ•cr;ì€€ğ’´ml;ä…¸Ğ€Hacdefosá”µá”¹á”¿á•‹á•á•á• á•¤cy;ä–cute;ä…¹Ä€ayá•„á•‰ron;ä…½;ä—ot;ä…»Ç²á•”\0á•›oWidtÃ¨à«™a;ä–r;æ„¨pf;æ„¤cr;ì€€ğ’µà¯¡á–ƒá–Šá–\0á–°á–¶á–¿\0\0\0\0á—†á—›á—«á™Ÿá™­\0áš•áš›áš²áš¹\0áš¾cuteè€»Ã¡äƒ¡reve;ä„ƒÌ€;Ediuyá–œá–á–¡á–£á–¨á–­æˆ¾;ì€€âˆ¾Ì³;æˆ¿rcè€»Ã¢äƒ¢teè‚»Â´Ì†;ä°ligè€»Ã¦äƒ¦Ä€;rÂ²á–º;ì€€ğ”raveè€»Ã äƒ Ä€epá—Šá—–Ä€fpá—á—”sym;æ„µÃ¨á—“ha;ä±Ä€apá—ŸcÄ€clá—¤á—§r;ä„g;æ¨¿É¤á—°\0\0á˜ŠÊ€;adsvá—ºá—»á—¿á˜á˜‡æˆ§nd;æ©•;æ©œlope;æ©˜;æ©šÎ€;elmrszá˜˜á˜™á˜›á˜á˜¿á™á™™æˆ ;æ¦¤eÂ»á˜™sdÄ€;aá˜¥á˜¦æˆ¡Ñ¡á˜°á˜²á˜´á˜¶á˜¸á˜ºá˜¼á˜¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ€;vá™…á™†æˆŸbÄ€;dá™Œá™æŠ¾;æ¦Ä€ptá™”á™—h;æˆ¢Â»Â¹arr;æ¼Ä€gpá™£á™§on;ä„…f;ì€€ğ•’Î€;Eaeiopá‹á™»á™½áš‚áš„áš‡ášŠ;æ©°cir;æ©¯;æ‰Šd;æ‰‹s;ä€§roxÄ€;eá‹áš’Ã±ášƒingè€»Ã¥äƒ¥Æ€ctyáš¡áš¦áš¨r;ì€€ğ’¶;ä€ªmpÄ€;eá‹áš¯Ã±Êˆildeè€»Ã£äƒ£mlè€»Ã¤äƒ¤Ä€ciá›‚á›ˆoninÃ´É²nt;æ¨‘à €Nabcdefiklnoprsuá›­á›±áœ°áœ¼áƒáˆá¸á½áŸ áŸ¦á ¹á¡áœá¤½á¥ˆá¥°ot;æ«­Ä€crá›¶áœkÈ€cepsáœ€áœ…áœáœ“ong;æ‰Œpsilon;ä¶rime;æ€µimÄ€;eáœšáœ›æˆ½q;æ‹Å¶áœ¢áœ¦ee;æŠ½edÄ€;gáœ¬áœ­æŒ…eÂ»áœ­rkÄ€;táœáœ·brk;æ¶Ä€oyáœá;ä±quo;æ€Ê€cmprtá“á›á¡á¤á¨ausÄ€;eÄŠÄ‰ptyv;æ¦°sÃ©áœŒnoÃµÄ“Æ€ahwá¯á±á³;ä²;æ„¶een;æ‰¬r;ì€€ğ”ŸgÎ€costuvwááá³áŸáŸ•áŸ›áŸÆ€aiuá”á–ášÃ°İ rc;æ—¯pÂ»á±Æ€dptá¤á¨á­ot;æ¨€lus;æ¨imes;æ¨‚É±á¹\0\0á¾cup;æ¨†ar;æ˜…riangleÄ€duáŸáŸ’own;æ–½p;æ–³plus;æ¨„eÃ¥á‘„Ã¥á’­arow;æ¤Æ€akoáŸ­á ¦á µÄ€cnáŸ²á £kÆ€lstáŸºÖ«á ‚ozenge;æ§«riangleÈ€;dlrá ’á “á ˜á æ–´own;æ–¾eft;æ—‚ight;æ–¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ–’;æ–‘4;æ–“ck;æ–ˆÄ€eoá ¾á¡Ä€;qá¡ƒá¡†ì€€=âƒ¥uiv;ì€€â‰¡âƒ¥t;æŒÈ€ptwxá¡™á¡á¡§á¡¬f;ì€€ğ•“Ä€;tá‹á¡£omÂ»áŒtie;æ‹ˆØ€DHUVbdhmptuvá¢…á¢–á¢ªá¢»á£—á£›á£¬á£¿á¤…á¤Šá¤á¤¡È€LRlrá¢á¢á¢’á¢”;æ•—;æ•”;æ•–;æ•“Ê€;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ•;æ•¦;æ•©;æ•¤;æ•§È€LRlrá¢³á¢µá¢·á¢¹;æ•;æ•š;æ•œ;æ•™Î€;HLRhlrá£Šá£‹á£á£á£‘á£“á£•æ•‘;æ•¬;æ•£;æ• ;æ•«;æ•¢;æ•Ÿox;æ§‰È€LRlrá£¤á£¦á£¨á£ª;æ••;æ•’;æ”;æ”ŒÊ€;DUduÚ½á£·á£¹á£»á£½;æ•¥;æ•¨;æ”¬;æ”´inus;æŠŸlus;æŠimes;æŠ È€LRlrá¤™á¤›á¤á¤Ÿ;æ•›;æ•˜;æ”˜;æ””Î€;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ”‚;æ•ª;æ•¡;æ•;æ”¼;æ”¤;æ”œÄ€evÄ£á¥‚barè€»Â¦ä‚¦È€ceioá¥‘á¥–á¥šá¥ r;ì€€ğ’·mi;æmÄ€;eáœšáœœlÆ€;bhá¥¨á¥©á¥«äœ;æ§…sub;æŸˆÅ¬á¥´á¥¾lÄ€;eá¥¹á¥ºæ€¢tÂ»á¥ºpÆ€;EeÄ¯á¦…á¦‡;æª®Ä€;qÛœÛ›à³¡á¦§\0á§¨á¨‘á¨•á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­’\0á¯½\0á°ŒÆ€cprá¦­á¦²á§ute;ä„‡Ì€;abcdsá¦¿á§€á§„á§Šá§•á§™æˆ©nd;æ©„rcup;æ©‰Ä€auá§á§’p;æ©‹p;æ©‡ot;æ©€;ì€€âˆ©ï¸€Ä€eoá§¢á§¥t;æÃ®Ú“È€aeiuá§°á§»á¨á¨…Ç°á§µ\0á§¸s;æ©on;ä„dilè€»Ã§äƒ§rc;ä„‰psÄ€;sá¨Œá¨æ©Œm;æ©ot;ä„‹Æ€dmná¨›á¨ á¨¦ilè‚»Â¸Æ­ptyv;æ¦²tè„€Â¢;eá¨­á¨®ä‚¢rÃ¤Æ²r;ì€€ğ” Æ€ceiá¨½á©€á©y;ä‘‡ckÄ€;má©‡á©ˆæœ“arkÂ»á©ˆ;ä‡rÎ€;Ecefmsá©Ÿá© á©¢á©«áª¤áªªáª®æ—‹;æ§ƒÆ€;elá©©á©ªá©­ä‹†q;æ‰—eÉ¡á©´\0\0áªˆrrowÄ€lrá©¼áªeft;æ†ºight;æ†»Ê€RSacdáª’áª”áª–áªšáªŸÂ»à½‡;æ“ˆst;æŠ›irc;æŠšash;æŠnint;æ¨id;æ«¯cir;æ§‚ubsÄ€;uáª»áª¼æ™£itÂ»áª¼Ë¬á«‡á«”á«º\0á¬ŠonÄ€;eá«á«ä€ºÄ€;qÃ‡Ã†É­á«™\0\0á«¢aÄ€;tá«á«Ÿä€¬;ä€Æ€;flá«¨á«©á««æˆÃ®á… eÄ€mxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬‡Ä€;dáŠ»á¬‚ot;æ©­nÃ´É†Æ€fryá¬á¬”á¬—;ì€€ğ•”oÃ¤É”è„€Â©;sÅ•á¬r;æ„—Ä€aoá¬¥á¬©rr;æ†µss;æœ—Ä€cuá¬²á¬·r;ì€€ğ’¸Ä€bpá¬¼á­„Ä€;eá­á­‚æ«;æ«‘Ä€;eá­‰á­Šæ«;æ«’dot;æ‹¯Î€delprvwá­ á­¬á­·á®‚á®¬á¯”á¯¹arrÄ€lrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æ‹c;æ‹ŸarrÄ€;pá­¿á®€æ†¶;æ¤½Ì€;bcdosá®á®á®–á®¡á®¥á®¨æˆªrcap;æ©ˆÄ€auá®›á®p;æ©†p;æ©Šot;æŠr;æ©…;ì€€âˆªï¸€È€alrvá®µá®¿á¯á¯£rrÄ€;má®¼á®½æ†·;æ¤¼yÆ€evwá¯‡á¯”á¯˜qÉ°á¯\0\0á¯’reÃ£á­³uÃ£á­µee;æ‹edge;æ‹enè€»Â¤ä‚¤earrowÄ€lrá¯®á¯³eftÂ»á®€ightÂ»á®½eÃ¤á¯Ä€ciá°á°‡oninÃ´Ç·nt;æˆ±lcty;æŒ­à¦€AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²Šá²á²¬á²·á³»á³¿á´áµ»á¶‘á¶«á¶»á·†á·rÃ²Îar;æ¥¥È€glrsá±ˆá±á±’á±”ger;æ€ eth;æ„¸Ã²á„³hÄ€;vá±šá±›æ€Â»à¤ŠÅ«á±¡á±§arow;æ¤aÃ£Ì•Ä€ayá±®á±³ron;ä„;ä´Æ€;aoÌ²á±¼á²„Ä€grÊ¿á²r;æ‡Štseq;æ©·Æ€glmá²‘á²”á²˜è€»Â°ä‚°ta;ä´ptyv;æ¦±Ä€irá²£á²¨sht;æ¥¿;ì€€ğ”¡arÄ€lrá²³á²µÂ»à£œÂ»á€Ê€aegsvá³‚Í¸á³–á³œá³ mÆ€;osÌ¦á³Šá³”ndÄ€;sÌ¦á³‘uit;æ™¦amma;äin;æ‹²Æ€;ioá³§á³¨á³¸äƒ·deè„€Ã·;oá³§á³°ntimes;æ‹‡nÃ¸á³·cy;ä‘’cÉ¯á´†\0\0á´Šrn;æŒop;æŒÊ€lptuwá´˜á´á´¢áµ‰áµ•lar;ä€¤f;ì€€ğ••Ê€;empsÌ‹á´­á´·á´½áµ‚qÄ€;dÍ’á´³ot;æ‰‘inus;æˆ¸lus;æˆ”quare;æŠ¡blebarwedgÃ¥ÃºnÆ€adhá„®áµáµ§ownarrowÃ³á²ƒarpoonÄ€lráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶…karoÃ·à½‚É¯á¶Š\0\0á¶rn;æŒŸop;æŒŒÆ€cotá¶˜á¶£á¶¦Ä€ryá¶á¶¡;ì€€ğ’¹;ä‘•l;æ§¶rok;ä„‘Ä€drá¶°á¶´ot;æ‹±iÄ€;fá¶ºá –æ–¿Ä€ahá·€á·ƒrÃ²Ğ©aÃ²à¾¦angle;æ¦¦Ä€ciá·’á·•y;ä‘Ÿgrarr;æŸ¿à¤€Dacdefglmnopqrstuxá¸á¸‰á¸™á¸¸Õ¸á¸¼á¹‰á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½„á½á½šÄ€Doá¸†á´´oÃ´á²‰Ä€csá¸á¸”uteè€»Ã©äƒ©ter;æ©®È€aioyá¸¢á¸§á¸±á¸¶ron;ä„›rÄ€;cá¸­á¸®æ‰–è€»Ãªäƒªlon;æ‰•;ä‘ot;ä„—Ä€Drá¹á¹…ot;æ‰’;ì€€ğ”¢Æ€;rsá¹á¹‘á¹—æªšaveè€»Ã¨äƒ¨Ä€;dá¹œá¹æª–ot;æª˜È€;ilsá¹ªá¹«á¹²á¹´æª™nters;æ§;æ„“Ä€;dá¹¹á¹ºæª•ot;æª—Æ€apsáº…áº‰áº—cr;ä„“tyÆ€;sváº’áº“áº•æˆ…etÂ»áº“pÄ€1;áºáº¤Ä³áº¡áº£;æ€„;æ€…æ€ƒÄ€gsáºªáº¬;ä…‹p;æ€‚Ä€gpáº´áº¸on;ä„™f;ì€€ğ•–Æ€alsá»„á»á»’rÄ€;sá»Šá»‹æ‹•l;æ§£us;æ©±iÆ€;lvá»šá»›á»ŸäµonÂ»á»›;äµÈ€csuvá»ªá»³á¼‹á¼£Ä€ioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕˆantÄ€glá¼‚á¼†trÂ»á¹essÂ»á¹ºÆ€aeiá¼’á¼–á¼šls;ä€½st;æ‰ŸvÄ€;DÈµá¼ D;æ©¸parsl;æ§¥Ä€Daá¼¯á¼³ot;æ‰“rr;æ¥±Æ€cdiá¼¾á½á»¸r;æ„¯oÃ´Í’Ä€ahá½‰á½‹;ä·è€»Ã°äƒ°Ä€mrá½“á½—lè€»Ã«äƒ«o;æ‚¬Æ€cipá½¡á½¤á½§l;ä€¡sÃ´Õ®Ä€eoá½¬á½´ctatioÃ®Õ™nentialÃ¥Õ¹à§¡á¾’\0á¾\0á¾¡á¾§\0\0á¿†á¿Œ\0á¿“\0á¿¦á¿ªâ€€\0â€ˆâšllingdotseÃ±á¹„y;ä‘„male;æ™€Æ€ilrá¾­á¾³á¿lig;è€€ï¬ƒÉ©á¾¹\0\0á¾½g;è€€ï¬€ig;è€€ï¬„;ì€€ğ”£lig;è€€ï¬lig;ì€€fjÆ€altá¿™á¿œá¿¡t;æ™­ig;è€€ï¬‚ns;æ–±of;ä†’Ç°á¿®\0á¿³f;ì€€ğ•—Ä€akÖ¿á¿·Ä€;vá¿¼á¿½æ‹”;æ«™artint;æ¨Ä€aoâ€Œâ•Ä€csâ€‘â’Î±â€šâ€°â€¸â…âˆ\0âÎ²â€¢â€¥â€§â€ªâ€¬\0â€®è€»Â½ä‚½;æ…“è€»Â¼ä‚¼;æ…•;æ…™;æ…›Æ³â€´\0â€¶;æ…”;æ…–Ê´â€¾â\0\0âƒè€»Â¾ä‚¾;æ…—;æ…œ5;æ…˜Æ¶âŒ\0â;æ…š;æ…8;æ…l;æ„wn;æŒ¢cr;ì€€ğ’»à¢€Eabcdefgijlnorstvâ‚‚â‚‰â‚Ÿâ‚¥â‚°â‚´âƒ°âƒµâƒºâƒ¿â„ƒâ„’â„¸Ì—â„¾â…’â†Ä€;lÙâ‚‡;æªŒÆ€cmpâ‚â‚•â‚ute;ä‡µmaÄ€;dâ‚œá³šä³;æª†reve;ä„ŸÄ€iyâ‚ªâ‚®rc;ä„;ä³ot;ä„¡È€;lqsØ¾Ù‚â‚½âƒ‰Æ€;qsØ¾ÙŒâƒ„lanÃ´Ù¥È€;cdlÙ¥âƒ’âƒ•âƒ¥c;æª©otÄ€;oâƒœâƒæª€Ä€;lâƒ¢âƒ£æª‚;æª„Ä€;eâƒªâƒ­ì€€â‹›ï¸€s;æª”r;ì€€ğ”¤Ä€;gÙ³Ø›mel;æ„·cy;ä‘“È€;EajÙšâ„Œâ„â„;æª’;æª¥;æª¤È€Eaesâ„›â„â„©â„´;æ‰©pÄ€;pâ„£â„¤æªŠroxÂ»â„¤Ä€;qâ„®â„¯æªˆÄ€;qâ„®â„›im;æ‹§pf;ì€€ğ•˜Ä€ciâ…ƒâ…†r;æ„ŠmÆ€;elÙ«â…â…;æª;æªèŒ€>;cdlqr×®â… â…ªâ…®â…³â…¹Ä€ciâ…¥â…§;æª§r;æ©ºot;æ‹—Par;æ¦•uest;æ©¼Ê€adelsâ†„â…ªâ†Ù–â†›Ç°â†‰\0â†proÃ¸â‚r;æ¥¸qÄ€lqØ¿â†–lesÃ³â‚ˆiÃ­Ù«Ä€enâ†£â†­rtneqq;ì€€â‰©ï¸€Ã…â†ªÔ€Aabcefkosyâ‡„â‡‡â‡±â‡µâ‡ºâˆ˜âˆâˆ¯â‰¨â‰½rÃ²Î È€ilmrâ‡â‡”â‡—â‡›rsÃ°á’„fÂ»â€¤ilÃ´Ú©Ä€drâ‡ â‡¤cy;ä‘ŠÆ€;cwà£´â‡«â‡¯ir;æ¥ˆ;æ†­ar;æ„irc;ä„¥Æ€alrâˆâˆâˆ“rtsÄ€;uâˆ‰âˆŠæ™¥itÂ»âˆŠlip;æ€¦con;æŠ¹r;ì€€ğ”¥sÄ€ewâˆ£âˆ©arow;æ¤¥arow;æ¤¦Ê€amoprâˆºâˆ¾â‰ƒâ‰â‰£rr;æ‡¿tht;æˆ»kÄ€lrâ‰‰â‰“eftarrow;æ†©ightarrow;æ†ªf;ì€€ğ•™bar;æ€•Æ€cltâ‰¯â‰´â‰¸r;ì€€ğ’½asÃ¨â‡´rok;ä„§Ä€bpâŠ‚âŠ‡ull;æƒhenÂ»á±›à«¡âŠ£\0âŠª\0âŠ¸â‹…â‹\0â‹•â‹³\0\0â‹¸âŒ¢â§â¢â¿\0â†âªâ´cuteè€»Ã­äƒ­Æ€;iyİ±âŠ°âŠµrcè€»Ã®äƒ®;ä¸Ä€cxâŠ¼âŠ¿y;äµclè€»Â¡ä‚¡Ä€frÎŸâ‹‰;ì€€ğ”¦raveè€»Ã¬äƒ¬È€;inoÜ¾â‹â‹©â‹®Ä€inâ‹¢â‹¦nt;æ¨Œt;æˆ­fin;æ§œta;æ„©lig;ä„³Æ€aopâ‹¾âŒšâŒÆ€cgtâŒ…âŒˆâŒ—r;ä„«Æ€elpÜŸâŒâŒ“inÃ¥ŞarÃ´Ü h;ä„±f;æŠ·ed;ä†µÊ€;cfotÓ´âŒ¬âŒ±âŒ½âare;æ„…inÄ€;tâŒ¸âŒ¹æˆie;æ§doÃ´âŒ™Ê€;celpİ—âŒââ›â¡al;æŠºÄ€grâ•â™erÃ³á•£Ã£âarhk;æ¨—rod;æ¨¼È€cgptâ¯â²â¶â»y;ä‘‘on;ä„¯f;ì€€ğ•ša;ä¹uestè€»Â¿ä‚¿Ä€ciâŠâr;ì€€ğ’¾nÊ€;EdsvÓ´â›ââ¡Ó³;æ‹¹ot;æ‹µÄ€;vâ¦â§æ‹´;æ‹³Ä€;iİ·â®lde;ä„©Ç«â¸\0â¼cy;ä‘–lè€»Ã¯äƒ¯Ì€cfmosuâŒâ—âœâ¡â§âµÄ€iyâ‘â•rc;ä„µ;ä¹r;ì€€ğ”§ath;äˆ·pf;ì€€ğ•›Ç£â¬\0â±r;ì€€ğ’¿rcy;ä‘˜kcy;ä‘”Ğ€acfghjosâ‹â–â¢â§â­â±âµâ»ppaÄ€;vâ“â”äº;ä°Ä€eyâ›â dil;ä„·;äºr;ì€€ğ”¨reen;ä„¸cy;ä‘…cy;ä‘œpf;ì€€ğ•œcr;ì€€ğ“€à®€ABEHabcdefghjlmnoprstuvâ‘°â’â’†â’â’‘â”â”½â•šâ–€â™â™â™¥â™¹â™½âššâš²â›˜ââ¨â‹âŸ€â â ’Æ€artâ‘·â‘ºâ‘¼rÃ²à§†Ã²Î•ail;æ¤›arr;æ¤Ä€;gà¦”â’‹;æª‹ar;æ¥¢à¥£â’¥\0â’ª\0â’±\0\0\0\0\0â’µâ’º\0â“†â“ˆâ“\0â“¹ute;ä„ºmptyv;æ¦´raÃ®à¡Œbda;ä»gÆ€;dlà¢â“â“ƒ;æ¦‘Ã¥à¢;æª…uoè€»Â«ä‚«rĞ€;bfhlpstà¢™â“â“¦â“©â“«â“®â“±â“µÄ€;fà¢â“£s;æ¤Ÿs;æ¤Ã«â‰’p;æ†«l;æ¤¹im;æ¥³l;æ†¢Æ€;aeâ“¿â”€â”„æª«il;æ¤™Ä€;sâ”‰â”Šæª­;ì€€âª­ï¸€Æ€abrâ”•â”™â”rr;æ¤Œrk;æ²Ä€akâ”¢â”¬cÄ€ekâ”¨â”ª;ä»;ä›Ä€esâ”±â”³;æ¦‹lÄ€duâ”¹â”»;æ¦;æ¦È€aeuyâ•†â•‹â•–â•˜ron;ä„¾Ä€diâ•â•”il;ä„¼Ã¬à¢°Ã¢â”©;ä»È€cqrsâ•£â•¦â•­â•½a;æ¤¶uoÄ€;rà¸™á†Ä€duâ•²â•·har;æ¥§shar;æ¥‹h;æ†²Ê€;fgqsâ–‹â–Œà¦‰â—³â—¿æ‰¤tÊ€ahlrtâ–˜â–¤â–·â—‚â—¨rrowÄ€;tà¢™â–¡aÃ©â“¶arpoonÄ€duâ–¯â–´ownÂ»ÑšpÂ»à¥¦eftarrows;æ‡‡ightÆ€ahsâ—â—–â—rrowÄ€;sà£´à¢§arpoonÃ³à¾˜quigarroÃ·â‡°hreetimes;æ‹‹Æ€;qsâ–‹à¦“â—ºlanÃ´à¦¬Ê€;cdgsà¦¬â˜Šâ˜â˜â˜¨c;æª¨otÄ€;oâ˜”â˜•æ©¿Ä€;râ˜šâ˜›æª;æªƒÄ€;eâ˜¢â˜¥ì€€â‹šï¸€s;æª“Ê€adegsâ˜³â˜¹â˜½â™‰â™‹pproÃ¸â“†ot;æ‹–qÄ€gqâ™ƒâ™…Ã´à¦‰gtÃ²â’ŒÃ´à¦›iÃ­à¦²Æ€ilrâ™•à£¡â™šsht;æ¥¼;ì€€ğ”©Ä€;Eà¦œâ™£;æª‘Å¡â™©â™¶rÄ€duâ–²â™®Ä€;là¥¥â™³;æ¥ªlk;æ–„cy;ä‘™Ê€;achtà©ˆâšˆâš‹âš‘âš–rÃ²â—orneÃ²á´ˆard;æ¥«ri;æ—ºÄ€ioâšŸâš¤dot;ä…€ustÄ€;aâš¬âš­æ°cheÂ»âš­È€Eaesâš»âš½â›‰â›”;æ‰¨pÄ€;pâ›ƒâ›„æª‰roxÂ»â›„Ä€;qâ›â›æª‡Ä€;qâ›âš»im;æ‹¦Ğ€abnoptwzâ›©â›´â›·âœšâœ¯ââ‡âÄ€nrâ›®â›±g;æŸ¬r;æ‡½rÃ«à£gÆ€lmrâ›¿âœâœ”eftÄ€arà§¦âœ‡ightÃ¡à§²apsto;æŸ¼ightÃ¡à§½parrowÄ€lrâœ¥âœ©efÃ´â“­ight;æ†¬Æ€aflâœ¶âœ¹âœ½r;æ¦…;ì€€ğ•us;æ¨­imes;æ¨´Å¡â‹âst;æˆ—Ã¡áÆ€;efâ—â˜á €æ—ŠngeÂ»â˜arÄ€;lâ¤â¥ä€¨t;æ¦“Ê€achmtâ³â¶â¼â…â‡rÃ²à¢¨orneÃ²á¶ŒarÄ€;dà¾˜âƒ;æ¥­;æ€ri;æŠ¿Ì€achiqtâ˜âà©€â¢â®â»quo;æ€¹r;ì€€ğ“mÆ€;egà¦²âªâ¬;æª;æªÄ€buâ”ªâ³oÄ€;rà¸Ÿâ¹;æ€šrok;ä…‚è€<;cdhilqrà «âŸ’â˜¹âŸœâŸ âŸ¥âŸªâŸ°Ä€ciâŸ—âŸ™;æª¦r;æ©¹reÃ¥â—²mes;æ‹‰arr;æ¥¶uest;æ©»Ä€PiâŸµâŸ¹ar;æ¦–Æ€;efâ €à¤­á ›æ—ƒrÄ€duâ ‡â shar;æ¥Šhar;æ¥¦Ä€enâ —â ¡rtneqq;ì€€â‰¨ï¸€Ã…â Ü€Dacdefhilnopsuâ¡€â¡…â¢‚â¢â¢“â¢ â¢¥â¢¨â£šâ£¢â£¤àªƒâ£³â¤‚Dot;æˆºÈ€clprâ¡â¡’â¡£â¡½rè€»Â¯ä‚¯Ä€etâ¡—â¡™;æ™‚Ä€;eâ¡â¡Ÿæœ seÂ»â¡ŸÄ€;sá€»â¡¨toÈ€;dluá€»â¡³â¡·â¡»owÃ®ÒŒefÃ´à¤Ã°á‘ker;æ–®Ä€oyâ¢‡â¢Œmma;æ¨©;ä¼ash;æ€”asuredangleÂ»á˜¦r;ì€€ğ”ªo;æ„§Æ€cdnâ¢¯â¢´â£‰roè€»Âµä‚µÈ€;acdá‘¤â¢½â£€â£„sÃ´áš§ir;æ«°otè‚»Â·ÆµusÆ€;bdâ£’á¤ƒâ£“æˆ’Ä€;uá´¼â£˜;æ¨ªÅ£â£â£¡p;æ«›Ã²âˆ’Ã°àªÄ€dpâ£©â£®els;æŠ§f;ì€€ğ•Ä€ctâ£¸â£½r;ì€€ğ“‚posÂ»á–Æ€;lmâ¤‰â¤Šâ¤ä¼timap;æŠ¸à°€GLRVabcdefghijlmoprstuvwâ¥‚â¥“â¥¾â¦‰â¦˜â§šâ§©â¨•â¨šâ©˜â©âªƒâª•âª¤âª¨â¬„â¬‡â­„â­¿â®®â°´â±§â±¼â³©Ä€gtâ¥‡â¥‹;ì€€â‹™Ì¸Ä€;vâ¥à¯ì€€â‰«âƒ’Æ€eltâ¥šâ¥²â¥¶ftÄ€arâ¥¡â¥§rrow;æ‡ightarrow;æ‡;ì€€â‹˜Ì¸Ä€;vâ¥»à±‡ì€€â‰ªâƒ’ightarrow;æ‡Ä€Ddâ¦â¦“ash;æŠ¯ash;æŠ®Ê€bcnptâ¦£â¦§â¦¬â¦±â§ŒlaÂ»Ëute;ä…„g;ì€€âˆ âƒ’Ê€;Eiopà¶„â¦¼â§€â§…â§ˆ;ì€€â©°Ì¸d;ì€€â‰‹Ì¸s;ä…‰roÃ¸à¶„urÄ€;aâ§“â§”æ™®lÄ€;sâ§“à¬¸Ç³â§Ÿ\0â§£pè‚»Â à¬·mpÄ€;eà¯¹à°€Ê€aeouyâ§´â§¾â¨ƒâ¨â¨“Ç°â§¹\0â§»;æ©ƒon;ä…ˆdil;ä…†ngÄ€;dàµ¾â¨Šot;ì€€â©­Ì¸p;æ©‚;ä½ash;æ€“Î€;Aadqsxà®’â¨©â¨­â¨»â©â©…â©rr;æ‡—rÄ€hrâ¨³â¨¶k;æ¤¤Ä€;oá²á°ot;ì€€â‰Ì¸uiÃ¶à­£Ä€eiâ©Šâ©ar;æ¤¨Ã­à®˜istÄ€;sà® à®Ÿr;ì€€ğ”«È€Eestà¯…â©¦â©¹â©¼Æ€;qsà®¼â©­à¯¡Æ€;qsà®¼à¯…â©´lanÃ´à¯¢iÃ­à¯ªÄ€;rà®¶âªÂ»à®·Æ€AapâªŠâªâª‘rÃ²â¥±rr;æ†®ar;æ«²Æ€;svà¾âªœà¾ŒÄ€;dâª¡âª¢æ‹¼;æ‹ºcy;ä‘šÎ€AEadestâª·âªºâª¾â«‚â«…â«¶â«¹rÃ²â¥¦;ì€€â‰¦Ì¸rr;æ†šr;æ€¥È€;fqsà°»â«â«£â«¯tÄ€arâ«”â«™rroÃ·â«ightarroÃ·âªÆ€;qsà°»âªºâ«ªlanÃ´à±•Ä€;sà±•â«´Â»à°¶iÃ­à±Ä€;rà°µâ«¾iÄ€;eà°šà°¥iÃ¤à¶Ä€ptâ¬Œâ¬‘f;ì€€ğ•Ÿè†€Â¬;inâ¬™â¬šâ¬¶ä‚¬nÈ€;Edvà®‰â¬¤â¬¨â¬®;ì€€â‹¹Ì¸ot;ì€€â‹µÌ¸Ç¡à®‰â¬³â¬µ;æ‹·;æ‹¶iÄ€;và²¸â¬¼Ç¡à²¸â­â­ƒ;æ‹¾;æ‹½Æ€aorâ­‹â­£â­©rÈ€;astà­»â­•â­šâ­ŸlleÃ¬à­»l;ì€€â«½âƒ¥;ì€€âˆ‚Ì¸lint;æ¨”Æ€;ceà²’â­°â­³uÃ¥à²¥Ä€;cà²˜â­¸Ä€;eà²’â­½Ã±à²˜È€Aaitâ®ˆâ®‹â®â®§rÃ²â¦ˆrrÆ€;cwâ®”â®•â®™æ†›;ì€€â¤³Ì¸;ì€€â†Ì¸ghtarrowÂ»â®•riÄ€;eà³‹à³–Î€chimpquâ®½â¯â¯™â¬„à­¸â¯¤â¯¯È€;cerà´²â¯†à´·â¯‰uÃ¥àµ…;ì€€ğ“ƒortÉ­â¬…\0\0â¯–arÃ¡â­–mÄ€;eàµ®â¯ŸÄ€;qàµ´àµ³suÄ€bpâ¯«â¯­Ã¥à³¸Ã¥à´‹Æ€bcpâ¯¶â°‘â°™È€;Eesâ¯¿â°€à´¢â°„æŠ„;ì€€â«…Ì¸etÄ€;eà´›â°‹qÄ€;qà´£â°€cÄ€;eà´²â°—Ã±à´¸È€;Eesâ°¢â°£àµŸâ°§æŠ…;ì€€â«†Ì¸etÄ€;eàµ˜â°®qÄ€;qàµ â°£È€gilrâ°½â°¿â±…â±‡Ã¬à¯—ldeè€»Ã±äƒ±Ã§à±ƒiangleÄ€lrâ±’â±œeftÄ€;eà°šâ±šÃ±à°¦ightÄ€;eà³‹â±¥Ã±à³—Ä€;mâ±¬â±­ä½Æ€;esâ±´â±µâ±¹ä€£ro;æ„–p;æ€‡Ò€DHadgilrsâ²â²”â²™â²â²£â²°â²¶â³“â³£ash;æŠ­arr;æ¤„p;ì€€â‰âƒ’ash;æŠ¬Ä€etâ²¨â²¬;ì€€â‰¥âƒ’;ì€€>âƒ’nfin;æ§Æ€Aetâ²½â³â³…rr;æ¤‚;ì€€â‰¤âƒ’Ä€;râ³Šâ³ì€€<âƒ’ie;ì€€âŠ´âƒ’Ä€Atâ³˜â³œrr;æ¤ƒrie;ì€€âŠµâƒ’im;ì€€âˆ¼âƒ’Æ€Aanâ³°â³´â´‚rr;æ‡–rÄ€hrâ³ºâ³½k;æ¤£Ä€;oá§á¥ear;æ¤§á‰“áª•\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµˆâµ âµ¥âµ²â¶„á¬‡\0\0â¶â¶«\0â·ˆâ·\0â·œâ¸™â¸«â¸¾â¹ƒÄ€csâ´±áª—uteè€»Ã³äƒ³Ä€iyâ´¼âµ…rÄ€;cáªâµ‚è€»Ã´äƒ´;ä¾Ê€abiosáª âµ’âµ—Çˆâµšlac;ä…‘v;æ¨¸old;æ¦¼lig;ä…“Ä€crâµ©âµ­ir;æ¦¿;ì€€ğ”¬Í¯âµ¹\0\0âµ¼\0â¶‚n;ä‹›aveè€»Ã²äƒ²;æ§Ä€bmâ¶ˆà·´ar;æ¦µÈ€acitâ¶•â¶˜â¶¥â¶¨rÃ²áª€Ä€irâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹’;æ§€Æ€aeiâ¶±â¶µâ¶¹cr;ä…ga;ä‰Æ€cdnâ·€â·…Çron;ä¿;æ¦¶pf;ì€€ğ• Æ€aelâ·”â·—Ç’r;æ¦·rp;æ¦¹Î€;adiosvâ·ªâ·«â·®â¸ˆâ¸â¸â¸–æˆ¨rÃ²áª†È€;efmâ··â·¸â¸‚â¸…æ©rÄ€;oâ·¾â·¿æ„´fÂ»â·¿è€»Âªä‚ªè€»Âºä‚ºgof;æŠ¶r;æ©–lope;æ©—;æ©›Æ€cloâ¸Ÿâ¸¡â¸§Ã²â¸ashè€»Ã¸äƒ¸l;æŠ˜iÅ¬â¸¯â¸´deè€»ÃµäƒµesÄ€;aÇ›â¸ºs;æ¨¶mlè€»Ã¶äƒ¶bar;æŒ½à«¡â¹\0â¹½\0âº€âº\0âº¢âº¹\0\0â»‹àºœ\0â¼“\0\0â¼«â¾¼\0â¿ˆrÈ€;astĞƒâ¹§â¹²àº…è„€Â¶;lâ¹­â¹®ä‚¶leÃ¬ĞƒÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊ€cimptâº‹âºâº“á¡¥âº—nt;ä€¥od;ä€®il;æ€°enk;æ€±r;ì€€ğ”­Æ€imoâº¨âº°âº´Ä€;vâº­âº®ä†;ä•maÃ´à©¶ne;æ˜Æ€;tvâº¿â»€â»ˆä€chforkÂ»á¿½;ä–Ä€auâ»â»ŸnÄ€ckâ»•â»kÄ€;hâ‡´â»›;æ„Ã¶â‡´sÒ€;abcdemstâ»³â»´á¤ˆâ»¹â»½â¼„â¼†â¼Šâ¼ä€«cir;æ¨£ir;æ¨¢Ä€ouáµ€â¼‚;æ¨¥;æ©²nè‚»Â±àºim;æ¨¦wo;æ¨§Æ€ipuâ¼™â¼ â¼¥ntint;æ¨•f;ì€€ğ•¡ndè€»Â£ä‚£Ô€;Eaceinosuà»ˆâ¼¿â½â½„â½‡â¾â¾‰â¾’â½¾â¾¶;æª³p;æª·uÃ¥à»™Ä€;cà»â½ŒÌ€;acensà»ˆâ½™â½Ÿâ½¦â½¨â½¾pproÃ¸â½ƒurlyeÃ±à»™Ã±à»Æ€aesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ‹¨iÃ­à»ŸmeÄ€;sâ¾ˆàº®æ€²Æ€Easâ½¸â¾â½ºÃ°â½µÆ€dfpà»¬â¾™â¾¯Æ€alsâ¾ â¾¥â¾ªlar;æŒ®ine;æŒ’urf;æŒ“Ä€;tà»»â¾´Ã¯à»»rel;æŠ°Ä€ciâ¿€â¿…r;ì€€ğ“…;äˆncsp;æ€ˆÌ€fiopsuâ¿šâ‹¢â¿Ÿâ¿¥â¿«â¿±r;ì€€ğ”®pf;ì€€ğ•¢rime;æ—cr;ì€€ğ“†Æ€aeoâ¿¸ã€‰ã€“tÄ€eiâ¿¾ã€…rnionÃ³Ú°nt;æ¨–stÄ€;eã€ã€‘ä€¿Ã±á¼™Ã´à¼”àª€ABHabcdefhilmnoprstuxã€ã‘ã•ã™ãƒ ã„ã„«ã…‡ã…¢ã…²ã†ãˆ†ãˆ•ãˆ¤ãˆ©ã‰˜ã‰®ã‰²ãŠãŠ°ãŠ·Æ€artã‡ãŠãŒrÃ²á‚³Ã²Ïail;æ¤œarÃ²á±¥ar;æ¥¤Î€cdenqrtã¨ãµã¸ã¿ã‚ã‚”ãƒŒÄ€euã­ã±;ì€€âˆ½Ì±te;ä…•iÃ£á…®mptyv;æ¦³gÈ€;delà¿‘ã‚‰ã‚‹ã‚;æ¦’;æ¦¥Ã¥à¿‘uoè€»Â»ä‚»rÖ€;abcfhlpstwà¿œã‚¬ã‚¯ã‚·ã‚¹ã‚¼ã‚¾ãƒ€ãƒƒãƒ‡ãƒŠp;æ¥µÄ€;fà¿ ã‚´s;æ¤ ;æ¤³s;æ¤Ã«â‰Ã°âœ®l;æ¥…im;æ¥´l;æ†£;æ†Ä€aiãƒ‘ãƒ•il;æ¤šoÄ€;nãƒ›ãƒœæˆ¶alÃ³à¼Æ€abrãƒ§ãƒªãƒ®rÃ²áŸ¥rk;æ³Ä€akãƒ³ãƒ½cÄ€ekãƒ¹ãƒ»;ä½;äÄ€esã„‚ã„„;æ¦ŒlÄ€duã„Šã„Œ;æ¦;æ¦È€aeuyã„—ã„œã„§ã„©ron;ä…™Ä€diã„¡ã„¥il;ä…—Ã¬à¿²Ã¢ãƒº;ä‘€È€clqsã„´ã„·ã„½ã…„a;æ¤·dhar;æ¥©uoÄ€;rÈÈh;æ†³Æ€acgã…ã…Ÿà½„lÈ€;ipsà½¸ã…˜ã…›á‚œnÃ¥á‚»arÃ´à¾©t;æ–­Æ€ilrã…©á€£ã…®sht;æ¥½;ì€€ğ”¯Ä€aoã…·ã††rÄ€duã…½ã…¿Â»Ñ»Ä€;lá‚‘ã†„;æ¥¬Ä€;vã†‹ã†Œä;ä±Æ€gnsã†•ã‡¹ã‡¼htÌ€ahlrstã†¤ã†°ã‡‚ã‡˜ã‡¤ã‡®rrowÄ€;tà¿œã†­aÃ©ãƒˆarpoonÄ€duã†»ã†¿owÃ®ã…¾pÂ»á‚’eftÄ€ahã‡Šã‡rrowÃ³à¿ªarpoonÃ³Õ‘ightarrows;æ‡‰quigarroÃ·ãƒ‹hreetimes;æ‹Œg;ä‹šingdotseÃ±á¼²Æ€ahmãˆãˆãˆ“rÃ²à¿ªaÃ²Õ‘;æ€oustÄ€;aãˆãˆŸæ±cheÂ»ãˆŸmid;æ«®È€abptãˆ²ãˆ½ã‰€ã‰’Ä€nrãˆ·ãˆºg;æŸ­r;æ‡¾rÃ«á€ƒÆ€aflã‰‡ã‰Šã‰r;æ¦†;ì€€ğ•£us;æ¨®imes;æ¨µÄ€apã‰ã‰§rÄ€;gã‰£ã‰¤ä€©t;æ¦”olint;æ¨’arÃ²ã‡£È€achqã‰»ãŠ€á‚¼ãŠ…quo;æ€ºr;ì€€ğ“‡Ä€buãƒ»ãŠŠoÄ€;rÈ”È“Æ€hirãŠ—ãŠ›ãŠ reÃ¥ã‡¸mes;æ‹ŠiÈ€;eflãŠªá™á ¡ãŠ«æ–¹tri;æ§luhar;æ¥¨;æ„àµ¡ã‹•ã‹›ã‹ŸãŒ¬ãŒ¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ã‘ˆã‘šã’­ã’±ã“Šã“±\0ã˜–\0\0ã˜³cute;ä…›quÃ¯âºÔ€;Eaceinpsyá‡­ã‹³ã‹µã‹¿ãŒ‚ãŒ‹ãŒãŒŸãŒ¦ãŒ©;æª´Ç°ã‹º\0ã‹¼;æª¸on;ä…¡uÃ¥á‡¾Ä€;dá‡³ãŒ‡il;ä…Ÿrc;ä…Æ€EasãŒ–ãŒ˜ãŒ›;æª¶p;æªºim;æ‹©olint;æ¨“iÃ­áˆ„;ä‘otÆ€;beãŒ´áµ‡ãŒµæ‹…;æ©¦Î€Aacmstxã†ãŠã—ã›ãã£ã­rr;æ‡˜rÄ€hrãã’Ã«âˆ¨Ä€;oà¨¶à¨´tè€»Â§ä‚§i;ä€»war;æ¤©mÄ€inã©Ã°nuÃ³Ã±t;æœ¶rÄ€;oã¶â•ì€€ğ”°È€acoyã‚ã†ã‘ã rp;æ™¯Ä€hyã‹ãcy;ä‘‰;ä‘ˆrtÉ­ã™\0\0ãœiÃ¤á‘¤araÃ¬â¹¯è€»Â­ä‚­Ä€gmã¨ã´maÆ€;fvã±ã²ã²äƒ;ä‚Ğ€;deglnpráŠ«ã…ã‰ãã–ãã¡ã¦ot;æ©ªÄ€;qáŠ±áŠ°Ä€;Eã“ã”æª;æª Ä€;Eã›ãœæª;æªŸe;æ‰†lus;æ¨¤arr;æ¥²arÃ²á„½È€aeitã¸ãˆãã—Ä€lsã½ã„lsetmÃ©ãªhp;æ¨³parsl;æ§¤Ä€dlá‘£ã”e;æŒ£Ä€;eãœãæªªÄ€;sã¢ã£æª¬;ì€€âª¬ï¸€Æ€flpã®ã³ã‘‚tcy;ä‘ŒÄ€;bã¸ã¹ä€¯Ä€;aã¾ã¿æ§„r;æŒ¿f;ì€€ğ•¤aÄ€drã‘Ğ‚esÄ€;uã‘”ã‘•æ™ itÂ»ã‘•Æ€csuã‘ ã‘¹ã’ŸÄ€auã‘¥ã‘¯pÄ€;sá†ˆã‘«;ì€€âŠ“ï¸€pÄ€;sá†´ã‘µ;ì€€âŠ”ï¸€uÄ€bpã‘¿ã’Æ€;esá†—á†œã’†etÄ€;eá†—ã’Ã±á†Æ€;esá†¨á†­ã’–etÄ€;eá†¨ã’Ã±á†®Æ€;afá…»ã’¦Ö°rÅ¥ã’«Ö±Â»á…¼arÃ²á…ˆÈ€cemtã’¹ã’¾ã“‚ã“…r;ì€€ğ“ˆtmÃ®Ã±iÃ¬ã•arÃ¦á†¾Ä€arã“ã“•rÄ€;fã“”á¿æ˜†Ä€anã“šã“­ightÄ€epã“£ã“ªpsiloÃ®á» hÃ©âº¯sÂ»â¡’Ê€bcmnpã“»ã•áˆ‰ã–‹ã–Ò€;Edemnprsã”ã”ã”‘ã”•ã”ã”£ã”¬ã”±ã”¶æŠ‚;æ«…ot;æª½Ä€;dá‡šã”šot;æ«ƒult;æ«Ä€Eeã”¨ã”ª;æ«‹;æŠŠlus;æª¿arr;æ¥¹Æ€eiuã”½ã•’ã••tÆ€;enã”ã•…ã•‹qÄ€;qá‡šã”eqÄ€;qã”«ã”¨m;æ«‡Ä€bpã•šã•œ;æ«•;æ«“cÌ€;acensá‡­ã•¬ã•²ã•¹ã•»ãŒ¦pproÃ¸ã‹ºurlyeÃ±á‡¾Ã±á‡³Æ€aesã–‚ã–ˆãŒ›pproÃ¸ãŒšqÃ±ãŒ—g;æ™ªÚ€123;Edehlmnpsã–©ã–¬ã–¯áˆœã–²ã–´ã—€ã—‰ã—•ã—šã—Ÿã—¨ã—­è€»Â¹ä‚¹è€»Â²ä‚²è€»Â³ä‚³;æ«†Ä€osã–¹ã–¼t;æª¾ub;æ«˜Ä€;dáˆ¢ã—…ot;æ«„sÄ€ouã—ã—’l;æŸ‰b;æ«—arr;æ¥»ult;æ«‚Ä€Eeã—¤ã—¦;æ«Œ;æŠ‹lus;æ«€Æ€eiuã—´ã˜‰ã˜ŒtÆ€;enáˆœã—¼ã˜‚qÄ€;qáˆ¢ã–²eqÄ€;qã—§ã—¤m;æ«ˆÄ€bpã˜‘ã˜“;æ«”;æ«–Æ€Aanã˜œã˜ ã˜­rr;æ‡™rÄ€hrã˜¦ã˜¨Ã«âˆ®Ä€;oà¨«à¨©war;æ¤ªligè€»ÃŸäƒŸà¯¡ã™‘ã™ã™ á‹ã™³ã™¹\0ã™¾ã›‚\0\0\0\0\0ã››ãœƒ\0ãœ‰ã¬\0\0\0ã‡É²ã™–\0\0ã™›get;æŒ–;ä„rÃ«à¹ŸÆ€aeyã™¦ã™«ã™°ron;ä…¥dil;ä…£;ä‘‚lrec;æŒ•r;ì€€ğ”±È€eikoãš†ãšãšµãš¼Ç²ãš‹\0ãš‘eÄ€4fáŠ„áŠaÆ€;svãš˜ãš™ãš›ä¸ym;ä‘Ä€cnãš¢ãš²kÄ€asãš¨ãš®pproÃ¸á‹imÂ»áŠ¬sÃ°áŠÄ€asãšºãš®Ã°á‹rnè€»Ã¾äƒ¾Ç¬ÌŸã›†â‹§esè†€Ã—;bdã›ã›ã›˜äƒ—Ä€;aá¤ã›•r;æ¨±;æ¨°Æ€epsã›¡ã›£ãœ€Ã¡â©È€;bcfÒ†ã›¬ã›°ã›´ot;æŒ¶ir;æ«±Ä€;oã›¹ã›¼ì€€ğ•¥rk;æ«šÃ¡ã¢rime;æ€´Æ€aipãœãœ’ã¤dÃ¥á‰ˆÎ€adempstãœ¡ãã€ã‘ã—ãœãŸngleÊ€;dlqrãœ°ãœ±ãœ¶ã€ã‚æ–µownÂ»á¶»eftÄ€;eâ €ãœ¾Ã±à¤®;æ‰œightÄ€;eãŠªã‹Ã±ášot;æ—¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æ€chtã²ã½ãÄ€ryã·ã»;ì€€ğ“‰;ä‘†cy;ä‘›rok;ä…§Ä€ioã‹ãxÃ´á·headÄ€lrã—ã eftarroÃ·à¡ightarrowÂ»à½à¤€AHabcdfghlmoprstuwãŸãŸ“ãŸ—ãŸ¤ãŸ°ãŸ¼ã ã œã £ã ´ã¡‘ã¡ã¡«ã¢©ã£Œã£’ã£ªã£¶rÃ²Ï­ar;æ¥£Ä€crãŸœãŸ¢uteè€»ÃºäƒºÃ²á…rÇ£ãŸª\0ãŸ­y;ä‘ve;ä…­Ä€iyãŸµãŸºrcè€»Ã»äƒ»;ä‘ƒÆ€abhã ƒã †ã ‹rÃ²á­lac;ä…±aÃ²áƒÄ€irã “ã ˜sht;æ¥¾;ì€€ğ”²raveè€»Ã¹äƒ¹Å¡ã §ã ±rÄ€lrã ¬ã ®Â»à¥—Â»á‚ƒlk;æ–€Ä€ctã ¹ã¡É¯ã ¿\0\0ã¡ŠrnÄ€;eã¡…ã¡†æŒœrÂ»ã¡†op;æŒri;æ—¸Ä€alã¡–ã¡šcr;ä…«è‚»Â¨Í‰Ä€gpã¡¢ã¡¦on;ä…³f;ì€€ğ•¦Ì€adhlsuá…‹ã¡¸ã¡½á²ã¢‘ã¢ ownÃ¡á³arpoonÄ€lrã¢ˆã¢ŒefÃ´ã ­ighÃ´ã ¯iÆ€;hlã¢™ã¢šã¢œä…Â»áºonÂ»ã¢šparrows;æ‡ˆÆ€citã¢°ã£„ã£ˆÉ¯ã¢¶\0\0ã£rnÄ€;eã¢¼ã¢½æŒrÂ»ã¢½op;æŒng;ä…¯ri;æ—¹cr;ì€€ğ“ŠÆ€dirã£™ã£ã£¢ot;æ‹°lde;ä…©iÄ€;fãœ°ã£¨Â»á “Ä€amã£¯ã£²rÃ²ã¢¨lè€»Ã¼äƒ¼angle;æ¦§Ş€ABDacdeflnoprszã¤œã¤Ÿã¤©ã¤­ã¦µã¦¸ã¦½ã§Ÿã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ€;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Ä€nrã¤²ã¤·grt;æ¦œÎ€eknprstã“£ã¥†ã¥‹ã¥’ã¥ã¥¤ã¦–appÃ¡â•othinÃ§áº–Æ€hirã“«â»ˆã¥™opÃ´â¾µÄ€;há·ã¥¢Ã¯ã†Ä€iuã¥©ã¥­gmÃ¡ã³Ä€bpã¥²ã¦„setneqÄ€;qã¥½ã¦€ì€€âŠŠï¸€;ì€€â«‹ï¸€setneqÄ€;qã¦ã¦’ì€€âŠ‹ï¸€;ì€€â«Œï¸€Ä€hrã¦›ã¦ŸetÃ¡ãšœiangleÄ€lrã¦ªã¦¯eftÂ»à¤¥ightÂ»á‘y;ä²ashÂ»á€¶Æ€elrã§„ã§’ã§—Æ€;beâ·ªã§‹ã§ar;æŠ»q;æ‰šlip;æ‹®Ä€btã§œá‘¨aÃ²á‘©r;ì€€ğ”³trÃ©ã¦®suÄ€bpã§¯ã§±Â»à´œÂ»àµ™pf;ì€€ğ•§roÃ°à»»trÃ©ã¦´Ä€cuã¨†ã¨‹r;ì€€ğ“‹Ä€bpã¨ã¨˜nÄ€Eeã¦€ã¨–Â»ã¥¾nÄ€Eeã¦’ã¨Â»ã¦igzag;æ¦šÎ€cefoprsã¨¶ã¨»ã©–ã©›ã©”ã©¡ã©ªirc;ä…µÄ€diã©€ã©‘Ä€bgã©…ã©‰ar;æ©ŸeÄ€;qá—ºã©;æ‰™erp;æ„˜r;ì€€ğ”´pf;ì€€ğ•¨Ä€;eá‘¹ã©¦atÃ¨á‘¹cr;ì€€ğ“Œà«£áãª‡\0ãª‹\0ãªãª›\0\0ãªãª¨ãª«ãª¯\0\0ã«ƒã«\0ã«˜áŸœáŸŸtrÃ©áŸ‘r;ì€€ğ”µÄ€Aaãª”ãª—rÃ²ÏƒrÃ²à§¶;ä¾Ä€Aaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âœ“is;æ‹»Æ€dptá¤ãªµãª¾Ä€flãªºá©;ì€€ğ•©imÃ¥á²Ä€Aaã«‡ã«ŠrÃ²ÏrÃ²à¨Ä€cqã«’á¸r;ì€€ğ“Ä€ptáŸ–ã«œrÃ©áŸ”Ğ€acefiosuã«°ã«½ã¬ˆã¬Œã¬‘ã¬•ã¬›ã¬¡cÄ€uyã«¶ã«»teè€»Ã½äƒ½;ä‘Ä€iyã¬‚ã¬†rc;ä…·;ä‘‹nè€»Â¥ä‚¥r;ì€€ğ”¶cy;ä‘—pf;ì€€ğ•ªcr;ì€€ğ“Ä€cmã¬¦ã¬©y;ä‘lè€»Ã¿äƒ¿Ô€acdefhioswã­‚ã­ˆã­”ã­˜ã­¤ã­©ã­­ã­´ã­ºã®€cute;ä…ºÄ€ayã­ã­’ron;ä…¾;ä·ot;ä…¼Ä€etã­ã­¡trÃ¦á•Ÿa;ä¶r;ì€€ğ”·cy;ä¶grarr;æ‡pf;ì€€ğ•«cr;ì€€ğ“Ä€jnã®…ã®‡;æ€j;æ€Œ'.split("").map(e=>e.charCodeAt(0))),$l=new Uint16Array("È€aglq	\x1BÉ­\0\0p;ä€¦os;ä€§t;ä€¾t;ä€¼uot;ä€¢".split("").map(e=>e.charCodeAt(0)));var co;const Fl=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Ol=(co=String.fromCodePoint)!==null&&co!==void 0?co:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Pl(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Fl.get(e))!==null&&t!==void 0?t:e}var rt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(rt||(rt={}));const Ml=32;var on;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(on||(on={}));function Mo(e){return e>=rt.ZERO&&e<=rt.NINE}function Rl(e){return e>=rt.UPPER_A&&e<=rt.UPPER_F||e>=rt.LOWER_A&&e<=rt.LOWER_F}function Ll(e){return e>=rt.UPPER_A&&e<=rt.UPPER_Z||e>=rt.LOWER_A&&e<=rt.LOWER_Z||Mo(e)}function Nl(e){return e===rt.EQUALS||Ll(e)}var st;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(st||(st={}));var tn;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(tn||(tn={}));class Bl{constructor(t,n,u){this.decodeTree=t,this.emitCodePoint=n,this.errors=u,this.state=st.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=tn.Strict}startEntity(t){this.decodeMode=t,this.state=st.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case st.EntityStart:return t.charCodeAt(n)===rt.NUM?(this.state=st.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=st.NamedEntity,this.stateNamedEntity(t,n));case st.NumericStart:return this.stateNumericStart(t,n);case st.NumericDecimal:return this.stateNumericDecimal(t,n);case st.NumericHex:return this.stateNumericHex(t,n);case st.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Ml)===rt.LOWER_X?(this.state=st.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=st.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,u,s){if(n!==u){const r=u-n;this.result=this.result*Math.pow(s,r)+parseInt(t.substr(n,r),s),this.consumed+=r}}stateNumericHex(t,n){const u=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Mo(s)||Rl(s))n+=1;else return this.addToNumericResult(t,u,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,u,n,16),-1}stateNumericDecimal(t,n){const u=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Mo(s))n+=1;else return this.addToNumericResult(t,u,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,u,n,10),-1}emitNumericEntity(t,n){var u;if(this.consumed<=n)return(u=this.errors)===null||u===void 0||u.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===rt.SEMI)this.consumed+=1;else if(this.decodeMode===tn.Strict)return 0;return this.emitCodePoint(Pl(this.result),this.consumed),this.errors&&(t!==rt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:u}=this;let s=u[this.treeIndex],r=(s&on.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=Ul(u,s,this.treeIndex+Math.max(1,r),o),this.treeIndex<0)return this.result===0||this.decodeMode===tn.Attribute&&(r===0||Nl(o))?0:this.emitNotTerminatedNamedEntity();if(s=u[this.treeIndex],r=(s&on.VALUE_LENGTH)>>14,r!==0){if(o===rt.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==tn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:u}=this,s=(u[n]&on.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,u){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~on.VALUE_LENGTH:s[t+1],u),n===3&&this.emitCodePoint(s[t+2],u),u}end(){var t;switch(this.state){case st.NamedEntity:return this.result!==0&&(this.decodeMode!==tn.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case st.NumericDecimal:return this.emitNumericEntity(0,2);case st.NumericHex:return this.emitNumericEntity(0,3);case st.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case st.EntityStart:return 0}}}function xr(e){let t="";const n=new Bl(e,u=>t+=Ol(u));return function(s,r){let o=0,a=0;for(;(a=s.indexOf("&",a))>=0;){t+=s.slice(o,a),n.startEntity(r);const l=n.write(s,a+1);if(l<0){o=a+n.end();break}o=a+l,a=l===0?o+1:o}const i=t+s.slice(o);return t="",i}}function Ul(e,t,n,u){const s=(t&on.BRANCH_LENGTH)>>7,r=t&on.JUMP_TABLE;if(s===0)return r!==0&&u===r?n:-1;if(r){const i=u-r;return i<0||i>=s?-1:e[n+i]-1}let o=n,a=o+s-1;for(;o<=a;){const i=o+a>>>1,l=e[i];if(l<u)o=i+1;else if(l>u)a=i-1;else return e[i+s]}return-1}const jl=xr(Al);xr($l);function Er(e,t=tn.Legacy){return jl(e,t)}function zl(e){return Object.prototype.toString.call(e)}function qo(e){return zl(e)==="[object String]"}const Hl=Object.prototype.hasOwnProperty;function Gl(e,t){return Hl.call(e,t)}function qu(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(u){e[u]=n[u]})}}),e}function Sr(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function es(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function zu(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const Cr=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Wl=/&([a-z#][a-z0-9]{1,31});/gi,Kl=new RegExp(Cr.source+"|"+Wl.source,"gi"),Vl=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Jl(e,t){if(t.charCodeAt(0)===35&&Vl.test(t)){const u=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return es(u)?zu(u):e}const n=Er(e);return n!==e?n:e}function Yl(e){return e.indexOf("\\")<0?e:e.replace(Cr,"$1")}function Rn(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Kl,function(t,n,u){return n||Jl(t,u)})}const Xl=/[&<>"]/,Zl=/[&<>"]/g,Ql={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function ql(e){return Ql[e]}function an(e){return Xl.test(e)?e.replace(Zl,ql):e}const ec=/[.?*+^$[\]\\(){}|-]/g;function tc(e){return e.replace(ec,"\\$&")}function Ge(e){switch(e){case 9:case 32:return!0}return!1}function cu(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function du(e){return Qo.test(e)||br.test(e)}function fu(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function eo(e){return e=e.trim().replace(/\s+/g," "),"áº".toLowerCase()==="á¹¾"&&(e=e.replace(/áº/g,"ÃŸ")),e.toLowerCase().toUpperCase()}const nc={mdurl:Tl,ucmicro:_l},uc=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Sr,assign:qu,escapeHtml:an,escapeRE:tc,fromCodePoint:zu,has:Gl,isMdAsciiPunct:fu,isPunctChar:du,isSpace:Ge,isString:qo,isValidEntityCode:es,isWhiteSpace:cu,lib:nc,normalizeReference:eo,unescapeAll:Rn,unescapeMd:Yl},Symbol.toStringTag,{value:"Module"}));function oc(e,t,n){let u,s,r,o;const a=e.posMax,i=e.pos;for(e.pos=t+1,u=1;e.pos<a;){if(r=e.src.charCodeAt(e.pos),r===93&&(u--,u===0)){s=!0;break}if(o=e.pos,e.md.inline.skipToken(e),r===91){if(o===e.pos-1)u++;else if(n)return e.pos=i,-1}}let l=-1;return s&&(l=e.pos),e.pos=i,l}function sc(e,t,n){let u,s=t;const r={ok:!1,pos:0,str:""};if(e.charCodeAt(s)===60){for(s++;s<n;){if(u=e.charCodeAt(s),u===10||u===60)return r;if(u===62)return r.pos=s+1,r.str=Rn(e.slice(t+1,s)),r.ok=!0,r;if(u===92&&s+1<n){s+=2;continue}s++}return r}let o=0;for(;s<n&&(u=e.charCodeAt(s),!(u===32||u<32||u===127));){if(u===92&&s+1<n){if(e.charCodeAt(s+1)===32)break;s+=2;continue}if(u===40&&(o++,o>32))return r;if(u===41){if(o===0)break;o--}s++}return t===s||o!==0||(r.str=Rn(e.slice(t,s)),r.pos=s,r.ok=!0),r}function rc(e,t,n,u){let s,r=t;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(u)o.str=u.str,o.marker=u.marker;else{if(r>=n)return o;let a=e.charCodeAt(r);if(a!==34&&a!==39&&a!==40)return o;t++,r++,a===40&&(a=41),o.marker=a}for(;r<n;){if(s=e.charCodeAt(r),s===o.marker)return o.pos=r+1,o.str+=Rn(e.slice(t,r)),o.ok=!0,o;if(s===40&&o.marker===41)return o;s===92&&r+1<n&&r++,r++}return o.can_continue=!0,o.str+=Rn(e.slice(t,r)),o}const ac=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:sc,parseLinkLabel:oc,parseLinkTitle:rc},Symbol.toStringTag,{value:"Module"})),Wt={};Wt.code_inline=function(e,t,n,u,s){const r=e[t];return"<code"+s.renderAttrs(r)+">"+an(r.content)+"</code>"};Wt.code_block=function(e,t,n,u,s){const r=e[t];return"<pre"+s.renderAttrs(r)+"><code>"+an(e[t].content)+`</code></pre>
`};Wt.fence=function(e,t,n,u,s){const r=e[t],o=r.info?Rn(r.info).trim():"";let a="",i="";if(o){const c=o.split(/(\s+)/g);a=c[0],i=c.slice(2).join("")}let l;if(n.highlight?l=n.highlight(r.content,a,i)||an(r.content):l=an(r.content),l.indexOf("<pre")===0)return l+`
`;if(o){const c=r.attrIndex("class"),d=r.attrs?r.attrs.slice():[];c<0?d.push(["class",n.langPrefix+a]):(d[c]=d[c].slice(),d[c][1]+=" "+n.langPrefix+a);const h={attrs:d};return`<pre><code${s.renderAttrs(h)}>${l}</code></pre>
`}return`<pre><code${s.renderAttrs(r)}>${l}</code></pre>
`};Wt.image=function(e,t,n,u,s){const r=e[t];return r.attrs[r.attrIndex("alt")][1]=s.renderInlineAsText(r.children,n,u),s.renderToken(e,t,n)};Wt.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};Wt.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Wt.text=function(e,t){return an(e[t].content)};Wt.html_block=function(e,t){return e[t].content};Wt.html_inline=function(e,t){return e[t].content};function Bn(){this.rules=qu({},Wt)}Bn.prototype.renderAttrs=function(t){let n,u,s;if(!t.attrs)return"";for(s="",n=0,u=t.attrs.length;n<u;n++)s+=" "+an(t.attrs[n][0])+'="'+an(t.attrs[n][1])+'"';return s};Bn.prototype.renderToken=function(t,n,u){const s=t[n];let r="";if(s.hidden)return"";s.block&&s.nesting!==-1&&n&&t[n-1].hidden&&(r+=`
`),r+=(s.nesting===-1?"</":"<")+s.tag,r+=this.renderAttrs(s),s.nesting===0&&u.xhtmlOut&&(r+=" /");let o=!1;if(s.block&&(o=!0,s.nesting===1&&n+1<t.length)){const a=t[n+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===s.tag)&&(o=!1)}return r+=o?`>
`:">",r};Bn.prototype.renderInline=function(e,t,n){let u="";const s=this.rules;for(let r=0,o=e.length;r<o;r++){const a=e[r].type;typeof s[a]<"u"?u+=s[a](e,r,t,n,this):u+=this.renderToken(e,r,t)}return u};Bn.prototype.renderInlineAsText=function(e,t,n){let u="";for(let s=0,r=e.length;s<r;s++)switch(e[s].type){case"text":u+=e[s].content;break;case"image":u+=this.renderInlineAsText(e[s].children,t,n);break;case"html_inline":case"html_block":u+=e[s].content;break;case"softbreak":case"hardbreak":u+=`
`;break}return u};Bn.prototype.render=function(e,t,n){let u="";const s=this.rules;for(let r=0,o=e.length;r<o;r++){const a=e[r].type;a==="inline"?u+=this.renderInline(e[r].children,t,n):typeof s[a]<"u"?u+=s[a](e,r,t,n,this):u+=this.renderToken(e,r,t,n)}return u};function yt(){this.__rules__=[],this.__cache__=null}yt.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};yt.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(u){t.indexOf(u)<0&&t.push(u)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(u){u.enabled&&(n&&u.alt.indexOf(n)<0||e.__cache__[n].push(u.fn))})})};yt.prototype.at=function(e,t,n){const u=this.__find__(e),s=n||{};if(u===-1)throw new Error("Parser rule not found: "+e);this.__rules__[u].fn=t,this.__rules__[u].alt=s.alt||[],this.__cache__=null};yt.prototype.before=function(e,t,n,u){const s=this.__find__(e),r=u||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};yt.prototype.after=function(e,t,n,u){const s=this.__find__(e),r=u||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null};yt.prototype.push=function(e,t,n){const u=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:u.alt||[]}),this.__cache__=null};yt.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(u){const s=this.__find__(u);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+u)}this.__rules__[s].enabled=!0,n.push(u)},this),this.__cache__=null,n};yt.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};yt.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(u){const s=this.__find__(u);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+u)}this.__rules__[s].enabled=!1,n.push(u)},this),this.__cache__=null,n};yt.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Bt(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Bt.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let u=0,s=n.length;u<s;u++)if(n[u][0]===t)return u;return-1};Bt.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Bt.prototype.attrSet=function(t,n){const u=this.attrIndex(t),s=[t,n];u<0?this.attrPush(s):this.attrs[u]=s};Bt.prototype.attrGet=function(t){const n=this.attrIndex(t);let u=null;return n>=0&&(u=this.attrs[n][1]),u};Bt.prototype.attrJoin=function(t,n){const u=this.attrIndex(t);u<0?this.attrPush([t,n]):this.attrs[u][1]=this.attrs[u][1]+" "+n};function kr(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}kr.prototype.Token=Bt;const ic=/\r\n?|\n/g,lc=/\0/g;function cc(e){let t;t=e.src.replace(ic,`
`),t=t.replace(lc,"ï¿½"),e.src=t}function dc(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function fc(e){const t=e.tokens;for(let n=0,u=t.length;n<u;n++){const s=t[n];s.type==="inline"&&e.md.inline.parse(s.content,e.md,e.env,s.children)}}function pc(e){return/^<a[>\s]/i.test(e)}function hc(e){return/^<\/a\s*>/i.test(e)}function gc(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,u=t.length;n<u;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let s=t[n].children,r=0;for(let o=s.length-1;o>=0;o--){const a=s[o];if(a.type==="link_close"){for(o--;s[o].level!==a.level&&s[o].type!=="link_open";)o--;continue}if(a.type==="html_inline"&&(pc(a.content)&&r>0&&r--,hc(a.content)&&r++),!(r>0)&&a.type==="text"&&e.md.linkify.test(a.content)){const i=a.content;let l=e.md.linkify.match(i);const c=[];let d=a.level,h=0;l.length>0&&l[0].index===0&&o>0&&s[o-1].type==="text_special"&&(l=l.slice(1));for(let p=0;p<l.length;p++){const g=l[p].url,v=e.md.normalizeLink(g);if(!e.md.validateLink(v))continue;let y=l[p].text;l[p].schema?l[p].schema==="mailto:"&&!/^mailto:/i.test(y)?y=e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):y=e.md.normalizeLinkText(y):y=e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,"");const D=l[p].index;if(D>h){const b=new e.Token("text","",0);b.content=i.slice(h,D),b.level=d,c.push(b)}const E=new e.Token("link_open","a",1);E.attrs=[["href",v]],E.level=d++,E.markup="linkify",E.info="auto",c.push(E);const m=new e.Token("text","",0);m.content=y,m.level=d,c.push(m);const C=new e.Token("link_close","a",-1);C.level=--d,C.markup="linkify",C.info="auto",c.push(C),h=l[p].lastIndex}if(h<i.length){const p=new e.Token("text","",0);p.content=i.slice(h),p.level=d,c.push(p)}t[n].children=s=Sr(s,o,c)}}}}const wr=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,vc=/\((c|tm|r)\)/i,mc=/\((c|tm|r)\)/ig,bc={c:"Â©",r:"Â®",tm:"â„¢"};function yc(e,t){return bc[t.toLowerCase()]}function xc(e){let t=0;for(let n=e.length-1;n>=0;n--){const u=e[n];u.type==="text"&&!t&&(u.content=u.content.replace(mc,yc)),u.type==="link_open"&&u.info==="auto"&&t--,u.type==="link_close"&&u.info==="auto"&&t++}}function Ec(e){let t=0;for(let n=e.length-1;n>=0;n--){const u=e[n];u.type==="text"&&!t&&wr.test(u.content)&&(u.content=u.content.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â€¦").replace(/([?!])â€¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1â€”").replace(/(^|\s)--(?=\s|$)/mg,"$1â€“").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1â€“")),u.type==="link_open"&&u.info==="auto"&&t--,u.type==="link_close"&&u.info==="auto"&&t++}}function Sc(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(vc.test(e.tokens[t].content)&&xc(e.tokens[t].children),wr.test(e.tokens[t].content)&&Ec(e.tokens[t].children))}const Cc=/['"]/,Ss=/['"]/g,Cs="â€™";function Tu(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function kc(e,t){let n;const u=[];for(let s=0;s<e.length;s++){const r=e[s],o=e[s].level;for(n=u.length-1;n>=0&&!(u[n].level<=o);n--);if(u.length=n+1,r.type!=="text")continue;let a=r.content,i=0,l=a.length;e:for(;i<l;){Ss.lastIndex=i;const c=Ss.exec(a);if(!c)break;let d=!0,h=!0;i=c.index+1;const p=c[0]==="'";let g=32;if(c.index-1>=0)g=a.charCodeAt(c.index-1);else for(n=s-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){g=e[n].content.charCodeAt(e[n].content.length-1);break}let v=32;if(i<l)v=a.charCodeAt(i);else for(n=s+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){v=e[n].content.charCodeAt(0);break}const y=fu(g)||du(String.fromCharCode(g)),D=fu(v)||du(String.fromCharCode(v)),E=cu(g),m=cu(v);if(m?d=!1:D&&(E||y||(d=!1)),E?h=!1:y&&(m||D||(h=!1)),v===34&&c[0]==='"'&&g>=48&&g<=57&&(h=d=!1),d&&h&&(d=y,h=D),!d&&!h){p&&(r.content=Tu(r.content,c.index,Cs));continue}if(h)for(n=u.length-1;n>=0;n--){let C=u[n];if(u[n].level<o)break;if(C.single===p&&u[n].level===o){C=u[n];let b,w;p?(b=t.md.options.quotes[2],w=t.md.options.quotes[3]):(b=t.md.options.quotes[0],w=t.md.options.quotes[1]),r.content=Tu(r.content,c.index,w),e[C.token].content=Tu(e[C.token].content,C.pos,b),i+=w.length-1,C.token===s&&(i+=b.length-1),a=r.content,l=a.length,u.length=n;continue e}}d?u.push({token:s,pos:c.index,single:p,level:o}):h&&p&&(r.content=Tu(r.content,c.index,Cs))}}}function wc(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!Cc.test(e.tokens[t].content)||kc(e.tokens[t].children,e)}function Dc(e){let t,n;const u=e.tokens,s=u.length;for(let r=0;r<s;r++){if(u[r].type!=="inline")continue;const o=u[r].children,a=o.length;for(t=0;t<a;t++)o[t].type==="text_special"&&(o[t].type="text");for(t=n=0;t<a;t++)o[t].type==="text"&&t+1<a&&o[t+1].type==="text"?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}}const fo=[["normalize",cc],["block",dc],["inline",fc],["linkify",gc],["replacements",Sc],["smartquotes",wc],["text_join",Dc]];function ts(){this.ruler=new yt;for(let e=0;e<fo.length;e++)this.ruler.push(fo[e][0],fo[e][1])}ts.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,u=t.length;n<u;n++)t[n](e)};ts.prototype.State=kr;function Kt(e,t,n,u){this.src=e,this.md=t,this.env=n,this.tokens=u,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let r=0,o=0,a=0,i=0,l=s.length,c=!1;o<l;o++){const d=s.charCodeAt(o);if(!c)if(Ge(d)){a++,d===9?i+=4-i%4:i++;continue}else c=!0;(d===10||o===l-1)&&(d!==10&&o++,this.bMarks.push(r),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(i),this.bsCount.push(0),c=!1,a=0,i=0,r=o+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Kt.prototype.push=function(e,t,n){const u=new Bt(e,t,n);return u.block=!0,n<0&&this.level--,u.level=this.level,n>0&&this.level++,this.tokens.push(u),u};Kt.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Kt.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Kt.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const u=this.src.charCodeAt(t);if(!Ge(u))break}return t};Kt.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Ge(this.src.charCodeAt(--t)))return t+1;return t};Kt.prototype.skipChars=function(t,n){for(let u=this.src.length;t<u&&this.src.charCodeAt(t)===n;t++);return t};Kt.prototype.skipCharsBack=function(t,n,u){if(t<=u)return t;for(;t>u;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Kt.prototype.getLines=function(t,n,u,s){if(t>=n)return"";const r=new Array(n-t);for(let o=0,a=t;a<n;a++,o++){let i=0;const l=this.bMarks[a];let c=l,d;for(a+1<n||s?d=this.eMarks[a]+1:d=this.eMarks[a];c<d&&i<u;){const h=this.src.charCodeAt(c);if(Ge(h))h===9?i+=4-(i+this.bsCount[a])%4:i++;else if(c-l<this.tShift[a])i++;else break;c++}i>u?r[o]=new Array(i-u+1).join(" ")+this.src.slice(c,d):r[o]=this.src.slice(c,d)}return r.join("")};Kt.prototype.Token=Bt;const Tc=65536;function po(e,t){const n=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];return e.src.slice(n,u)}function ks(e){const t=[],n=e.length;let u=0,s=e.charCodeAt(u),r=!1,o=0,a="";for(;u<n;)s===124&&(r?(a+=e.substring(o,u-1),o=u):(t.push(a+e.substring(o,u)),a="",o=u+1)),r=s===92,u++,s=e.charCodeAt(u);return t.push(a+e.substring(o)),t}function Ic(e,t,n,u){if(t+2>n)return!1;let s=t+1;if(e.sCount[s]<e.blkIndent||e.sCount[s]-e.blkIndent>=4)return!1;let r=e.bMarks[s]+e.tShift[s];if(r>=e.eMarks[s])return!1;const o=e.src.charCodeAt(r++);if(o!==124&&o!==45&&o!==58||r>=e.eMarks[s])return!1;const a=e.src.charCodeAt(r++);if(a!==124&&a!==45&&a!==58&&!Ge(a)||o===45&&Ge(a))return!1;for(;r<e.eMarks[s];){const C=e.src.charCodeAt(r);if(C!==124&&C!==45&&C!==58&&!Ge(C))return!1;r++}let i=po(e,t+1),l=i.split("|");const c=[];for(let C=0;C<l.length;C++){const b=l[C].trim();if(!b){if(C===0||C===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(b))return!1;b.charCodeAt(b.length-1)===58?c.push(b.charCodeAt(0)===58?"center":"right"):b.charCodeAt(0)===58?c.push("left"):c.push("")}if(i=po(e,t).trim(),i.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;l=ks(i),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop();const d=l.length;if(d===0||d!==c.length)return!1;if(u)return!0;const h=e.parentType;e.parentType="table";const p=e.md.block.ruler.getRules("blockquote"),g=e.push("table_open","table",1),v=[t,0];g.map=v;const y=e.push("thead_open","thead",1);y.map=[t,t+1];const D=e.push("tr_open","tr",1);D.map=[t,t+1];for(let C=0;C<l.length;C++){const b=e.push("th_open","th",1);c[C]&&(b.attrs=[["style","text-align:"+c[C]]]);const w=e.push("inline","",0);w.content=l[C].trim(),w.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let E,m=0;for(s=t+2;s<n&&!(e.sCount[s]<e.blkIndent);s++){let C=!1;for(let w=0,_=p.length;w<_;w++)if(p[w](e,s,n,!0)){C=!0;break}if(C||(i=po(e,s).trim(),!i)||e.sCount[s]-e.blkIndent>=4||(l=ks(i),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop(),m+=d-l.length,m>Tc))break;if(s===t+2){const w=e.push("tbody_open","tbody",1);w.map=E=[t+2,0]}const b=e.push("tr_open","tr",1);b.map=[s,s+1];for(let w=0;w<d;w++){const _=e.push("td_open","td",1);c[w]&&(_.attrs=[["style","text-align:"+c[w]]]);const A=e.push("inline","",0);A.content=l[w]?l[w].trim():"",A.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return E&&(e.push("tbody_close","tbody",-1),E[1]=s),e.push("table_close","table",-1),v[1]=s,e.parentType=h,e.line=s,!0}function _c(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let u=t+1,s=u;for(;u<n;){if(e.isEmpty(u)){u++;continue}if(e.sCount[u]-e.blkIndent>=4){u++,s=u;continue}break}e.line=s;const r=e.push("code_block","code",0);return r.content=e.getLines(t,s,4+e.blkIndent,!1)+`
`,r.map=[t,e.line],!0}function Ac(e,t,n,u){let s=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||s+3>r)return!1;const o=e.src.charCodeAt(s);if(o!==126&&o!==96)return!1;let a=s;s=e.skipChars(s,o);let i=s-a;if(i<3)return!1;const l=e.src.slice(a,s),c=e.src.slice(s,r);if(o===96&&c.indexOf(String.fromCharCode(o))>=0)return!1;if(u)return!0;let d=t,h=!1;for(;d++,!(d>=n||(s=a=e.bMarks[d]+e.tShift[d],r=e.eMarks[d],s<r&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(s)===o&&!(e.sCount[d]-e.blkIndent>=4)&&(s=e.skipChars(s,o),!(s-a<i)&&(s=e.skipSpaces(s),!(s<r)))){h=!0;break}i=e.sCount[t],e.line=d+(h?1:0);const p=e.push("fence","code",0);return p.info=c,p.content=e.getLines(t+1,d,i,!0),p.markup=l,p.map=[t,e.line],!0}function $c(e,t,n,u){let s=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];const o=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(s)!==62)return!1;if(u)return!0;const a=[],i=[],l=[],c=[],d=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let p=!1,g;for(g=t;g<n;g++){const m=e.sCount[g]<e.blkIndent;if(s=e.bMarks[g]+e.tShift[g],r=e.eMarks[g],s>=r)break;if(e.src.charCodeAt(s++)===62&&!m){let b=e.sCount[g]+1,w,_;e.src.charCodeAt(s)===32?(s++,b++,_=!1,w=!0):e.src.charCodeAt(s)===9?(w=!0,(e.bsCount[g]+b)%4===3?(s++,b++,_=!1):_=!0):w=!1;let A=b;for(a.push(e.bMarks[g]),e.bMarks[g]=s;s<r;){const I=e.src.charCodeAt(s);if(Ge(I))I===9?A+=4-(A+e.bsCount[g]+(_?1:0))%4:A++;else break;s++}p=s>=r,i.push(e.bsCount[g]),e.bsCount[g]=e.sCount[g]+1+(w?1:0),l.push(e.sCount[g]),e.sCount[g]=A-b,c.push(e.tShift[g]),e.tShift[g]=s-e.bMarks[g];continue}if(p)break;let C=!1;for(let b=0,w=d.length;b<w;b++)if(d[b](e,g,n,!0)){C=!0;break}if(C){e.lineMax=g,e.blkIndent!==0&&(a.push(e.bMarks[g]),i.push(e.bsCount[g]),c.push(e.tShift[g]),l.push(e.sCount[g]),e.sCount[g]-=e.blkIndent);break}a.push(e.bMarks[g]),i.push(e.bsCount[g]),c.push(e.tShift[g]),l.push(e.sCount[g]),e.sCount[g]=-1}const v=e.blkIndent;e.blkIndent=0;const y=e.push("blockquote_open","blockquote",1);y.markup=">";const D=[t,0];y.map=D,e.md.block.tokenize(e,t,g);const E=e.push("blockquote_close","blockquote",-1);E.markup=">",e.lineMax=o,e.parentType=h,D[1]=e.line;for(let m=0;m<c.length;m++)e.bMarks[m+t]=a[m],e.tShift[m+t]=c[m],e.sCount[m+t]=l[m],e.bsCount[m+t]=i[m];return e.blkIndent=v,!0}function Fc(e,t,n,u){const s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let r=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(r++);if(o!==42&&o!==45&&o!==95)return!1;let a=1;for(;r<s;){const l=e.src.charCodeAt(r++);if(l!==o&&!Ge(l))return!1;l===o&&a++}if(a<3)return!1;if(u)return!0;e.line=t+1;const i=e.push("hr","hr",0);return i.map=[t,e.line],i.markup=Array(a+1).join(String.fromCharCode(o)),!0}function ws(e,t){const n=e.eMarks[t];let u=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(u++);if(s!==42&&s!==45&&s!==43)return-1;if(u<n){const r=e.src.charCodeAt(u);if(!Ge(r))return-1}return u}function Ds(e,t){const n=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];let s=n;if(s+1>=u)return-1;let r=e.src.charCodeAt(s++);if(r<48||r>57)return-1;for(;;){if(s>=u)return-1;if(r=e.src.charCodeAt(s++),r>=48&&r<=57){if(s-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return s<u&&(r=e.src.charCodeAt(s),!Ge(r))?-1:s}function Oc(e,t){const n=e.level+2;for(let u=t+2,s=e.tokens.length-2;u<s;u++)e.tokens[u].level===n&&e.tokens[u].type==="paragraph_open"&&(e.tokens[u+2].hidden=!0,e.tokens[u].hidden=!0,u+=2)}function Pc(e,t,n,u){let s,r,o,a,i=t,l=!0;if(e.sCount[i]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[i]-e.listIndent>=4&&e.sCount[i]<e.blkIndent)return!1;let c=!1;u&&e.parentType==="paragraph"&&e.sCount[i]>=e.blkIndent&&(c=!0);let d,h,p;if((p=Ds(e,i))>=0){if(d=!0,o=e.bMarks[i]+e.tShift[i],h=Number(e.src.slice(o,p-1)),c&&h!==1)return!1}else if((p=ws(e,i))>=0)d=!1;else return!1;if(c&&e.skipSpaces(p)>=e.eMarks[i])return!1;if(u)return!0;const g=e.src.charCodeAt(p-1),v=e.tokens.length;d?(a=e.push("ordered_list_open","ol",1),h!==1&&(a.attrs=[["start",h]])):a=e.push("bullet_list_open","ul",1);const y=[i,0];a.map=y,a.markup=String.fromCharCode(g);let D=!1;const E=e.md.block.ruler.getRules("list"),m=e.parentType;for(e.parentType="list";i<n;){r=p,s=e.eMarks[i];const C=e.sCount[i]+p-(e.bMarks[i]+e.tShift[i]);let b=C;for(;r<s;){const Y=e.src.charCodeAt(r);if(Y===9)b+=4-(b+e.bsCount[i])%4;else if(Y===32)b++;else break;r++}const w=r;let _;w>=s?_=1:_=b-C,_>4&&(_=1);const A=C+_;a=e.push("list_item_open","li",1),a.markup=String.fromCharCode(g);const I=[i,0];a.map=I,d&&(a.info=e.src.slice(o,p-1));const R=e.tight,H=e.tShift[i],te=e.sCount[i],U=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=A,e.tight=!0,e.tShift[i]=w-e.bMarks[i],e.sCount[i]=b,w>=s&&e.isEmpty(i+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,i,n,!0),(!e.tight||D)&&(l=!1),D=e.line-i>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=U,e.tShift[i]=H,e.sCount[i]=te,e.tight=R,a=e.push("list_item_close","li",-1),a.markup=String.fromCharCode(g),i=e.line,I[1]=i,i>=n||e.sCount[i]<e.blkIndent||e.sCount[i]-e.blkIndent>=4)break;let N=!1;for(let Y=0,V=E.length;Y<V;Y++)if(E[Y](e,i,n,!0)){N=!0;break}if(N)break;if(d){if(p=Ds(e,i),p<0)break;o=e.bMarks[i]+e.tShift[i]}else if(p=ws(e,i),p<0)break;if(g!==e.src.charCodeAt(p-1))break}return d?a=e.push("ordered_list_close","ol",-1):a=e.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(g),y[1]=i,e.line=i,e.parentType=m,l&&Oc(e,v),!0}function Mc(e,t,n,u){let s=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],o=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(s)!==91)return!1;function a(E){const m=e.lineMax;if(E>=m||e.isEmpty(E))return null;let C=!1;if(e.sCount[E]-e.blkIndent>3&&(C=!0),e.sCount[E]<0&&(C=!0),!C){const _=e.md.block.ruler.getRules("reference"),A=e.parentType;e.parentType="reference";let I=!1;for(let R=0,H=_.length;R<H;R++)if(_[R](e,E,m,!0)){I=!0;break}if(e.parentType=A,I)return null}const b=e.bMarks[E]+e.tShift[E],w=e.eMarks[E];return e.src.slice(b,w+1)}let i=e.src.slice(s,r+1);r=i.length;let l=-1;for(s=1;s<r;s++){const E=i.charCodeAt(s);if(E===91)return!1;if(E===93){l=s;break}else if(E===10){const m=a(o);m!==null&&(i+=m,r=i.length,o++)}else if(E===92&&(s++,s<r&&i.charCodeAt(s)===10)){const m=a(o);m!==null&&(i+=m,r=i.length,o++)}}if(l<0||i.charCodeAt(l+1)!==58)return!1;for(s=l+2;s<r;s++){const E=i.charCodeAt(s);if(E===10){const m=a(o);m!==null&&(i+=m,r=i.length,o++)}else if(!Ge(E))break}const c=e.md.helpers.parseLinkDestination(i,s,r);if(!c.ok)return!1;const d=e.md.normalizeLink(c.str);if(!e.md.validateLink(d))return!1;s=c.pos;const h=s,p=o,g=s;for(;s<r;s++){const E=i.charCodeAt(s);if(E===10){const m=a(o);m!==null&&(i+=m,r=i.length,o++)}else if(!Ge(E))break}let v=e.md.helpers.parseLinkTitle(i,s,r);for(;v.can_continue;){const E=a(o);if(E===null)break;i+=E,s=r,r=i.length,o++,v=e.md.helpers.parseLinkTitle(i,s,r,v)}let y;for(s<r&&g!==s&&v.ok?(y=v.str,s=v.pos):(y="",s=h,o=p);s<r;){const E=i.charCodeAt(s);if(!Ge(E))break;s++}if(s<r&&i.charCodeAt(s)!==10&&y)for(y="",s=h,o=p;s<r;){const E=i.charCodeAt(s);if(!Ge(E))break;s++}if(s<r&&i.charCodeAt(s)!==10)return!1;const D=eo(i.slice(1,l));return D?(u||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[D]>"u"&&(e.env.references[D]={title:y,href:d}),e.line=o),!0):!1}const Rc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Lc="[a-zA-Z_:][a-zA-Z0-9:._-]*",Nc="[^\"'=<>`\\x00-\\x20]+",Bc="'[^']*'",Uc='"[^"]*"',jc="(?:"+Nc+"|"+Bc+"|"+Uc+")",zc="(?:\\s+"+Lc+"(?:\\s*=\\s*"+jc+")?)",Dr="<[A-Za-z][A-Za-z0-9\\-]*"+zc+"*\\s*\\/?>",Tr="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Hc="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Gc="<[?][\\s\\S]*?[?]>",Wc="<![A-Za-z][^>]*>",Kc="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Vc=new RegExp("^(?:"+Dr+"|"+Tr+"|"+Hc+"|"+Gc+"|"+Wc+"|"+Kc+")"),Jc=new RegExp("^(?:"+Dr+"|"+Tr+")"),En=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Rc.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Jc.source+"\\s*$"),/^$/,!1]];function Yc(e,t,n,u){let s=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(s)!==60)return!1;let o=e.src.slice(s,r),a=0;for(;a<En.length&&!En[a][0].test(o);a++);if(a===En.length)return!1;if(u)return En[a][2];let i=t+1;if(!En[a][1].test(o)){for(;i<n&&!(e.sCount[i]<e.blkIndent);i++)if(s=e.bMarks[i]+e.tShift[i],r=e.eMarks[i],o=e.src.slice(s,r),En[a][1].test(o)){o.length!==0&&i++;break}}e.line=i;const l=e.push("html_block","",0);return l.map=[t,i],l.content=e.getLines(t,i,e.blkIndent,!0),!0}function Xc(e,t,n,u){let s=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.src.charCodeAt(s);if(o!==35||s>=r)return!1;let a=1;for(o=e.src.charCodeAt(++s);o===35&&s<r&&a<=6;)a++,o=e.src.charCodeAt(++s);if(a>6||s<r&&!Ge(o))return!1;if(u)return!0;r=e.skipSpacesBack(r,s);const i=e.skipCharsBack(r,35,s);i>s&&Ge(e.src.charCodeAt(i-1))&&(r=i),e.line=t+1;const l=e.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[t,e.line];const c=e.push("inline","",0);c.content=e.src.slice(s,r).trim(),c.map=[t,e.line],c.children=[];const d=e.push("heading_close","h"+String(a),-1);return d.markup="########".slice(0,a),!0}function Zc(e,t,n){const u=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const s=e.parentType;e.parentType="paragraph";let r=0,o,a=t+1;for(;a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]>=e.blkIndent){let p=e.bMarks[a]+e.tShift[a];const g=e.eMarks[a];if(p<g&&(o=e.src.charCodeAt(p),(o===45||o===61)&&(p=e.skipChars(p,o),p=e.skipSpaces(p),p>=g))){r=o===61?1:2;break}}if(e.sCount[a]<0)continue;let h=!1;for(let p=0,g=u.length;p<g;p++)if(u[p](e,a,n,!0)){h=!0;break}if(h)break}if(!r)return!1;const i=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a+1;const l=e.push("heading_open","h"+String(r),1);l.markup=String.fromCharCode(o),l.map=[t,e.line];const c=e.push("inline","",0);c.content=i,c.map=[t,e.line-1],c.children=[];const d=e.push("heading_close","h"+String(r),-1);return d.markup=String.fromCharCode(o),e.parentType=s,!0}function Qc(e,t,n){const u=e.md.block.ruler.getRules("paragraph"),s=e.parentType;let r=t+1;for(e.parentType="paragraph";r<n&&!e.isEmpty(r);r++){if(e.sCount[r]-e.blkIndent>3||e.sCount[r]<0)continue;let l=!1;for(let c=0,d=u.length;c<d;c++)if(u[c](e,r,n,!0)){l=!0;break}if(l)break}const o=e.getLines(t,r,e.blkIndent,!1).trim();e.line=r;const a=e.push("paragraph_open","p",1);a.map=[t,e.line];const i=e.push("inline","",0);return i.content=o,i.map=[t,e.line],i.children=[],e.push("paragraph_close","p",-1),e.parentType=s,!0}const Iu=[["table",Ic,["paragraph","reference"]],["code",_c],["fence",Ac,["paragraph","reference","blockquote","list"]],["blockquote",$c,["paragraph","reference","blockquote","list"]],["hr",Fc,["paragraph","reference","blockquote","list"]],["list",Pc,["paragraph","reference","blockquote"]],["reference",Mc],["html_block",Yc,["paragraph","reference","blockquote"]],["heading",Xc,["paragraph","reference","blockquote"]],["lheading",Zc],["paragraph",Qc]];function to(){this.ruler=new yt;for(let e=0;e<Iu.length;e++)this.ruler.push(Iu[e][0],Iu[e][1],{alt:(Iu[e][2]||[]).slice()})}to.prototype.tokenize=function(e,t,n){const u=this.ruler.getRules(""),s=u.length,r=e.md.options.maxNesting;let o=t,a=!1;for(;o<n&&(e.line=o=e.skipEmptyLines(o),!(o>=n||e.sCount[o]<e.blkIndent));){if(e.level>=r){e.line=n;break}const i=e.line;let l=!1;for(let c=0;c<s;c++)if(l=u[c](e,o,n,!1),l){if(i>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),o=e.line,o<n&&e.isEmpty(o)&&(a=!0,o++,e.line=o)}};to.prototype.parse=function(e,t,n,u){if(!e)return;const s=new this.State(e,t,n,u);this.tokenize(s,s.line,s.lineMax)};to.prototype.State=Kt;function vu(e,t,n,u){this.src=e,this.env=n,this.md=t,this.tokens=u,this.tokens_meta=Array(u.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}vu.prototype.pushPending=function(){const e=new Bt("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};vu.prototype.push=function(e,t,n){this.pending&&this.pushPending();const u=new Bt(e,t,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),u.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(u),this.tokens_meta.push(s),u};vu.prototype.scanDelims=function(e,t){const n=this.posMax,u=this.src.charCodeAt(e),s=e>0?this.src.charCodeAt(e-1):32;let r=e;for(;r<n&&this.src.charCodeAt(r)===u;)r++;const o=r-e,a=r<n?this.src.charCodeAt(r):32,i=fu(s)||du(String.fromCharCode(s)),l=fu(a)||du(String.fromCharCode(a)),c=cu(s),d=cu(a),h=!d&&(!l||c||i),p=!c&&(!i||d||l);return{can_open:h&&(t||!p||i),can_close:p&&(t||!h||l),length:o}};vu.prototype.Token=Bt;function qc(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function ed(e,t){let n=e.pos;for(;n<e.posMax&&!qc(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const td=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function nd(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,u=e.posMax;if(n+3>u||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const s=e.pending.match(td);if(!s)return!1;const r=s[1],o=e.md.linkify.matchAtStart(e.src.slice(n-r.length));if(!o)return!1;let a=o.url;if(a.length<=r.length)return!1;a=a.replace(/\*+$/,"");const i=e.md.normalizeLink(a);if(!e.md.validateLink(i))return!1;if(!t){e.pending=e.pending.slice(0,-r.length);const l=e.push("link_open","a",1);l.attrs=[["href",i]],l.markup="linkify",l.info="auto";const c=e.push("text","",0);c.content=e.md.normalizeLinkText(a);const d=e.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return e.pos+=a.length-r.length,!0}function ud(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const u=e.pending.length-1,s=e.posMax;if(!t)if(u>=0&&e.pending.charCodeAt(u)===32)if(u>=1&&e.pending.charCodeAt(u-1)===32){let r=u-1;for(;r>=1&&e.pending.charCodeAt(r-1)===32;)r--;e.pending=e.pending.slice(0,r),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<s&&Ge(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const ns=[];for(let e=0;e<256;e++)ns.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){ns[e.charCodeAt(0)]=1});function od(e,t){let n=e.pos;const u=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=u))return!1;let s=e.src.charCodeAt(n);if(s===10){for(t||e.push("hardbreak","br",0),n++;n<u&&(s=e.src.charCodeAt(n),!!Ge(s));)n++;return e.pos=n,!0}let r=e.src[n];if(s>=55296&&s<=56319&&n+1<u){const a=e.src.charCodeAt(n+1);a>=56320&&a<=57343&&(r+=e.src[n+1],n++)}const o="\\"+r;if(!t){const a=e.push("text_special","",0);s<256&&ns[s]!==0?a.content=r:a.content=o,a.markup=o,a.info="escape"}return e.pos=n+1,!0}function sd(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const s=n;n++;const r=e.posMax;for(;n<r&&e.src.charCodeAt(n)===96;)n++;const o=e.src.slice(s,n),a=o.length;if(e.backticksScanned&&(e.backticks[a]||0)<=s)return t||(e.pending+=o),e.pos+=a,!0;let i=n,l;for(;(l=e.src.indexOf("`",i))!==-1;){for(i=l+1;i<r&&e.src.charCodeAt(i)===96;)i++;const c=i-l;if(c===a){if(!t){const d=e.push("code_inline","code",0);d.markup=o,d.content=e.src.slice(n,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=i,!0}e.backticks[c]=l}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=a,!0}function rd(e,t){const n=e.pos,u=e.src.charCodeAt(n);if(t||u!==126)return!1;const s=e.scanDelims(e.pos,!0);let r=s.length;const o=String.fromCharCode(u);if(r<2)return!1;let a;r%2&&(a=e.push("text","",0),a.content=o,r--);for(let i=0;i<r;i+=2)a=e.push("text","",0),a.content=o+o,e.delimiters.push({marker:u,length:0,token:e.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return e.pos+=s.length,!0}function Ts(e,t){let n;const u=[],s=t.length;for(let r=0;r<s;r++){const o=t[r];if(o.marker!==126||o.end===-1)continue;const a=t[o.end];n=e.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[a.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[a.token-1].type==="text"&&e.tokens[a.token-1].content==="~"&&u.push(a.token-1)}for(;u.length;){const r=u.pop();let o=r+1;for(;o<e.tokens.length&&e.tokens[o].type==="s_close";)o++;o--,r!==o&&(n=e.tokens[o],e.tokens[o]=e.tokens[r],e.tokens[r]=n)}}function ad(e){const t=e.tokens_meta,n=e.tokens_meta.length;Ts(e,e.delimiters);for(let u=0;u<n;u++)t[u]&&t[u].delimiters&&Ts(e,t[u].delimiters)}const Ir={tokenize:rd,postProcess:ad};function id(e,t){const n=e.pos,u=e.src.charCodeAt(n);if(t||u!==95&&u!==42)return!1;const s=e.scanDelims(e.pos,u===42);for(let r=0;r<s.length;r++){const o=e.push("text","",0);o.content=String.fromCharCode(u),e.delimiters.push({marker:u,length:s.length,token:e.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return e.pos+=s.length,!0}function Is(e,t){const n=t.length;for(let u=n-1;u>=0;u--){const s=t[u];if(s.marker!==95&&s.marker!==42||s.end===-1)continue;const r=t[s.end],o=u>0&&t[u-1].end===s.end+1&&t[u-1].marker===s.marker&&t[u-1].token===s.token-1&&t[s.end+1].token===r.token+1,a=String.fromCharCode(s.marker),i=e.tokens[s.token];i.type=o?"strong_open":"em_open",i.tag=o?"strong":"em",i.nesting=1,i.markup=o?a+a:a,i.content="";const l=e.tokens[r.token];l.type=o?"strong_close":"em_close",l.tag=o?"strong":"em",l.nesting=-1,l.markup=o?a+a:a,l.content="",o&&(e.tokens[t[u-1].token].content="",e.tokens[t[s.end+1].token].content="",u--)}}function ld(e){const t=e.tokens_meta,n=e.tokens_meta.length;Is(e,e.delimiters);for(let u=0;u<n;u++)t[u]&&t[u].delimiters&&Is(e,t[u].delimiters)}const _r={tokenize:id,postProcess:ld};function cd(e,t){let n,u,s,r,o="",a="",i=e.pos,l=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const c=e.pos,d=e.posMax,h=e.pos+1,p=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(p<0)return!1;let g=p+1;if(g<d&&e.src.charCodeAt(g)===40){for(l=!1,g++;g<d&&(n=e.src.charCodeAt(g),!(!Ge(n)&&n!==10));g++);if(g>=d)return!1;if(i=g,s=e.md.helpers.parseLinkDestination(e.src,g,e.posMax),s.ok){for(o=e.md.normalizeLink(s.str),e.md.validateLink(o)?g=s.pos:o="",i=g;g<d&&(n=e.src.charCodeAt(g),!(!Ge(n)&&n!==10));g++);if(s=e.md.helpers.parseLinkTitle(e.src,g,e.posMax),g<d&&i!==g&&s.ok)for(a=s.str,g=s.pos;g<d&&(n=e.src.charCodeAt(g),!(!Ge(n)&&n!==10));g++);}(g>=d||e.src.charCodeAt(g)!==41)&&(l=!0),g++}if(l){if(typeof e.env.references>"u")return!1;if(g<d&&e.src.charCodeAt(g)===91?(i=g+1,g=e.md.helpers.parseLinkLabel(e,g),g>=0?u=e.src.slice(i,g++):g=p+1):g=p+1,u||(u=e.src.slice(h,p)),r=e.env.references[eo(u)],!r)return e.pos=c,!1;o=r.href,a=r.title}if(!t){e.pos=h,e.posMax=p;const v=e.push("link_open","a",1),y=[["href",o]];v.attrs=y,a&&y.push(["title",a]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=g,e.posMax=d,!0}function dd(e,t){let n,u,s,r,o,a,i,l,c="";const d=e.pos,h=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const p=e.pos+2,g=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(g<0)return!1;if(r=g+1,r<h&&e.src.charCodeAt(r)===40){for(r++;r<h&&(n=e.src.charCodeAt(r),!(!Ge(n)&&n!==10));r++);if(r>=h)return!1;for(l=r,a=e.md.helpers.parseLinkDestination(e.src,r,e.posMax),a.ok&&(c=e.md.normalizeLink(a.str),e.md.validateLink(c)?r=a.pos:c=""),l=r;r<h&&(n=e.src.charCodeAt(r),!(!Ge(n)&&n!==10));r++);if(a=e.md.helpers.parseLinkTitle(e.src,r,e.posMax),r<h&&l!==r&&a.ok)for(i=a.str,r=a.pos;r<h&&(n=e.src.charCodeAt(r),!(!Ge(n)&&n!==10));r++);else i="";if(r>=h||e.src.charCodeAt(r)!==41)return e.pos=d,!1;r++}else{if(typeof e.env.references>"u")return!1;if(r<h&&e.src.charCodeAt(r)===91?(l=r+1,r=e.md.helpers.parseLinkLabel(e,r),r>=0?s=e.src.slice(l,r++):r=g+1):r=g+1,s||(s=e.src.slice(p,g)),o=e.env.references[eo(s)],!o)return e.pos=d,!1;c=o.href,i=o.title}if(!t){u=e.src.slice(p,g);const v=[];e.md.inline.parse(u,e.md,e.env,v);const y=e.push("image","img",0),D=[["src",c],["alt",""]];y.attrs=D,y.children=v,y.content=u,i&&D.push(["title",i])}return e.pos=r,e.posMax=h,!0}const fd=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,pd=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function hd(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const u=e.pos,s=e.posMax;for(;;){if(++n>=s)return!1;const o=e.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const r=e.src.slice(u+1,n);if(pd.test(r)){const o=e.md.normalizeLink(r);if(!e.md.validateLink(o))return!1;if(!t){const a=e.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const i=e.push("text","",0);i.content=e.md.normalizeLinkText(r);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=r.length+2,!0}if(fd.test(r)){const o=e.md.normalizeLink("mailto:"+r);if(!e.md.validateLink(o))return!1;if(!t){const a=e.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const i=e.push("text","",0);i.content=e.md.normalizeLinkText(r);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=r.length+2,!0}return!1}function gd(e){return/^<a[>\s]/i.test(e)}function vd(e){return/^<\/a\s*>/i.test(e)}function md(e){const t=e|32;return t>=97&&t<=122}function bd(e,t){if(!e.md.options.html)return!1;const n=e.posMax,u=e.pos;if(e.src.charCodeAt(u)!==60||u+2>=n)return!1;const s=e.src.charCodeAt(u+1);if(s!==33&&s!==63&&s!==47&&!md(s))return!1;const r=e.src.slice(u).match(Vc);if(!r)return!1;if(!t){const o=e.push("html_inline","",0);o.content=r[0],gd(o.content)&&e.linkLevel++,vd(o.content)&&e.linkLevel--}return e.pos+=r[0].length,!0}const yd=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,xd=/^&([a-z][a-z0-9]{1,31});/i;function Ed(e,t){const n=e.pos,u=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=u)return!1;if(e.src.charCodeAt(n+1)===35){const r=e.src.slice(n).match(yd);if(r){if(!t){const o=r[1][0].toLowerCase()==="x"?parseInt(r[1].slice(1),16):parseInt(r[1],10),a=e.push("text_special","",0);a.content=es(o)?zu(o):zu(65533),a.markup=r[0],a.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(n).match(xd);if(r){const o=Er(r[0]);if(o!==r[0]){if(!t){const a=e.push("text_special","",0);a.content=o,a.markup=r[0],a.info="entity"}return e.pos+=r[0].length,!0}}}return!1}function _s(e){const t={},n=e.length;if(!n)return;let u=0,s=-2;const r=[];for(let o=0;o<n;o++){const a=e[o];if(r.push(0),(e[u].marker!==a.marker||s!==a.token-1)&&(u=o),s=a.token,a.length=a.length||0,!a.close)continue;t.hasOwnProperty(a.marker)||(t[a.marker]=[-1,-1,-1,-1,-1,-1]);const i=t[a.marker][(a.open?3:0)+a.length%3];let l=u-r[u]-1,c=l;for(;l>i;l-=r[l]+1){const d=e[l];if(d.marker===a.marker&&d.open&&d.end<0){let h=!1;if((d.close||a.open)&&(d.length+a.length)%3===0&&(d.length%3!==0||a.length%3!==0)&&(h=!0),!h){const p=l>0&&!e[l-1].open?r[l-1]+1:0;r[o]=o-l+p,r[l]=p,a.open=!1,d.end=o,d.close=!1,c=-1,s=-2;break}}}c!==-1&&(t[a.marker][(a.open?3:0)+(a.length||0)%3]=c)}}function Sd(e){const t=e.tokens_meta,n=e.tokens_meta.length;_s(e.delimiters);for(let u=0;u<n;u++)t[u]&&t[u].delimiters&&_s(t[u].delimiters)}function Cd(e){let t,n,u=0;const s=e.tokens,r=e.tokens.length;for(t=n=0;t<r;t++)s[t].nesting<0&&u--,s[t].level=u,s[t].nesting>0&&u++,s[t].type==="text"&&t+1<r&&s[t+1].type==="text"?s[t+1].content=s[t].content+s[t+1].content:(t!==n&&(s[n]=s[t]),n++);t!==n&&(s.length=n)}const ho=[["text",ed],["linkify",nd],["newline",ud],["escape",od],["backticks",sd],["strikethrough",Ir.tokenize],["emphasis",_r.tokenize],["link",cd],["image",dd],["autolink",hd],["html_inline",bd],["entity",Ed]],go=[["balance_pairs",Sd],["strikethrough",Ir.postProcess],["emphasis",_r.postProcess],["fragments_join",Cd]];function mu(){this.ruler=new yt;for(let e=0;e<ho.length;e++)this.ruler.push(ho[e][0],ho[e][1]);this.ruler2=new yt;for(let e=0;e<go.length;e++)this.ruler2.push(go[e][0],go[e][1])}mu.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),u=n.length,s=e.md.options.maxNesting,r=e.cache;if(typeof r[t]<"u"){e.pos=r[t];return}let o=!1;if(e.level<s){for(let a=0;a<u;a++)if(e.level++,o=n[a](e,!0),e.level--,o){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;o||e.pos++,r[t]=e.pos};mu.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,u=e.posMax,s=e.md.options.maxNesting;for(;e.pos<u;){const r=e.pos;let o=!1;if(e.level<s){for(let a=0;a<n;a++)if(o=t[a](e,!1),o){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(e.pos>=u)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};mu.prototype.parse=function(e,t,n,u){const s=new this.State(e,t,n,u);this.tokenize(s);const r=this.ruler2.getRules(""),o=r.length;for(let a=0;a<o;a++)r[a](s)};mu.prototype.State=vu;function kd(e){const t={};e=e||{},t.src_Any=vr.source,t.src_Cc=mr.source,t.src_Z=yr.source,t.src_P=Qo.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><ï½œ]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½œ]|"+t.src_ZPCc+"))((?![$+<=>^`|ï½œ])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½œ]|"+t.src_ZPCc+"))((?![$+<=>^`|ï½œ])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function Ro(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(u){e[u]=n[u]})}),e}function no(e){return Object.prototype.toString.call(e)}function wd(e){return no(e)==="[object String]"}function Dd(e){return no(e)==="[object Object]"}function Td(e){return no(e)==="[object RegExp]"}function As(e){return no(e)==="[object Function]"}function Id(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Ar={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function _d(e){return Object.keys(e||{}).reduce(function(t,n){return t||Ar.hasOwnProperty(n)},!1)}const Ad={"http:":{validate:function(e,t,n){const u=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(u)?u.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const u=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(u)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:u.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const u=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(u)?u.match(n.re.mailto)[0].length:0}}},$d="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Fd="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|Ñ€Ñ„".split("|");function Od(e){e.__index__=-1,e.__text_cache__=""}function Pd(e){return function(t,n){const u=t.slice(n);return e.test(u)?u.match(e)[0].length:0}}function $s(){return function(e,t){t.normalize(e)}}function Hu(e){const t=e.re=kd(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push($d),n.push(t.src_xn),t.src_tlds=n.join("|");function u(a){return a.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(u(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(u(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(u(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(u(t.tpl_host_fuzzy_test),"i");const s=[];e.__compiled__={};function r(a,i){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+i)}Object.keys(e.__schemas__).forEach(function(a){const i=e.__schemas__[a];if(i===null)return;const l={validate:null,link:null};if(e.__compiled__[a]=l,Dd(i)){Td(i.validate)?l.validate=Pd(i.validate):As(i.validate)?l.validate=i.validate:r(a,i),As(i.normalize)?l.normalize=i.normalize:i.normalize?r(a,i):l.normalize=$s();return}if(wd(i)){s.push(a);return}r(a,i)}),s.forEach(function(a){e.__compiled__[e.__schemas__[a]]&&(e.__compiled__[a].validate=e.__compiled__[e.__schemas__[a]].validate,e.__compiled__[a].normalize=e.__compiled__[e.__schemas__[a]].normalize)}),e.__compiled__[""]={validate:null,normalize:$s()};const o=Object.keys(e.__compiled__).filter(function(a){return a.length>0&&e.__compiled__[a]}).map(Id).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><ï½œ]|"+t.src_ZPCc+"))("+o+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><ï½œ]|"+t.src_ZPCc+"))("+o+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Od(e)}function Md(e,t){const n=e.__index__,u=e.__last_index__,s=e.__text_cache__.slice(n,u);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=u+t,this.raw=s,this.text=s,this.url=s}function Lo(e,t){const n=new Md(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function kt(e,t){if(!(this instanceof kt))return new kt(e,t);t||_d(e)&&(t=e,e={}),this.__opts__=Ro({},Ar,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ro({},Ad,e),this.__compiled__={},this.__tlds__=Fd,this.__tlds_replaced__=!1,this.re={},Hu(this)}kt.prototype.add=function(t,n){return this.__schemas__[t]=n,Hu(this),this};kt.prototype.set=function(t){return this.__opts__=Ro(this.__opts__,t),this};kt.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,u,s,r,o,a,i,l,c;if(this.re.schema_test.test(t)){for(i=this.re.schema_search,i.lastIndex=0;(n=i.exec(t))!==null;)if(r=this.testSchemaAt(t,n[2],i.lastIndex),r){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(u=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=u.index+u[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=u.index+u[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&(s=t.match(this.re.email_fuzzy))!==null&&(o=s.index+s[1].length,a=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};kt.prototype.pretest=function(t){return this.re.pretest.test(t)};kt.prototype.testSchemaAt=function(t,n,u){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,u,this):0};kt.prototype.match=function(t){const n=[];let u=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(Lo(this,u)),u=this.__last_index__);let s=u?t.slice(u):t;for(;this.test(s);)n.push(Lo(this,u)),s=s.slice(this.__last_index__),u+=this.__last_index__;return n.length?n:null};kt.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const u=this.testSchemaAt(t,n[2],n[0].length);return u?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+u,Lo(this,0)):null};kt.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(u,s,r){return u!==r[s-1]}).reverse(),Hu(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Hu(this),this)};kt.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};kt.prototype.onCompile=function(){};const On=2147483647,Ut=36,us=1,pu=26,Rd=38,Ld=700,$r=72,Fr=128,Or="-",Nd=/^xn--/,Bd=/[^\0-\x7F]/,Ud=/[\x2E\u3002\uFF0E\uFF61]/g,jd={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},vo=Ut-us,jt=Math.floor,mo=String.fromCharCode;function qt(e){throw new RangeError(jd[e])}function zd(e,t){const n=[];let u=e.length;for(;u--;)n[u]=t(e[u]);return n}function Pr(e,t){const n=e.split("@");let u="";n.length>1&&(u=n[0]+"@",e=n[1]),e=e.replace(Ud,".");const s=e.split("."),r=zd(s,t).join(".");return u+r}function Mr(e){const t=[];let n=0;const u=e.length;for(;n<u;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<u){const r=e.charCodeAt(n++);(r&64512)==56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}const Hd=e=>String.fromCodePoint(...e),Gd=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Ut},Fs=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Rr=function(e,t,n){let u=0;for(e=n?jt(e/Ld):e>>1,e+=jt(e/t);e>vo*pu>>1;u+=Ut)e=jt(e/vo);return jt(u+(vo+1)*e/(e+Rd))},Lr=function(e){const t=[],n=e.length;let u=0,s=Fr,r=$r,o=e.lastIndexOf(Or);o<0&&(o=0);for(let a=0;a<o;++a)e.charCodeAt(a)>=128&&qt("not-basic"),t.push(e.charCodeAt(a));for(let a=o>0?o+1:0;a<n;){const i=u;for(let c=1,d=Ut;;d+=Ut){a>=n&&qt("invalid-input");const h=Gd(e.charCodeAt(a++));h>=Ut&&qt("invalid-input"),h>jt((On-u)/c)&&qt("overflow"),u+=h*c;const p=d<=r?us:d>=r+pu?pu:d-r;if(h<p)break;const g=Ut-p;c>jt(On/g)&&qt("overflow"),c*=g}const l=t.length+1;r=Rr(u-i,l,i==0),jt(u/l)>On-s&&qt("overflow"),s+=jt(u/l),u%=l,t.splice(u++,0,s)}return String.fromCodePoint(...t)},Nr=function(e){const t=[];e=Mr(e);const n=e.length;let u=Fr,s=0,r=$r;for(const i of e)i<128&&t.push(mo(i));const o=t.length;let a=o;for(o&&t.push(Or);a<n;){let i=On;for(const c of e)c>=u&&c<i&&(i=c);const l=a+1;i-u>jt((On-s)/l)&&qt("overflow"),s+=(i-u)*l,u=i;for(const c of e)if(c<u&&++s>On&&qt("overflow"),c===u){let d=s;for(let h=Ut;;h+=Ut){const p=h<=r?us:h>=r+pu?pu:h-r;if(d<p)break;const g=d-p,v=Ut-p;t.push(mo(Fs(p+g%v,0))),d=jt(g/v)}t.push(mo(Fs(d,0))),r=Rr(s,l,a===o),s=0,++a}++s,++u}return t.join("")},Wd=function(e){return Pr(e,function(t){return Nd.test(t)?Lr(t.slice(4).toLowerCase()):t})},Kd=function(e){return Pr(e,function(t){return Bd.test(t)?"xn--"+Nr(t):t})},Br={version:"2.3.1",ucs2:{decode:Mr,encode:Hd},decode:Lr,encode:Nr,toASCII:Kd,toUnicode:Wd},Vd={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"â€œâ€â€˜â€™",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Jd={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"â€œâ€â€˜â€™",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Yd={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"â€œâ€â€˜â€™",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Xd={default:Vd,zero:Jd,commonmark:Yd},Zd=/^(vbscript|javascript|file|data):/,Qd=/^data:image\/(gif|png|jpeg|webp);/;function qd(e){const t=e.trim().toLowerCase();return Zd.test(t)?Qd.test(t):!0}const Ur=["http:","https:","mailto:"];function e0(e){const t=Zo(e,!0);if(t.hostname&&(!t.protocol||Ur.indexOf(t.protocol)>=0))try{t.hostname=Br.toASCII(t.hostname)}catch{}return gu(Xo(t))}function t0(e){const t=Zo(e,!0);if(t.hostname&&(!t.protocol||Ur.indexOf(t.protocol)>=0))try{t.hostname=Br.toUnicode(t.hostname)}catch{}return Mn(Xo(t),Mn.defaultChars+"%")}function $t(e,t){if(!(this instanceof $t))return new $t(e,t);t||qo(e)||(t=e||{},e="default"),this.inline=new mu,this.block=new to,this.core=new ts,this.renderer=new Bn,this.linkify=new kt,this.validateLink=qd,this.normalizeLink=e0,this.normalizeLinkText=t0,this.utils=uc,this.helpers=qu({},ac),this.options={},this.configure(e),t&&this.set(t)}$t.prototype.set=function(e){return qu(this.options,e),this};$t.prototype.configure=function(e){const t=this;if(qo(e)){const n=e;if(e=Xd[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};$t.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const u=e.filter(function(s){return n.indexOf(s)<0});if(u.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+u);return this};$t.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const u=e.filter(function(s){return n.indexOf(s)<0});if(u.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+u);return this};$t.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};$t.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};$t.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};$t.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};$t.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};class n0{constructor(){ze(this,"md");this.md=new $t({html:!1,linkify:!0,typographer:!0,breaks:!0}),this.setupCustomRules()}render(t){return this.md.render(t)}setupCustomRules(){this.md.renderer.rules.fence,this.md.renderer.rules.fence=(n,u,s,r,o)=>{const a=n[u],i=a.info.trim()||"text",l=a.content;return`<div class="code-block-wrapper" data-lang="${i}">
        <div class="code-block-header">
          <span class="language">${i}</span>
          <button class="copy-btn" data-code="${encodeURIComponent(l)}">å¤åˆ¶</button>
        </div>
        <div class="code-content"><code class="language-${i}">${this.escapeHtml(l)}</code></div>
      </div>`};const t=this.md.renderer.rules.link_open||((n,u,s,r,o)=>o.renderToken(n,u,s));this.md.renderer.rules.link_open=(n,u,s,r,o)=>{const a=n[u],i=a.attrIndex("href");if(i>=0){const l=a.attrs[i][1];(l.startsWith("/")||l.startsWith("file://"))&&a.attrPush(["class","file-link"])}return t(n,u,s,r,o)}}escapeHtml(t){const n=document.createElement("div");return n.textContent=t,n.innerHTML}}const u0=new n0;class o0{constructor(){ze(this,"highlighter",null);ze(this,"initialized",!1);ze(this,"initPromise",null)}async init(){if(!this.initialized)return this.initPromise?this.initPromise:(this.initPromise=(async()=>{try{console.log("ğŸ¨ Initializing syntax highlighter...");const{createHighlighter:t}=await or(async()=>{const{createHighlighter:n}=await import("./shiki.js").then(u=>u.i);return{createHighlighter:n}},[],import.meta.url);this.highlighter=await t({themes:["github-light","github-dark"],langs:["javascript","typescript","python","java","kotlin","go","rust","cpp","c","csharp","php","ruby","swift","bash","shell","json","xml","html","css","scss","sql","yaml","markdown","dockerfile","vue","jsx","tsx"]}),this.initialized=!0,console.log("âœ… Syntax highlighter initialized")}catch(t){throw console.error("âŒ Failed to initialize highlighter:",t),t}})(),this.initPromise)}async highlight(t,n,u){if(await this.init(),!this.highlighter)return this.escapeHtml(t);try{const s=u?"github-dark":"github-light",r=this.normalizeLanguage(n);return this.highlighter.codeToHtml(t,{lang:r,theme:s})}catch(s){return console.warn(`Failed to highlight ${n}:`,s),`<pre><code>${this.escapeHtml(t)}</code></pre>`}}normalizeLanguage(t){const n=t.toLowerCase().trim(),s={js:"javascript",ts:"typescript",py:"python",kt:"kotlin",sh:"bash",yml:"yaml",md:"markdown",cs:"csharp","c++":"cpp",h:"c",hpp:"cpp"}[n]||n;return["javascript","typescript","python","java","kotlin","go","rust","cpp","c","csharp","php","ruby","swift","bash","shell","json","xml","html","css","scss","sql","yaml","markdown","dockerfile","vue","jsx","tsx"].includes(s)?s:"text"}escapeHtml(t){const n=document.createElement("div");return n.textContent=t,n.innerHTML}}const Os=new o0,s0=["innerHTML"],wt=pe({__name:"MarkdownRenderer",props:{content:{},isDark:{type:Boolean,default:!1}},setup(e){const t=e,n=G(""),u=G(!1);ln(async()=>{await Os.init(),await s()}),et(()=>t.content,s),et(()=>t.isDark,s);async function s(){if(!u.value)try{u.value=!0;let l=u0.render(t.content);l=await r(l),n.value=l}catch(l){console.error("Failed to render markdown:",l),n.value=`<p>æ¸²æŸ“å¤±è´¥: ${l}</p>`}finally{u.value=!1}}async function r(l){const d=new DOMParser().parseFromString(l,"text/html"),h=d.querySelectorAll(".code-block-wrapper");for(const p of h){const g=p.getAttribute("data-lang")||"text",v=p.querySelector("code");if(v){const y=v.textContent||"";try{const D=await Os.highlight(y,g,t.isDark),E=p.querySelector(".code-content");E&&(E.innerHTML=D)}catch(D){console.warn(`Failed to highlight ${g}:`,D)}}}return d.body.innerHTML}function o(l){const c=l.target;if(c.classList.contains("copy-btn")){l.preventDefault();const d=c.getAttribute("data-code");if(d){const h=decodeURIComponent(d);a(h),i(c)}return}if(c.tagName==="A"){const d=c.getAttribute("href");if(d&&(d.startsWith("/")||d.startsWith("file://"))){l.preventDefault();const h=d.replace("file://","");bt.query("ide.openFile",{filePath:h})}}}async function a(l){try{await navigator.clipboard.writeText(l)}catch(c){console.error("Failed to copy:",c)}}function i(l){const c=l.textContent;l.textContent="âœ“ å·²å¤åˆ¶",l.classList.add("copied"),setTimeout(()=>{l.textContent=c,l.classList.remove("copied")},2e3)}return(l,c)=>(x(),S("div",{class:"markdown-body",onClick:o,innerHTML:n.value},null,8,s0))}}),r0={class:"tool-icon"},a0={class:"action-type"},i0={key:0,class:"primary-info loading"},l0={key:1,class:"primary-info"},c0={key:2,class:"secondary-info"},d0={key:0,class:"spinner"},f0={key:1,class:"dot"},p0=pe({__name:"CompactToolCard",props:{displayInfo:{},isExpanded:{type:Boolean,default:!1},hasDetails:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0}},emits:["click"],setup(e,{emit:t}){const n=e,u=t,s=k(()=>n.clickable&&(n.hasDetails||n.displayInfo.status!=="pending"));function r(){s.value&&u("click")}function o(a){return a?a.startsWith("+")?"badge-add":a.startsWith("-")?"badge-remove":"":""}return(a,i)=>(x(),S("div",{class:le(["compact-tool-card",[`status-${e.displayInfo?.status||"pending"}`,{clickable:s.value,expanded:e.isExpanded}]])},[f("div",{class:"card-content",onClick:r},[f("span",r0,T(e.displayInfo?.icon||"ğŸ”§"),1),f("span",a0,T(e.displayInfo?.actionType||"Unknown"),1),e.displayInfo?.isInputLoading?(x(),S("span",i0," æ­£åœ¨è§£æå‚æ•°... ")):e.displayInfo?.primaryInfo?(x(),S("span",l0,T(e.displayInfo.primaryInfo),1)):M("",!0),e.displayInfo?.secondaryInfo?(x(),S("span",c0,T(e.displayInfo.secondaryInfo),1)):M("",!0),e.displayInfo?.lineChanges?(x(),S("span",{key:3,class:le(["line-changes-badge",o(e.displayInfo.lineChanges)])},T(e.displayInfo.lineChanges),3)):M("",!0),f("span",{class:le(["status-indicator",`status-${e.displayInfo?.status||"pending"}`])},[e.displayInfo?.isInputLoading||e.displayInfo?.status==="pending"||!e.displayInfo?.status?(x(),S("span",d0)):(x(),S("span",f0))],2)]),e.isExpanded&&e.hasDetails?(x(),S("div",{key:0,class:"expanded-content",onClick:i[0]||(i[0]=Ct(()=>{},["stop"]))},[Ea(a.$slots,"details",{},void 0,!0)])):M("",!0)],2))}}),bu=ve(p0,[["__scopeId","data-v-737a7405"]]),h0={Read:"ğŸ“„",Write:"âœï¸",Edit:"âœï¸",MultiEdit:"âœï¸",Bash:"ğŸ’»",Grep:"ğŸ”",Glob:"ğŸ”",TodoWrite:"âœ…",WebSearch:"ğŸŒ",WebFetch:"ğŸŒ",AskUserQuestion:"â“",NotebookEdit:"ğŸ““",Task:"ğŸ“‹",SlashCommand:"âš¡",Skill:"ğŸ¯",BashOutput:"ğŸ“¤",KillShell:"ğŸ›‘",ListMcpResources:"ğŸ“š",read:"ğŸ“„",write:"âœï¸",edit:"âœï¸","multi-edit":"âœï¸",bash:"ğŸ’»",grep:"ğŸ”",glob:"ğŸ”","codebase-retrieval":"ğŸ§ ","sequential-thinking":"ğŸ§ ","todo-write":"âœ…","web-search":"ğŸŒ","web-fetch":"ğŸŒ","ask-user-question":"â“","notebook-edit":"ğŸ““",task:"ğŸ“‹","slash-command":"âš¡",skill:"ğŸ¯","bash-output":"ğŸ“¤","kill-shell":"ğŸ›‘","list-mcp-resources":"ğŸ“š"},g0={Read:"Read",Write:"Write",Edit:"Edit",MultiEdit:"MultiEdit",Bash:"Bash",Grep:"Grep",Glob:"Glob",TodoWrite:"TodoWrite",WebSearch:"WebSearch",WebFetch:"WebFetch",AskUserQuestion:"AskUser",NotebookEdit:"Notebook",Task:"Task",SlashCommand:"Command",Skill:"Skill",BashOutput:"Output",KillShell:"Kill",ListMcpResources:"ListMCP",read:"Read",write:"Write",edit:"Edit","multi-edit":"MultiEdit",bash:"Bash",grep:"Grep",glob:"Glob","codebase-retrieval":"Codebase","sequential-thinking":"Thinking","todo-write":"TodoWrite","web-search":"WebSearch","web-fetch":"WebFetch","ask-user-question":"AskUser","notebook-edit":"Notebook",task:"Task","slash-command":"Command",skill:"Skill","bash-output":"Output","kill-shell":"Kill","list-mcp-resources":"ListMCP"};function Un(e,t){const n=e?.name||"",u=e?.input||{},s=h0[n]||"ğŸ”§",r=g0[n]||n||"Unknown",o=t?.is_error?"error":t?"success":"pending",a=!u||Object.keys(u).length===0;let i="",l="",c;if(!a)switch(n){case"read":case"Read":i=v0(u),l=u.path||u.file_path||"";break;case"write":case"Write":i=m0(u),l=u.path||u.file_path||"";break;case"edit":case"Edit":i=b0(u),l=u.file_path||u.path||"",c=k0(u);break;case"multi-edit":case"MultiEdit":const d=u.edits?.length||0;i=`${Ln(u.file_path||u.path||"")} (${d}å¤„)`,l=u.file_path||u.path||"";break;case"bash":case"Bash":i=y0(u.command||""),l=u.cwd||"";break;case"grep":case"Grep":i=x0(u),l="";break;case"glob":case"Glob":i=E0(u),l="";break;case"web-search":case"WebSearch":i=`"${u.query||""}"`,l="";break;case"web-fetch":case"WebFetch":i=S0(u.url||""),l="";break;case"todo-write":case"TodoWrite":i=`${(u.todos||[]).length}é¡¹ä»»åŠ¡`,l="";break;case"task":case"Task":i=zr(u.description||"Running task",40),l="";break;case"notebook-edit":case"NotebookEdit":i=Ln(u.notebook_path||""),l=`Cell ${u.cell_number||0}`;break;case"ask-user-question":case"AskUserQuestion":const p=u.questions||[];i=p.length>0?p[0].question:"Asking question",l=p.length>1?`+${p.length-1} more`:"";break;case"codebase-retrieval":i="Retrieving from: <> Codebase",l=u.information_request||"";break;case"sequential-thinking":i=u.thought||"",l=`Thought ${u.thought_number||0}/${u.total_thoughts||0}`;break;default:i=w0(u),l=D0(u)}return{icon:s,actionType:r,primaryInfo:i,secondaryInfo:l,lineChanges:c,status:o,isInputLoading:a}}function v0(e){const t=Ln(e.path||e.file_path||"");let n="";if(e.view_range&&Array.isArray(e.view_range)){const[u,s]=e.view_range;n=`:${u}-${s}`}else if(e.offset!==void 0&&e.limit!==void 0){const u=e.offset,s=e.offset+e.limit-1;n=`:${u}-${s}`}else e.offset!==void 0&&(n=`:${e.offset}+`);return t+n}function m0(e){const t=Ln(e.path||e.file_path||""),n=e.content||e.file_content||"";if(!n)return t;const u=n.split(`
`).length;return`${t} (${u}è¡Œ)`}function b0(e){const t=Ln(e.file_path||e.path||""),n=e.old_str_start_line_number_1||e.old_str_start_line_number;return n?`${t}:${n}`:t}function y0(e){if(!e)return"";const t=50;return e.length<=t?e:e.substring(0,t-3)+"..."}function x0(e){const t=e.pattern||e.search_query_regex||"",n=e.path||e.glob||"";return n?`"${t}" in ${jr(n)}`:`"${t}"`}function E0(e){const t=e.pattern||"",n=e.path||"";return n?`${t} in ${jr(n)}`:t}function S0(e){if(!e)return"";try{const t=new URL(e),n=t.pathname==="/"?"":t.pathname;return t.hostname+n}catch{return zr(e,50)}}function jr(e,t=30){if(!e||e.length<=t)return e;const n=e.split(/[\\/]/),u=n[n.length-1];return u&&u.length<t-4?".../"+u:e.substring(0,t-3)+"..."}function zr(e,t){return!e||e.length<=t?e:e.substring(0,t-3)+"..."}function Ln(e){if(!e)return"";const t=e.split(/[\\/]/);return t[t.length-1]||e}function C0(e){if(!e)return"";const t=e.split("/");return t.length<=1?"":t.slice(0,-1).join("/")}function k0(e){const t=e.old_string||e.old_str,n=e.new_string||e.new_str;if(!t||!n)return;const u=t.split(`
`).length,r=n.split(`
`).length-u;if(r!==0)return r>0?`+${r}`:`${r}`}function w0(e){return e.path?Ln(e.path):e.command?`$ ${e.command}`:e.query?e.query:e.message?e.message:""}function D0(e){return e.path?C0(e.path):e.cwd?e.cwd:e.description?e.description:""}class T0{constructor(){ze(this,"currentTheme",null);ze(this,"listeners",new Set);ze(this,"initialized",!1);ze(this,"bridgeReadyHandler",null)}async initialize(){if(this.initialized){console.log("ğŸ¨ Theme service already initialized");return}if(this.initialized=!0,console.log("ğŸ¨ Initializing theme service..."),typeof window>"u"){this.applyDefaultTheme();return}this.bindThemeBridge()||(console.log("ğŸ¨ [Browser] Theme bridge unavailable, using default light theme"),this.applyDefaultTheme(),this.waitForThemeBridge())}bindThemeBridge(){const t=this.resolveThemeBridge();if(!t)return!1;t.onChange=u=>{u&&this.applyTheme(u)};const n=this.safeGetCurrentTheme(t);return n&&this.applyTheme(n),this.clearBridgeReadyHandler(),console.log("ğŸ¨ [IDE] Theme bridge connected"),!0}resolveThemeBridge(){if(typeof window>"u")return null;const t=window.__themeBridge;return!t||typeof t!="object"?null:t}waitForThemeBridge(){typeof window>"u"||this.bridgeReadyHandler||(this.bridgeReadyHandler=()=>{this.bindThemeBridge()&&this.clearBridgeReadyHandler()},window.addEventListener("claude:themeBridgeReady",this.bridgeReadyHandler))}clearBridgeReadyHandler(){typeof window>"u"||!this.bridgeReadyHandler||(window.removeEventListener("claude:themeBridgeReady",this.bridgeReadyHandler),this.bridgeReadyHandler=null)}safeGetCurrentTheme(t){try{return typeof t.getCurrent=="function"?t.getCurrent()??null:null}catch(n){return console.error("âŒ Failed to read theme from bridge:",n),null}}applyTheme(t){console.log("ğŸ¨ Applying theme:",t.isDark?"dark":"light"),this.currentTheme=t,this.injectCssVariables(t),this.notifyListeners(t)}applyDefaultTheme(){const t={isDark:!1,background:"#ffffff",foreground:"#24292e",panelBackground:"#f6f8fa",borderColor:"#e1e4e8",textFieldBackground:"#ffffff",selectionBackground:"#0366d6",selectionForeground:"#ffffff",linkColor:"#0366d6",errorColor:"#d73a49",warningColor:"#ffc107",successColor:"#28a745",separatorColor:"#e1e4e8",hoverBackground:"#f6f8fa",accentColor:"#0366d6",infoBackground:"#f0f0f0",codeBackground:"#f6f8fa",secondaryForeground:"#6a737d"};this.applyTheme(t)}injectCssVariables(t){const n=document.documentElement;t.isDark?(n.classList.add("theme-dark"),n.classList.remove("theme-light")):(n.classList.add("theme-light"),n.classList.remove("theme-dark")),n.style.setProperty("--ide-background",t.background),n.style.setProperty("--ide-foreground",t.foreground),n.style.setProperty("--ide-panel-background",t.panelBackground),n.style.setProperty("--ide-border",t.borderColor),n.style.setProperty("--ide-text-field-background",t.textFieldBackground),n.style.setProperty("--ide-selection-background",t.selectionBackground),n.style.setProperty("--ide-selection-foreground",t.selectionForeground),n.style.setProperty("--ide-link",t.linkColor),n.style.setProperty("--ide-error",t.errorColor),n.style.setProperty("--ide-warning",t.warningColor),n.style.setProperty("--ide-success",t.successColor),n.style.setProperty("--ide-accent",t.linkColor),n.style.setProperty("--ide-code-background",t.panelBackground),n.style.setProperty("--ide-code-foreground",t.foreground);const u=t.isDark?"#3d3416":"#fff8dc";n.style.setProperty("--ide-warning-background",u),n.style.setProperty("--ide-separator",t.separatorColor),n.style.setProperty("--ide-hover-background",t.hoverBackground),n.style.setProperty("--ide-accent",t.accentColor),n.style.setProperty("--ide-info-background",t.infoBackground),n.style.setProperty("--ide-code-background",t.codeBackground),n.style.setProperty("--ide-secondary-foreground",t.secondaryForeground),n.style.setProperty("--ide-input-background",t.textFieldBackground),n.style.setProperty("--ide-input-foreground",t.foreground),n.style.setProperty("--ide-input-border",t.borderColor),n.style.setProperty("--ide-code-foreground",t.foreground),n.style.setProperty("--ide-button-background",t.accentColor),n.style.setProperty("--ide-button-foreground",t.selectionForeground),n.style.setProperty("--ide-button-hover-background",t.selectionBackground),console.log("âœ… CSS variables injected:",t.isDark?"dark":"light")}onThemeChange(t){return this.listeners.add(t),this.currentTheme&&t(this.currentTheme),()=>{this.listeners.delete(t)}}notifyListeners(t){this.listeners.forEach(n=>{try{n(t)}catch(u){console.error("âŒ Theme listener error:",u)}})}getCurrentTheme(){return this.currentTheme}isDarkTheme(){return this.currentTheme?.isDark??!1}setTheme(t){if(typeof t=="object"&&t!==null&&"isDark"in t){console.log("ğŸ¨ [JCEF] Received full theme object, applying directly"),this.applyTheme(t);return}console.warn("âš ï¸ [Theme] Received theme string, ignoring (no fallback). Use default light theme if no JCEF environment."),this.currentTheme||(console.log("ğŸ¨ [Theme] No current theme, applying default light theme"),this.applyDefaultTheme())}}const Yn=new T0;class I0{constructor(){ze(this,"capabilities",null);ze(this,"isInitialized",!1)}detectJcef(){if(typeof window>"u")return!1;const t=window.__CLAUDE_IDE_HOST__,n=window.__CLAUDE_IDE_BRIDGE__;return!!(t||n)}async init(){if(this.isInitialized)return;this.detectJcef()?(this.capabilities={isAvailable:!0,openFile:this.createOpenFileHandler(),showDiff:this.createShowDiffHandler(),switchTheme:this.createSwitchThemeHandler()},this.exposeFrontendMethods(),console.log("JCEF Bridge initialized")):(this.capabilities={isAvailable:!1,openFile:async()=>{console.warn("JCEF not available: openFile")},showDiff:async()=>{console.warn("JCEF not available: showDiff")},switchTheme:()=>{console.warn("JCEF not available: switchTheme")}},console.log("Running in browser mode (JCEF not available)")),this.isInitialized=!0}createOpenFileHandler(){return async(t,n)=>{await rn.openFile(t,n)}}createShowDiffHandler(){return async t=>{await rn.showDiff(t)}}createSwitchThemeHandler(){return t=>{console.log("[JCEF Bridge] switchTheme called with:",typeof t=="object"?"full theme object":t),Yn.setTheme(t)}}exposeFrontendMethods(){if(typeof window>"u")return;const t=window.__CLAUDE_IDE_BRIDGE__=window.__CLAUDE_IDE_BRIDGE__||{};t.switchTheme=n=>{console.log("[JCEF Bridge] switchTheme called:",typeof n=="object"?"full theme object":n),this.capabilities?.switchTheme(n)},t.initTheme=()=>{console.log("[JCEF Bridge] initTheme called, waiting for theme push from IDE...")},t.getCapabilities=()=>({isAvailable:this.capabilities?.isAvailable||!1,version:"1.0.0"}),console.log("Frontend methods exposed to IDE host")}getCapabilities(){return this.isInitialized?this.capabilities:(console.warn("JCEF Bridge not initialized, returning stub capabilities"),{isAvailable:!1,openFile:async()=>{},showDiff:async()=>{},switchTheme:()=>{}})}isJcefAvailable(){return this.capabilities?.isAvailable||!1}}let bo=null;function uu(){return bo||(bo=new I0),bo}const Xn={init:()=>uu().init(),getCapabilities:()=>uu().getCapabilities(),isJcefAvailable:()=>uu().isJcefAvailable()};typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{uu().init()}):uu().init());class _0{constructor(){ze(this,"rules",[]);ze(this,"initialized",!1)}async init(){this.initialized||(await Xn.init(),this.registerDefaultRules(),this.initialized=!0,console.log("âœ… Tool Enhancement Interceptor initialized"))}registerDefaultRules(){this.registerRule({toolType:["read","Read"],condition:t=>t.isSuccess,action:{type:"openFile",params:t=>({filePath:t.input.path||t.input.file_path,line:t.input.view_range?.[0]||t.input.offset||1,endLine:t.input.view_range?.[1]||(t.input.offset&&t.input.limit?t.input.offset+t.input.limit-1:void 0),selectContent:!0,content:this.extractResultContent(t.result)})},priority:10}),this.registerRule({toolType:["edit","Edit"],condition:t=>t.isSuccess,action:{type:"showDiff",params:t=>({filePath:t.input.file_path||t.input.path,oldContent:t.input.old_string||t.input.old_str||"",newContent:t.input.new_string||t.input.new_str||"",rebuildFromFile:!0,edits:[{oldString:t.input.old_string||t.input.old_str||"",newString:t.input.new_string||t.input.new_str||"",replaceAll:t.input.replace_all||!1}]})},priority:10}),this.registerRule({toolType:["multi-edit","MultiEdit"],condition:t=>t.isSuccess&&t.input.edits?.length>0,action:{type:"showDiff",params:t=>({filePath:t.input.file_path||t.input.path,oldContent:"",newContent:"",rebuildFromFile:!0,edits:t.input.edits.map(n=>({oldString:n.old_string||n.old_str||"",newString:n.new_string||n.new_str||"",replaceAll:n.replace_all||!1}))})},priority:10}),this.registerRule({toolType:["write","Write"],condition:t=>t.isSuccess,action:{type:"openFile",params:t=>({filePath:t.input.path||t.input.file_path,line:1})},priority:10})}registerRule(t){this.rules.push(t),this.rules.sort((n,u)=>(u.priority||0)-(n.priority||0))}unregisterRule(t){const n=this.rules.indexOf(t);n>-1&&this.rules.splice(n,1)}async intercept(t,n){if(this.initialized||await this.init(),!Xn.isJcefAvailable())return null;const u={toolType:t.name,input:t.input,result:n,isSuccess:!n?.is_error};for(const s of this.rules){if(!(Array.isArray(s.toolType)?s.toolType:[s.toolType]).some(a=>a===u.toolType||a.toLowerCase()===u.toolType.toLowerCase())||s.condition&&!s.condition(u))continue;const o={...s.action};return typeof o.params=="function"&&(o.params=o.params(u)),o}return null}async executeAction(t,n){if(!Xn.isJcefAvailable()){console.warn("âš ï¸ JCEF not available, cannot execute enhancement action");return}const u=Xn.getCapabilities();try{switch(t.type){case"openFile":{const s=t.params||{};await u.openFile(s.filePath,{line:s.line,endLine:s.endLine,column:s.column,selectContent:s.selectContent,content:s.content});break}case"showDiff":{const s=t.params||{};await u.showDiff({filePath:s.filePath,oldContent:s.oldContent,newContent:s.newContent,title:s.title,rebuildFromFile:s.rebuildFromFile,edits:s.edits});break}case"custom":{t.handler&&await t.handler(n);break}default:console.warn(`âš ï¸ Unknown enhancement action type: ${t.type}`)}}catch(s){console.error("âŒ Failed to execute enhancement action:",s)}}extractResultContent(t){if(!t)return"";const n=t.content;return typeof n=="string"?n:Array.isArray(n)?n.filter(u=>u.type==="text").map(u=>u.text).join(`
`):JSON.stringify(n,null,2)}}let yo=null;function Gn(){return yo||(yo=new _0),yo}const Yt={init:()=>Gn().init(),intercept:(e,t)=>Gn().intercept(e,t),executeAction:(e,t)=>Gn().executeAction(e,t),registerRule:e=>Gn().registerRule(e),unregisterRule:e=>Gn().unregisterRule(e)},A0={class:"code-snippet-wrapper"},$0={class:"code-container"},F0={class:"line-numbers","aria-hidden":"true"},O0={class:"code-content"},P0=pe({__name:"CodeSnippet",props:{code:{},language:{},startLine:{default:1}},setup(e){const t=e,n=k(()=>{if(!t.code)return[];const s=t.code.split(`
`);for(;s.length>0&&s[s.length-1].trim()==="";)s.pop();return s.length===0||s.every(r=>r.trim()==="")?[]:s}),u=k(()=>{const s=t.startLine;return n.value.map((r,o)=>s+o)});return(s,r)=>(x(),S("div",A0,[f("div",$0,[f("div",F0,[(x(!0),S($e,null,Re(u.value,(o,a)=>(x(),S("div",{key:`line-${a}`,class:"line-number"},T(o),1))),128))]),f("pre",O0,[f("code",null,[(x(!0),S($e,null,Re(n.value,(o,a)=>(x(),S("div",{key:`code-${a}`,class:"code-line"},T(o),1))),128))])])])]))}}),M0=ve(P0,[["__scopeId","data-v-7a71b661"]]),R0={key:0,class:"tool-result"},L0=pe({__name:"ReadToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!0),u=k(()=>Un(t.toolUse,t.result)),s=k(()=>t.toolUse.input.path||t.toolUse.input.file_path||"");k(()=>{const g=s.value;return g.split(/[\\/]/).pop()||g});const r=k(()=>t.toolUse.input.offset),o=k(()=>t.toolUse.input.limit),a=k(()=>{const g=t.toolUse.input.view_range;return Array.isArray(g)||r.value!==void 0||o.value!==void 0});k(()=>{const g=t.toolUse.input.view_range;if(Array.isArray(g))return`L${g[0]}-${g[1]}`;if(!a.value)return"";const v=r.value||1,y=o.value?v+o.value-1:"âˆ";return`L${v}-${y}`});function i(g){const v=g.split(`
`);let y=1,D=!1;return{content:v.map(m=>{const C=m.match(/^\s*(\d+)â†’/);if(C){const b=parseInt(C[1],10);return D||(y=b,D=!0),m.substring(C[0].length)}return m}).join(`
`),startLine:y}}const l=k(()=>{if(!t.result)return"";const g=t.result.content;let v="";typeof g=="string"?v=g:Array.isArray(g)?v=g.filter(E=>E.type==="text").map(E=>E.text).join(`
`):v=JSON.stringify(g,null,2);const{content:y}=i(v),D=y.split(`
`);for(;D.length>0&&D[D.length-1].trim()==="";)D.pop();return D.join(`
`)}),c=k(()=>{if(!t.result)return 1;const g=t.result.content;let v="";typeof g=="string"?v=g:Array.isArray(g)&&(v=g.filter(D=>D.type==="text").map(D=>D.text).join(`
`));const{startLine:y}=i(v);return y}),d=k(()=>{const v=s.value.split(".").pop()?.toLowerCase()||"";return{js:"javascript",ts:"typescript",kt:"kotlin",java:"java",py:"python",sh:"shell",bash:"shell",md:"markdown",json:"json",css:"css",html:"html",xml:"xml"}[v]||"plaintext"});async function h(){const g=await Yt.intercept(t.toolUse,t.result);if(g){const v={toolType:t.toolUse.name,input:t.toolUse.input,result:t.result,isSuccess:!t.result?.is_error};await Yt.executeAction(g,v)}else n.value=!n.value}async function p(){l.value&&await navigator.clipboard.writeText(l.value)}return(g,v)=>(x(),Be(bu,{"display-info":u.value,"is-expanded":n.value,"has-details":!0,onClick:h},{details:Nt(()=>[e.result?(x(),S("div",R0,[f("div",{class:"result-header"},[v[1]||(v[1]=f("span",null,null,-1)),f("button",{class:"copy-btn",onClick:p,title:"å¤åˆ¶"},[...v[0]||(v[0]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])]),Pe(M0,{code:l.value,language:d.value,"start-line":c.value},null,8,["code","language","start-line"])])):M("",!0)]),_:1},8,["display-info","is-expanded"]))}}),Hr=ve(L0,[["__scopeId","data-v-133dbce9"]]);class N0{diff(t,n,u={}){let s;typeof u=="function"?(s=u,u={}):"callback"in u&&(s=u.callback);const r=this.castInput(t,u),o=this.castInput(n,u),a=this.removeEmpty(this.tokenize(r,u)),i=this.removeEmpty(this.tokenize(o,u));return this.diffWithOptionsObj(a,i,u,s)}diffWithOptionsObj(t,n,u,s){var r;const o=E=>{if(E=this.postProcess(E,u),s){setTimeout(function(){s(E)},0);return}else return E},a=n.length,i=t.length;let l=1,c=a+i;u.maxEditLength!=null&&(c=Math.min(c,u.maxEditLength));const d=(r=u.timeout)!==null&&r!==void 0?r:1/0,h=Date.now()+d,p=[{oldPos:-1,lastComponent:void 0}];let g=this.extractCommon(p[0],n,t,0,u);if(p[0].oldPos+1>=i&&g+1>=a)return o(this.buildValues(p[0].lastComponent,n,t));let v=-1/0,y=1/0;const D=()=>{for(let E=Math.max(v,-l);E<=Math.min(y,l);E+=2){let m;const C=p[E-1],b=p[E+1];C&&(p[E-1]=void 0);let w=!1;if(b){const A=b.oldPos-E;w=b&&0<=A&&A<a}const _=C&&C.oldPos+1<i;if(!w&&!_){p[E]=void 0;continue}if(!_||w&&C.oldPos<b.oldPos?m=this.addToPath(b,!0,!1,0,u):m=this.addToPath(C,!1,!0,1,u),g=this.extractCommon(m,n,t,E,u),m.oldPos+1>=i&&g+1>=a)return o(this.buildValues(m.lastComponent,n,t))||!0;p[E]=m,m.oldPos+1>=i&&(y=Math.min(y,E-1)),g+1>=a&&(v=Math.max(v,E+1))}l++};if(s)(function E(){setTimeout(function(){if(l>c||Date.now()>h)return s(void 0);D()||E()},0)})();else for(;l<=c&&Date.now()<=h;){const E=D();if(E)return E}}addToPath(t,n,u,s,r){const o=t.lastComponent;return o&&!r.oneChangePerToken&&o.added===n&&o.removed===u?{oldPos:t.oldPos+s,lastComponent:{count:o.count+1,added:n,removed:u,previousComponent:o.previousComponent}}:{oldPos:t.oldPos+s,lastComponent:{count:1,added:n,removed:u,previousComponent:o}}}extractCommon(t,n,u,s,r){const o=n.length,a=u.length;let i=t.oldPos,l=i-s,c=0;for(;l+1<o&&i+1<a&&this.equals(u[i+1],n[l+1],r);)l++,i++,c++,r.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return c&&!r.oneChangePerToken&&(t.lastComponent={count:c,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=i,l}equals(t,n,u){return u.comparator?u.comparator(t,n):t===n||!!u.ignoreCase&&t.toLowerCase()===n.toLowerCase()}removeEmpty(t){const n=[];for(let u=0;u<t.length;u++)t[u]&&n.push(t[u]);return n}castInput(t,n){return t}tokenize(t,n){return Array.from(t)}join(t){return t.join("")}postProcess(t,n){return t}get useLongestToken(){return!1}buildValues(t,n,u){const s=[];let r;for(;t;)s.push(t),r=t.previousComponent,delete t.previousComponent,t=r;s.reverse();const o=s.length;let a=0,i=0,l=0;for(;a<o;a++){const c=s[a];if(c.removed)c.value=this.join(u.slice(l,l+c.count)),l+=c.count;else{if(!c.added&&this.useLongestToken){let d=n.slice(i,i+c.count);d=d.map(function(h,p){const g=u[l+p];return g.length>h.length?g:h}),c.value=this.join(d)}else c.value=this.join(n.slice(i,i+c.count));i+=c.count,c.added||(l+=c.count)}}return s}}class B0 extends N0{constructor(){super(...arguments),this.tokenize=z0}equals(t,n,u){return u.ignoreWhitespace?((!u.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!u.newlineIsToken||!n.includes(`
`))&&(n=n.trim())):u.ignoreNewlineAtEof&&!u.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),n.endsWith(`
`)&&(n=n.slice(0,-1))),super.equals(t,n,u)}}const U0=new B0;function j0(e,t,n){return U0.diff(e,t,n)}function z0(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));const n=[],u=e.split(/(\n|\r\n)/);u[u.length-1]||u.pop();for(let s=0;s<u.length;s++){const r=u[s];s%2&&!t.newlineIsToken?n[n.length-1]+=r:n.push(r)}return n}const H0={class:"diff-viewer"},G0={class:"diff-code-block"},W0=pe({__name:"DiffViewer",props:{oldContent:{},newContent:{}},setup(e){const t=e,n=k(()=>{const u=j0(t.oldContent,t.newContent),s=[];return u.forEach(r=>{const o=r.added?"diff-added":r.removed?"diff-removed":"diff-unchanged",a=r.value.split(`
`);a[a.length-1]===""&&a.pop(),a.forEach(i=>{s.push({content:i,class:o})})}),s});return(u,s)=>(x(),S("div",H0,[f("pre",G0,[f("code",null,[(x(!0),S($e,null,Re(n.value,(r,o)=>(x(),S("span",{key:o,class:le([r.class,"diff-line"])},T(r.content),3))),128))])])]))}}),K0=ve(W0,[["__scopeId","data-v-8c0aff88"]]),V0={class:"edit-tool-details"},J0={key:0,class:"replace-mode"},Y0=pe({__name:"EditToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>Un(t.toolUse,t.result));async function s(){const l=await Yt.intercept(t.toolUse,t.result);if(l){const c={toolType:t.toolUse.name,input:t.toolUse.input,result:t.result,isSuccess:!t.result?.is_error};await Yt.executeAction(l,c)}else n.value=!n.value}const r=k(()=>t.toolUse.input.file_path||"");k(()=>{const l=r.value;return l.split(/[\\/]/).pop()||l});const o=k(()=>t.toolUse.input.old_string||""),a=k(()=>t.toolUse.input.new_string||""),i=k(()=>t.toolUse.input.replace_all||!1);return(l,c)=>(x(),Be(bu,{"display-info":u.value,"is-expanded":n.value,"has-details":!0,onClick:s},{details:Nt(()=>[f("div",V0,[Pe(K0,{"old-content":o.value,"new-content":a.value},null,8,["old-content","new-content"]),i.value?(x(),S("div",J0,[...c[0]||(c[0]=[f("span",{class:"badge"},"å…¨éƒ¨æ›¿æ¢",-1)])])):M("",!0)])]),_:1},8,["display-info","is-expanded"]))}}),Gr=ve(Y0,[["__scopeId","data-v-0648e9a3"]]),X0={class:"tool-display multi-edit-tool"},Z0={class:"tool-header"},Q0={class:"tool-file"},q0={class:"edit-count-badge"},ef={key:0,class:"tool-content"},tf={class:"edits-list"},nf=["onClick"],uf={class:"edit-number"},of={key:0,class:"badge replace-all"},sf={class:"expand-icon"},rf={key:0,class:"edit-content"},af={class:"edit-preview"},lf={class:"diff-section"},cf={class:"diff-header old"},df=["onClick"],ff={class:"diff-content old"},pf={class:"diff-section"},hf={class:"diff-header new"},gf=["onClick"],vf={class:"diff-content new"},mf={class:"actions"},bf=pe({__name:"MultiEditToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=G(new Set),s=k(()=>t.toolUse.input.file_path||""),r=k(()=>{const h=s.value;return h.split(/[\\/]/).pop()||h}),o=k(()=>t.toolUse.input.edits||[]),a=k(()=>u.value.size===o.value.length);function i(h){u.value.has(h)?u.value.delete(h):u.value.add(h),u.value=new Set(u.value)}function l(){a.value?u.value.clear():u.value=new Set(o.value.map((h,p)=>p))}async function c(){const h=await Yt.intercept(t.toolUse,t.result);if(h){const p={toolType:t.toolUse.name,input:t.toolUse.input,result:t.result,isSuccess:!t.result?.is_error};await Yt.executeAction(h,p)}else await rn.showDiff({filePath:s.value,oldContent:o.value[0]?.old_string||"",newContent:o.value[0]?.new_string||"",rebuildFromFile:!0,title:`æ–‡ä»¶å˜æ›´: ${s.value} (${o.value.length} å¤„ä¿®æ”¹)`,edits:o.value.map(p=>({oldString:p.old_string,newString:p.new_string,replaceAll:p.replace_all||!1}))})}async function d(h){await navigator.clipboard.writeText(h)}return(h,p)=>(x(),S("div",X0,[f("div",Z0,[p[1]||(p[1]=f("span",{class:"tool-icon"},"ğŸ“",-1)),p[2]||(p[2]=f("span",{class:"tool-name"},"MultiEdit",-1)),f("span",Q0,T(r.value),1),f("span",q0,T(o.value.length)+" å¤„ä¿®æ”¹",1)]),n.value?(x(),S("div",ef,[f("div",tf,[(x(!0),S($e,null,Re(o.value,(g,v)=>(x(),S("div",{key:v,class:"edit-item"},[f("div",{class:"edit-header",onClick:y=>i(v)},[f("span",uf,"ä¿®æ”¹ #"+T(v+1),1),g.replace_all?(x(),S("span",of,"å…¨éƒ¨æ›¿æ¢")):M("",!0),f("span",sf,T(u.value.has(v)?"â–¼":"â–¶"),1)],8,nf),u.value.has(v)?(x(),S("div",rf,[f("div",af,[f("div",lf,[f("div",cf,[p[4]||(p[4]=f("span",null,null,-1)),f("button",{class:"copy-btn",title:"å¤åˆ¶",onClick:y=>d(g.old_string)},[...p[3]||(p[3]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])],8,df)]),f("pre",ff,T(g.old_string),1)]),p[7]||(p[7]=f("div",{class:"diff-arrow"}," â†’ ",-1)),f("div",pf,[f("div",hf,[p[6]||(p[6]=f("span",null,null,-1)),f("button",{class:"copy-btn",title:"å¤åˆ¶",onClick:y=>d(g.new_string)},[...p[5]||(p[5]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])],8,gf)]),f("pre",vf,T(g.new_string),1)])])])):M("",!0)]))),128))]),f("div",mf,[f("button",{class:"action-btn primary",onClick:c}," æŸ¥çœ‹å®Œæ•´ Diff "),f("button",{class:"action-btn",onClick:l},T(a.value?"å…¨éƒ¨æ”¶èµ·":"å…¨éƒ¨å±•å¼€"),1)])])):M("",!0),f("button",{class:"expand-btn",onClick:p[0]||(p[0]=g=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),Wr=ve(bf,[["__scopeId","data-v-143c6acc"]]),yf={class:"write-tool-details"},xf={class:"content-preview"},Ef={class:"preview-header"},Sf={class:"preview-content code-with-lines"},Cf=pe({__name:"WriteToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>Un(t.toolUse,t.result));async function s(){const c=await Yt.intercept(t.toolUse,t.result);if(c){const d={toolType:t.toolUse.name,input:t.toolUse.input,result:t.result,isSuccess:!t.result?.is_error};await Yt.executeAction(c,d)}else n.value=!n.value}const r=k(()=>t.toolUse.input.file_path||"");k(()=>{const c=r.value;return c.split(/[\\/]/).pop()||c});const o=k(()=>t.toolUse.input.content||"");k(()=>!0),k(()=>{const c=new Blob([o.value]).size;return c<1024?`${c} B`:c<1024*1024?`${(c/1024).toFixed(1)} KB`:`${(c/(1024*1024)).toFixed(1)} MB`});const a=k(()=>{const c=o.value,d=500;return c.length<=d?c:c.substring(0,d)+`

... (å†…å®¹å·²æˆªæ–­)`}),i=k(()=>a.value.split(`
`));async function l(){await navigator.clipboard.writeText(o.value)}return(c,d)=>(x(),Be(bu,{"display-info":u.value,"is-expanded":n.value,"has-details":!0,onClick:s},{details:Nt(()=>[f("div",yf,[f("div",xf,[f("div",Ef,[d[1]||(d[1]=f("span",null,null,-1)),f("button",{class:"copy-btn",title:"å¤åˆ¶",onClick:Ct(l,["stop"])},[...d[0]||(d[0]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])]),f("pre",Sf,[f("code",null,[(x(!0),S($e,null,Re(i.value,(h,p)=>(x(),S("span",{key:p,class:"code-line"},T(h),1))),128))])])])])]),_:1},8,["display-info","is-expanded"]))}}),Kr=ve(Cf,[["__scopeId","data-v-b8989173"]]),kf={class:"bash-tool-display"},wf={class:"bash-details"},Df={class:"command-section"},Tf={class:"command-text"},If={key:0,class:"output-section"},_f={key:0,class:"output stdout"},Af={key:1,class:"output stderr"},$f={key:2,class:"no-output"},Ff=pe({__name:"BashToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>Un(t.toolUse,t.result)),s=k(()=>t.toolUse.input.command||"");k(()=>t.toolUse.input.description||""),k(()=>t.toolUse.input.cwd||"");const r=k(()=>t.toolUse.input.timeout);k(()=>r.value?`${r.value/1e3}s`:"");const o=k(()=>!t.result||!t.result.content?"":typeof t.result.content=="string"?t.result.content:typeof t.result.content=="object"&&"stdout"in t.result.content&&t.result.content.stdout||""),a=k(()=>!t.result||!t.result.content?"":typeof t.result.content=="object"&&"stderr"in t.result.content&&t.result.content.stderr||""),i=k(()=>!t.result||!t.result.content?null:typeof t.result.content=="object"&&"exit_code"in t.result.content?t.result.content.exit_code:null);return k(()=>i.value===null?"unknown":i.value===0?"success":"error"),k(()=>i.value===null?"æ‰§è¡Œä¸­":i.value===0?`æˆåŠŸ (${i.value})`:`å¤±è´¥ (${i.value})`),(l,c)=>(x(),S("div",kf,[Pe(bu,{"display-info":u.value,"is-expanded":n.value,"has-details":!0,onClick:c[0]||(c[0]=d=>n.value=!n.value)},{details:Nt(()=>[f("div",wf,[f("div",Df,[f("pre",Tf,T(s.value),1)]),e.result?(x(),S("div",If,[o.value?(x(),S("pre",_f,T(o.value),1)):M("",!0),a.value?(x(),S("pre",Af,T(a.value),1)):M("",!0),!o.value&&!a.value?(x(),S("div",$f,"No output")):M("",!0)])):M("",!0)])]),_:1},8,["display-info","is-expanded"])]))}}),Vr=ve(Ff,[["__scopeId","data-v-658117e1"]]),Of={class:"tool-display grep-tool"},Pf={class:"tool-header"},Mf={class:"tool-pattern"},Rf={key:0,class:"tool-glob"},Lf={key:0,class:"tool-content"},Nf={class:"search-info"},Bf={class:"info-row"},Uf={class:"value"},jf={key:0,class:"info-row"},zf={class:"value"},Hf={key:1,class:"info-row"},Gf={class:"value"},Wf={key:2,class:"info-row"},Kf={class:"value"},Vf={key:3,class:"info-row"},Jf={class:"value"},Yf={key:0,class:"search-options"},Xf={key:1,class:"search-results"},Zf={class:"results-header"},Qf={class:"match-count"},qf={class:"results-content"},ep={key:0,class:"file-list"},tp=["onClick"],np={key:1,class:"search-output"},up=pe({__name:"GrepToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>t.toolUse.input.pattern||""),s=k(()=>t.toolUse.input.path||""),r=k(()=>t.toolUse.input.glob||""),o=k(()=>t.toolUse.input.type||""),a=k(()=>t.toolUse.input.output_mode||"files_with_matches"),i=k(()=>({content:"å†…å®¹",files_with_matches:"æ–‡ä»¶åˆ—è¡¨",count:"è®¡æ•°"})[a.value]||a.value),l=k(()=>{const v=[];return t.toolUse.input["-i"]&&v.push("å¿½ç•¥å¤§å°å†™"),t.toolUse.input["-n"]&&v.push("æ˜¾ç¤ºè¡Œå·"),t.toolUse.input.multiline&&v.push("å¤šè¡ŒåŒ¹é…"),v}),c=k(()=>{if(!t.result)return"";if(typeof t.result.content=="string")return t.result.content;const v=t.result.content;return typeof v=="string"?v:Array.isArray(v)?v.filter(y=>y.type==="text").map(y=>y.text).join(`
`):JSON.stringify(v,null,2)}),d=k(()=>a.value==="files_with_matches"&&c.value.trim()),h=k(()=>d.value?c.value.split(`
`).filter(v=>v.trim()):[]),p=k(()=>{if(a.value==="count"){const v=c.value.match(/(\d+)/);return v?`${v[1]} ä¸ªåŒ¹é…`:""}return d.value?`${h.value.length} ä¸ªæ–‡ä»¶`:""});async function g(v){await rn.openFile(v)}return(v,y)=>(x(),S("div",Of,[f("div",Pf,[y[1]||(y[1]=f("span",{class:"tool-icon"},"ğŸ”",-1)),y[2]||(y[2]=f("span",{class:"tool-name"},"Grep",-1)),f("code",Mf,T(u.value),1),r.value?(x(),S("span",Rf,T(r.value),1)):M("",!0)]),n.value?(x(),S("div",Lf,[f("div",Nf,[f("div",Bf,[y[3]||(y[3]=f("span",{class:"label"},"æœç´¢æ¨¡å¼:",-1)),f("code",Uf,T(u.value),1)]),s.value?(x(),S("div",jf,[y[4]||(y[4]=f("span",{class:"label"},"æœç´¢è·¯å¾„:",-1)),f("span",zf,T(s.value),1)])):M("",!0),r.value?(x(),S("div",Hf,[y[5]||(y[5]=f("span",{class:"label"},"æ–‡ä»¶è¿‡æ»¤:",-1)),f("code",Gf,T(r.value),1)])):M("",!0),o.value?(x(),S("div",Wf,[y[6]||(y[6]=f("span",{class:"label"},"æ–‡ä»¶ç±»å‹:",-1)),f("span",Kf,T(o.value),1)])):M("",!0),a.value?(x(),S("div",Vf,[y[7]||(y[7]=f("span",{class:"label"},"è¾“å‡ºæ¨¡å¼:",-1)),f("span",Jf,T(i.value),1)])):M("",!0)]),l.value.length>0?(x(),S("div",Yf,[(x(!0),S($e,null,Re(l.value,D=>(x(),S("span",{key:D,class:"option-badge"},T(D),1))),128))])):M("",!0),e.result?(x(),S("div",Xf,[f("div",Zf,[y[8]||(y[8]=f("span",null,"æœç´¢ç»“æœ",-1)),f("span",Qf,T(p.value),1)]),f("div",qf,[d.value?(x(),S("div",ep,[(x(!0),S($e,null,Re(h.value,(D,E)=>(x(),S("div",{key:E,class:"file-item clickable",onClick:m=>g(D)}," ğŸ“„ "+T(D),9,tp))),128))])):(x(),S("pre",np,T(c.value),1))])])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:y[0]||(y[0]=D=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),Jr=ve(up,[["__scopeId","data-v-c073bba6"]]),op={class:"tool-display glob-tool"},sp={class:"tool-header"},rp={class:"tool-pattern"},ap={key:0,class:"tool-path"},ip={key:0,class:"tool-content"},lp={class:"glob-info"},cp={class:"info-row"},dp={class:"value"},fp={key:0,class:"info-row"},pp={class:"value"},hp={key:0,class:"glob-results"},gp={class:"results-header"},vp={class:"file-count"},mp={class:"results-content"},bp={key:0,class:"file-list"},yp=["onClick"],xp={class:"file-icon"},Ep={class:"file-name"},Sp={class:"file-path"},Cp={key:1,class:"no-matches"},kp=pe({__name:"GlobToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>t.toolUse.input.pattern||""),s=k(()=>t.toolUse.input.path||""),r=k(()=>{if(!s.value)return"";const p=s.value.split(/[\\/]/);return p[p.length-1]||s.value}),o=k(()=>{if(!t.result)return"";if(typeof t.result.content=="string")return t.result.content;const p=t.result.content;return typeof p=="string"?p:Array.isArray(p)?p.filter(g=>g.type==="text").map(g=>g.text).join(`
`):JSON.stringify(p,null,2)}),a=k(()=>o.value.trim()?o.value.split(`
`).filter(p=>p.trim()):[]),i=k(()=>{const p=a.value.length;return p===0?"æ— åŒ¹é…":`${p} ä¸ªæ–‡ä»¶`});function l(p){const g=p.split(".").pop()?.toLowerCase();return{ts:"ğŸ“˜",js:"ğŸ“œ",vue:"ğŸ’š",kt:"ğŸŸ£",java:"â˜•",py:"ğŸ",json:"ğŸ“‹",md:"ğŸ“",xml:"ğŸ“„",yaml:"âš™ï¸",yml:"âš™ï¸",gradle:"ğŸ˜",properties:"ğŸ”§"}[g||""]||"ğŸ“„"}function c(p){const g=p.split(/[\\/]/);return g[g.length-1]||p}function d(p){const g=p.split(/[\\/]/);return g.length<=1?"":g.slice(0,-1).join("/")}async function h(p){await rn.openFile(p)}return(p,g)=>(x(),S("div",op,[f("div",sp,[g[1]||(g[1]=f("span",{class:"tool-icon"},"ğŸ—‚ï¸",-1)),g[2]||(g[2]=f("span",{class:"tool-name"},"Glob",-1)),f("code",rp,T(u.value),1),s.value?(x(),S("span",ap,"in "+T(r.value),1)):M("",!0)]),n.value?(x(),S("div",ip,[f("div",lp,[f("div",cp,[g[3]||(g[3]=f("span",{class:"label"},"åŒ¹é…æ¨¡å¼:",-1)),f("code",dp,T(u.value),1)]),s.value?(x(),S("div",fp,[g[4]||(g[4]=f("span",{class:"label"},"æœç´¢ç›®å½•:",-1)),f("span",pp,T(s.value),1)])):M("",!0)]),e.result?(x(),S("div",hp,[f("div",gp,[g[5]||(g[5]=f("span",null,"åŒ¹é…æ–‡ä»¶",-1)),f("span",vp,T(i.value),1)]),f("div",mp,[a.value.length>0?(x(),S("div",bp,[(x(!0),S($e,null,Re(a.value,(v,y)=>(x(),S("div",{key:y,class:"file-item clickable",onClick:D=>h(v)},[f("span",xp,T(l(v)),1),f("span",Ep,T(c(v)),1),f("span",Sp,T(d(v)),1)],8,yp))),128))])):(x(),S("div",Cp,[...g[6]||(g[6]=[f("span",{class:"empty-icon"},"ğŸ“­",-1),f("span",{class:"empty-text"},"æ²¡æœ‰åŒ¹é…çš„æ–‡ä»¶",-1)])]))])])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:g[0]||(g[0]=v=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),Yr=ve(kp,[["__scopeId","data-v-59f7660d"]]),wp={class:"todo-list"},Dp={class:"todo-status-icon"},Tp={class:"todo-content"},Ip={key:0,class:"todo-active"},_p={class:"active-text"},Ap=pe({__name:"TodoWriteDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!0),u=k(()=>t.toolUse.input.todos?t.toolUse.input.todos:[]),s=k(()=>{const a=u.value.find(i=>i.status==="in_progress");return a?.activeForm||a?.content||""}),r=k(()=>({...Un(t.toolUse,t.result),primaryInfo:`${u.value.length}é¡¹ä»»åŠ¡`,secondaryInfo:s.value?`âš¡ ${s.value}`:""}));function o(a){return{pending:"â³",in_progress:"â–¶ï¸",completed:"âœ…"}[a]||"â“"}return(a,i)=>(x(),Be(bu,{"display-info":r.value,"is-expanded":n.value,"has-details":!0,onClick:i[0]||(i[0]=l=>n.value=!n.value)},{details:Nt(()=>[f("div",wp,[(x(!0),S($e,null,Re(u.value,(l,c)=>(x(),S("div",{key:c,class:le(["todo-item",`todo-${l.status}`])},[f("span",Dp,T(o(l.status)),1),f("span",Tp,T(l.content),1),l.status==="in_progress"?(x(),S("div",Ip,[i[1]||(i[1]=f("span",{class:"active-icon"},"âš¡",-1)),f("span",_p,T(l.activeForm),1)])):M("",!0)],2))),128))])]),_:1},8,["display-info","is-expanded"]))}}),Xr=ve(Ap,[["__scopeId","data-v-81890c1f"]]),$p={class:"tool-display websearch-tool"},Fp={class:"tool-header"},Op={class:"tool-query"},Pp={key:0,class:"tool-content"},Mp={class:"search-info"},Rp={class:"info-row"},Lp={class:"value"},Np={key:0,class:"info-row"},Bp={class:"domain-list"},Up={key:1,class:"info-row"},jp={class:"domain-list"},zp={key:0,class:"search-results"},Hp={class:"results-header"},Gp={key:0,class:"results-count"},Wp={class:"results-content"},Kp={key:0,class:"result-list"},Vp={class:"result-title"},Jp=["href","onClick"],Yp={key:0,class:"result-position"},Xp={key:0,class:"result-snippet"},Zp={class:"result-url"},Qp={key:1,class:"result-text"},qp=pe({__name:"WebSearchToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>t.toolUse.input.query||""),s=k(()=>t.toolUse.input.allowed_domains||[]),r=k(()=>t.toolUse.input.blocked_domains||[]),o=k(()=>{const h=u.value,p=40;return h.length<=p?h:h.substring(0,p)+"..."}),a=k(()=>{if(!t.result)return"";if(typeof t.result.content=="string")return t.result.content;const h=t.result.content;return typeof h=="string"?h:Array.isArray(h)?h.filter(p=>p.type==="text").map(p=>p.text).join(`
`):JSON.stringify(h,null,2)}),i=k(()=>{if(!t.result||!t.result.content)return[];try{let h=t.result.content;if(typeof h=="string"&&(h=JSON.parse(h)),h&&typeof h=="object"&&"results"in h){const p=h.results;if(Array.isArray(p))return p.map((g,v)=>({title:g.title||g.name,url:g.url||g.link,snippet:g.snippet||g.description||g.content,position:g.position||v+1,displayUrl:c(g.url||g.link)}))}if(Array.isArray(h))return h.map((p,g)=>({title:p.title||p.name,url:p.url||p.link,snippet:p.snippet||p.description,position:p.position||g+1,displayUrl:c(p.url||p.link)}))}catch(h){console.warn("Failed to parse search results:",h)}return[]}),l=k(()=>i.value.length);function c(h){if(!h)return"";try{const p=new URL(h);return p.hostname+p.pathname}catch{return h}}function d(h){if(h)try{new URL(h),window.open(h,"_blank","noopener,noreferrer")}catch{console.error("Invalid URL:",h)}}return(h,p)=>(x(),S("div",$p,[f("div",Fp,[p[1]||(p[1]=f("span",{class:"tool-icon"},"ğŸ”",-1)),p[2]||(p[2]=f("span",{class:"tool-name"},"WebSearch",-1)),f("code",Op,T(o.value),1)]),n.value?(x(),S("div",Pp,[f("div",Mp,[f("div",Rp,[p[3]||(p[3]=f("span",{class:"label"},"æœç´¢æŸ¥è¯¢:",-1)),f("span",Lp,T(u.value),1)]),s.value.length>0?(x(),S("div",Np,[p[4]||(p[4]=f("span",{class:"label"},"å…è®¸åŸŸå:",-1)),f("div",Bp,[(x(!0),S($e,null,Re(s.value,(g,v)=>(x(),S("span",{key:v,class:"domain-tag allowed"},T(g),1))),128))])])):M("",!0),r.value.length>0?(x(),S("div",Up,[p[5]||(p[5]=f("span",{class:"label"},"ç¦æ­¢åŸŸå:",-1)),f("div",jp,[(x(!0),S($e,null,Re(r.value,(g,v)=>(x(),S("span",{key:v,class:"domain-tag blocked"},T(g),1))),128))])])):M("",!0)]),e.result?(x(),S("div",zp,[f("div",Hp,[p[6]||(p[6]=f("span",null,"æœç´¢ç»“æœ",-1)),l.value>0?(x(),S("span",Gp,T(l.value)+" ä¸ªç»“æœ",1)):M("",!0)]),f("div",Wp,[i.value.length>0?(x(),S("div",Kp,[(x(!0),S($e,null,Re(i.value,(g,v)=>(x(),S("div",{key:v,class:"search-result"},[f("div",Vp,[f("a",{href:g.url,class:"result-link",target:"_blank",rel:"noopener noreferrer",onClick:Ct(y=>d(g.url),["prevent"])},T(g.title||g.url),9,Jp),g.position?(x(),S("span",Yp,"#"+T(g.position),1)):M("",!0)]),g.snippet?(x(),S("p",Xp,T(g.snippet),1)):M("",!0),f("div",Zp,T(g.displayUrl),1)]))),128))])):(x(),S("pre",Qp,T(a.value),1))])])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:p[0]||(p[0]=g=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),Zr=ve(qp,[["__scopeId","data-v-eb9ddba5"]]),eh={class:"tool-display webfetch-tool"},th={class:"tool-header"},nh=["href"],uh={key:0,class:"tool-content"},oh={class:"fetch-info"},sh={class:"info-row"},rh=["href"],ah={key:0,class:"info-row"},ih={class:"value"},lh={key:1,class:"info-row"},ch={class:"value"},dh={key:2,class:"info-row"},fh={class:"value"},ph={key:3,class:"info-row"},hh={class:"value"},gh={key:0,class:"fetch-result"},vh={class:"result-header"},mh={class:"header-actions"},bh={key:0,class:"content-size"},yh={key:0,class:"markdown-preview"},xh={key:1,class:"json-content"},Eh={key:2,class:"text-content"},Ps=2e3,Sh=pe({__name:"WebFetchToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=G(!1),s=k(()=>t.toolUse.input.url||""),r=k(()=>t.toolUse.input.prompt||""),o=k(()=>{const I=s.value;try{return new URL(I).hostname}catch{return I.replace(/^https?:\/\//,"").replace(/^www\./,"").split("/")[0].substring(0,40)}}),a=k(()=>{if(!t.result)return null;try{let I=t.result.content;if(typeof I=="string")try{I=JSON.parse(I)}catch{}return I}catch(I){return console.warn("Failed to parse result content:",I),null}}),i=k(()=>!a.value||typeof a.value!="object"?null:a.value.status_code||a.value.statusCode),l=k(()=>{if(!i.value)return"";const I=i.value;return I>=200&&I<300?"OK":I>=300&&I<400?"Redirect":I>=400&&I<500?"Client Error":I>=500?"Server Error":""}),c=k(()=>{const I=i.value;return I?I>=200&&I<300?"success":I>=300&&I<400?"redirect":I>=400&&I<500?"client-error":I>=500?"server-error":"unknown":"unknown"}),d=k(()=>!a.value||typeof a.value!="object"?null:a.value.content_type||a.value.contentType),h=k(()=>{if(!a.value||typeof a.value!="object")return null;const I=a.value.timestamp;if(!I)return null;try{return new Date(I).toLocaleString("zh-CN")}catch{return null}}),p=k(()=>{if(!a.value)return"";if(typeof a.value=="string")return a.value;if(typeof a.value=="object"&&"content"in a.value){const I=a.value.content;return typeof I=="string"?I:JSON.stringify(I,null,2)}return JSON.stringify(a.value,null,2)}),g=k(()=>p.value.length),v=k(()=>{const I=g.value;return I<1024?`${I} B`:I<1024*1024?`${(I/1024).toFixed(1)} KB`:`${(I/(1024*1024)).toFixed(1)} MB`}),y=k(()=>g.value>Ps),D=k(()=>u.value||!y.value?p.value:p.value.substring(0,Ps)+`

... (å†…å®¹å·²æˆªæ–­)`),E=k(()=>{const I=d.value?.toLowerCase()||"";return I.includes("markdown")||I.includes("md")}),m=k(()=>{if((d.value?.toLowerCase()||"").includes("json"))return!0;try{return JSON.parse(p.value),!0}catch{return!1}}),C=k(()=>{try{const I=JSON.parse(D.value);return JSON.stringify(I,null,2)}catch{return D.value}}),b=k(()=>g.value>0);function w(I){if(I)try{new URL(I),window.open(I,"_blank","noopener,noreferrer")}catch{console.error("Invalid URL:",I)}}async function _(){try{await navigator.clipboard.writeText(p.value)}catch(I){console.error("Failed to copy content:",I)}}function A(){u.value=!u.value}return(I,R)=>(x(),S("div",eh,[f("div",th,[R[3]||(R[3]=f("span",{class:"tool-icon"},"ğŸŒ",-1)),R[4]||(R[4]=f("span",{class:"tool-name"},"WebFetch",-1)),f("a",{href:s.value,class:"tool-url",target:"_blank",rel:"noopener noreferrer",onClick:R[0]||(R[0]=Ct(H=>w(s.value),["prevent"]))},T(o.value),9,nh),i.value?(x(),S("span",{key:0,class:le(["status-badge",c.value])},T(i.value),3)):M("",!0)]),n.value?(x(),S("div",uh,[f("div",oh,[f("div",sh,[R[5]||(R[5]=f("span",{class:"label"},"ç›®æ ‡ URL:",-1)),f("a",{href:s.value,class:"value url-link",target:"_blank",rel:"noopener noreferrer",onClick:R[1]||(R[1]=Ct(H=>w(s.value),["prevent"]))},T(s.value),9,rh)]),r.value?(x(),S("div",ah,[R[6]||(R[6]=f("span",{class:"label"},"Prompt:",-1)),f("span",ih,T(r.value),1)])):M("",!0),i.value?(x(),S("div",lh,[R[7]||(R[7]=f("span",{class:"label"},"çŠ¶æ€ç :",-1)),f("span",ch,T(i.value)+" "+T(l.value),1)])):M("",!0),d.value?(x(),S("div",dh,[R[8]||(R[8]=f("span",{class:"label"},"å†…å®¹ç±»å‹:",-1)),f("span",fh,T(d.value),1)])):M("",!0),h.value?(x(),S("div",ph,[R[9]||(R[9]=f("span",{class:"label"},"æŠ“å–æ—¶é—´:",-1)),f("span",hh,T(h.value),1)])):M("",!0)]),e.result?(x(),S("div",gh,[f("div",vh,[R[11]||(R[11]=f("span",null,"æŠ“å–å†…å®¹",-1)),f("div",mh,[g.value?(x(),S("span",bh,T(v.value),1)):M("",!0),b.value?(x(),S("button",{key:1,class:"copy-btn",title:"å¤åˆ¶",onClick:_},[...R[10]||(R[10]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])):M("",!0),y.value?(x(),S("button",{key:2,class:"action-btn",onClick:A},T(u.value?"æ”¶èµ·":"æŸ¥çœ‹å®Œæ•´å†…å®¹"),1)):M("",!0)])]),f("div",{class:le(["result-content",{"full-content":u.value}])},[E.value?(x(),S("div",yh,[Pe(wt,{content:D.value},null,8,["content"])])):m.value?(x(),S("pre",xh,T(C.value),1)):(x(),S("pre",Eh,T(D.value),1))],2)])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:R[2]||(R[2]=H=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),Qr=ve(Sh,[["__scopeId","data-v-b334572b"]]),Ch={class:"tool-header"},kh={key:0,class:"answered-badge"},wh={key:1,class:"question-count"},Dh={key:0,class:"tool-content"},Th={class:"question-header"},Ih={key:0,class:"question-tag"},_h={class:"question-text"},Ah={class:"options-list"},$h=["onClick"],Fh=["type","name","value","checked","disabled","onChange"],Oh={class:"option-content"},Ph={class:"option-label"},Mh={key:0,class:"option-description"},Rh={key:0,class:"custom-input-wrapper"},Lh=["onUpdate:modelValue","disabled"],Nh={key:0,class:"action-buttons"},Bh=["disabled"],Uh=["disabled"],jh={key:1,class:"answered-state"},zh={class:"answer-preview"},Hh={class:"answer-list"},Gh={class:"answer-header"},Wh={class:"answer-value"},Kh={key:2,class:"error-message"},Vh={class:"error-text"},Jh=pe({__name:"AskUserQuestionDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!0),u=G(new Map),s=G({}),r=G(!1),o=G(!1),a=G({}),i=G(""),l=k(()=>{const E=t.toolUse.input;return E.questions&&Array.isArray(E.questions)?E.questions.map(m=>({question:m.question||"",header:m.header||"é—®é¢˜",options:m.options||[],multiSelect:m.multiSelect||!1})):[{question:E.question||"",header:"é—®é¢˜",options:(E.options||[]).map(m=>typeof m=="string"?{label:m}:m),multiSelect:E.multiSelect||!1}]});l.value.forEach((E,m)=>{u.value.has(m)||u.value.set(m,new Set)});function c(E,m){return u.value.get(E)?.has(m)||!1}function d(E){return l.value[E].options.some(b=>b.label.toLowerCase()==="other"||b.label==="å…¶ä»–")&&(c(E,"Other")||c(E,"å…¶ä»–"))}function h(E,m){o.value||p(E,m)}function p(E,m){if(o.value)return;const C=l.value[E],b=u.value.get(E);C.multiSelect?b.has(m)?b.delete(m):b.add(m):(b.clear(),b.add(m)),u.value=new Map(u.value)}function g(){u.value.forEach(E=>E.clear()),s.value={},u.value=new Map(u.value)}const v=k(()=>{for(let E=0;E<l.value.length;E++){const m=u.value.get(E),C=m&&m.size>0,b=s.value[E]?.trim();if(C||b)return!0}return!1});async function y(){if(!v.value||r.value)return;const E={};l.value.forEach((m,C)=>{const b=m.header||`é—®é¢˜${C+1}`,w=u.value.get(C),_=s.value[C]?.trim();if(w&&w.size>0){const A=Array.from(w);if(_&&(A.includes("Other")||A.includes("å…¶ä»–"))){const I=A.filter(R=>R!=="Other"&&R!=="å…¶ä»–");I.push(_),E[b]=m.multiSelect?I.join(", "):I[0]}else E[b]=m.multiSelect?A.join(", "):A[0]}else _&&(E[b]=_)}),r.value=!0,i.value="";try{const m=await bt.query("tool.askUserQuestion.answer",{toolUseId:t.toolUse.id,answers:E});m.success?(o.value=!0,a.value=E,console.log("ç­”æ¡ˆå·²æäº¤:",E)):i.value=m.error||"æäº¤å¤±è´¥"}catch(m){console.error("Failed to submit answer:",m),i.value=String(m)}finally{r.value=!1}}function D(){i.value="",y()}return(E,m)=>(x(),S("div",{class:le(["tool-display ask-question-tool",{answered:o.value}])},[f("div",Ch,[m[2]||(m[2]=f("span",{class:"tool-icon"},"â“",-1)),m[3]||(m[3]=f("span",{class:"tool-name"},"ç”¨æˆ·é—®ç­”",-1)),o.value?(x(),S("span",kh,"âœ“ å·²å›ç­”")):M("",!0),l.value.length>1?(x(),S("span",wh,T(l.value.length)+" ä¸ªé—®é¢˜ ",1)):M("",!0)]),n.value?(x(),S("div",Dh,[(x(!0),S($e,null,Re(l.value,(C,b)=>(x(),S("div",{key:b,class:"question-block"},[f("div",Th,[C.header?(x(),S("span",Ih,T(C.header),1)):M("",!0),f("span",_h,T(C.question),1)]),f("div",Ah,[(x(!0),S($e,null,Re(C.options,(w,_)=>(x(),S("label",{key:_,class:le(["option-item",{selected:c(b,w.label),disabled:o.value}]),onClick:A=>h(b,w.label)},[f("input",{type:C.multiSelect?"checkbox":"radio",name:`question-${b}`,value:w.label,checked:c(b,w.label),disabled:o.value,onClick:m[0]||(m[0]=Ct(()=>{},["stop"])),onChange:A=>p(b,w.label)},null,40,Fh),f("div",Oh,[f("span",Ph,T(w.label),1),w.description?(x(),S("span",Mh,T(w.description),1)):M("",!0)])],10,$h))),128)),d(b)?(x(),S("div",Rh,[m[4]||(m[4]=f("label",{class:"custom-input-label"},"è‡ªå®šä¹‰ç­”æ¡ˆ:",-1)),vn(f("input",{"onUpdate:modelValue":w=>s.value[b]=w,type:"text",class:"custom-input",placeholder:"è¯·è¾“å…¥è‡ªå®šä¹‰ç­”æ¡ˆ...",disabled:o.value},null,8,Lh),[[$o,s.value[b]]])])):M("",!0)])]))),128)),o.value?(x(),S("div",jh,[f("div",zh,[m[5]||(m[5]=f("strong",null,"æ‚¨çš„ç­”æ¡ˆ:",-1)),f("div",Hh,[(x(!0),S($e,null,Re(a.value,(C,b)=>(x(),S("div",{key:b,class:"answer-item"},[f("span",Gh,T(b)+":",1),f("span",Wh,T(C),1)]))),128))])])])):(x(),S("div",Nh,[f("button",{class:"btn btn-primary",disabled:!v.value||r.value,onClick:y},T(r.value?"æäº¤ä¸­...":"æäº¤ç­”æ¡ˆ"),9,Bh),l.value.length>1?(x(),S("button",{key:0,class:"btn btn-secondary",disabled:r.value,onClick:g}," æ¸…é™¤é€‰æ‹© ",8,Uh)):M("",!0)])),i.value?(x(),S("div",Kh,[m[6]||(m[6]=f("span",{class:"error-icon"},"âš ï¸",-1)),f("span",Vh,T(i.value),1),f("button",{class:"btn-retry",onClick:D}," é‡è¯• ")])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:m[1]||(m[1]=C=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)],2))}}),Yh=ve(Jh,[["__scopeId","data-v-d1642342"]]),Xh={class:"tool-header"},Zh={class:"notebook-info"},Qh={class:"file-name"},qh={class:"edit-mode-badge"},e1={class:"cell-type-badge"},t1={key:0,class:"tool-content"},n1={class:"notebook-meta"},u1={class:"meta-row"},o1={class:"meta-row"},s1={class:"meta-value"},r1={key:0,class:"meta-row"},a1={class:"meta-value"},i1={key:0,class:"cell-content"},l1={class:"content-header"},c1={class:"content-label"},d1={key:0,class:"code-cell"},f1={class:"language-python"},p1={key:1,class:"markdown-cell"},h1={key:0,class:"markdown-preview"},g1={key:1,class:"markdown-source"},v1={class:"status-icon"},m1={class:"status-message"},b1=pe({__name:"NotebookEditToolDisplay",props:{toolUse:{},result:{},isDark:{type:Boolean,default:!1}},setup(e){const t=e,n=G(!1),u=G(!1),s=G(!1),r=k(()=>t.toolUse.input.notebook_path||""),o=k(()=>t.toolUse.input.cell_id),a=k(()=>t.toolUse.input.new_source||""),i=k(()=>t.toolUse.input.cell_type||"code"),l=k(()=>t.toolUse.input.edit_mode||"replace"),c=k(()=>{if(!t.result)return null;try{if(typeof t.result.content=="string")return JSON.parse(t.result.content);if(Array.isArray(t.result.content)&&t.result.content.length>0){const b=t.result.content[0];if(b.type==="text")return JSON.parse(b.text)}return t.result.content}catch(b){return console.error("Failed to parse result:",b),null}}),d=k(()=>{const b=r.value;return b.split(/[\\/]/).pop()||b}),h=k(()=>({replace:"æ›¿æ¢",insert:"æ’å…¥",delete:"åˆ é™¤"})[l.value]||l.value),p=k(()=>i.value==="code"?"Code":"Markdown"),g=k(()=>{const b=h.value,w=o.value?`å•å…ƒæ ¼ ${o.value}`:"å•å…ƒæ ¼";return`${b} ${w}`}),v=k(()=>{const b=a.value,w=b.split(`
`);return u.value||w.length<=20?b:w.slice(0,20).join(`
`)+`
...`}),y=k(()=>a.value.split(`
`).length>20),D=k(()=>c.value?c.value.success?"status-success":"status-error":"");function E(){n.value=!n.value}async function m(){try{const b=await rn.openFile(r.value);!b.success&&b.error&&console.error("Failed to open notebook:",b.error)}catch(b){console.error("Failed to open notebook:",b)}}async function C(){try{await navigator.clipboard.writeText(a.value)}catch(b){console.error("Failed to copy:",b)}}return(b,w)=>(x(),S("div",{class:le(["tool-display notebook-edit-tool",D.value])},[f("div",Xh,[w[2]||(w[2]=f("span",{class:"tool-icon"},"ğŸ““",-1)),w[3]||(w[3]=f("span",{class:"tool-name"},"NotebookEdit",-1)),f("span",Zh,[f("span",Qh,T(d.value),1),f("span",qh,T(h.value),1),f("span",e1,T(p.value),1)])]),n.value?(x(),S("div",t1,[f("div",n1,[f("div",u1,[w[4]||(w[4]=f("span",{class:"meta-label"},"æ–‡ä»¶:",-1)),f("span",{class:"meta-value file-path",onClick:m},T(r.value),1)]),f("div",o1,[w[5]||(w[5]=f("span",{class:"meta-label"},"æ“ä½œ:",-1)),f("span",s1,T(g.value),1)]),o.value?(x(),S("div",r1,[w[6]||(w[6]=f("span",{class:"meta-label"},"å•å…ƒæ ¼:",-1)),f("span",a1,T(o.value),1)])):M("",!0)]),l.value!=="delete"?(x(),S("div",i1,[f("div",l1,[f("span",c1,T(p.value)+" å•å…ƒæ ¼å†…å®¹",1),f("button",{class:"btn-copy",onClick:C}," ğŸ“‹ å¤åˆ¶ ")]),i.value==="code"?(x(),S("div",d1,[f("pre",null,[f("code",f1,T(v.value),1)]),y.value?(x(),S("button",{key:0,class:"toggle-btn",onClick:w[0]||(w[0]=_=>u.value=!u.value)},T(u.value?"æ”¶èµ·":"æŸ¥çœ‹å®Œæ•´å†…å®¹"),1)):M("",!0)])):(x(),S("div",p1,[s.value?(x(),S("div",h1,[Pe(wt,{content:v.value,"is-dark":e.isDark},null,8,["content","is-dark"])])):(x(),S("pre",g1,T(v.value),1)),f("button",{class:"toggle-btn",onClick:w[1]||(w[1]=_=>s.value=!s.value)},T(s.value?"æŸ¥çœ‹æºç ":"é¢„è§ˆ Markdown"),1)]))])):M("",!0),c.value?(x(),S("div",{key:1,class:le(["result-status",c.value.success?"success":"error"])},[f("span",v1,T(c.value.success?"âœ…":"âŒ"),1),f("span",m1,T(c.value.message||(c.value.success?"ç¼–è¾‘æˆåŠŸ":"ç¼–è¾‘å¤±è´¥")),1)],2)):M("",!0),f("div",{class:"actions"},[f("button",{class:"btn btn-primary",onClick:m}," ğŸ“‚ æ‰“å¼€ç¬”è®°æœ¬ ")])])):M("",!0),f("button",{class:"expand-btn",onClick:E},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)],2))}}),y1=ve(b1,[["__scopeId","data-v-44da1094"]]);var wn=(e=>(e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error",e))(wn||{});const x1={duration:3e3},qr=Go("toast",()=>{const e=G([]),t=5;function n(){return`toast-${Date.now()}-${crypto.randomUUID().substring(0,9)}`}function u(c,d={}){const{type:h=wn.INFO,duration:p=x1.duration}=d,g={id:n(),type:h,message:c,duration:p,timestamp:Date.now()};return e.value.length>=t&&e.value.shift(),e.value.push(g),p>0&&setTimeout(()=>{s(g.id)},p),g.id}function s(c){const d=e.value.findIndex(h=>h.id===c);d!==-1&&e.value.splice(d,1)}function r(){e.value=[]}function o(c,d){return u(c,{type:wn.INFO,duration:d})}function a(c,d){return u(c,{type:wn.SUCCESS,duration:d})}function i(c,d){return u(c,{type:wn.WARNING,duration:d})}function l(c,d){return u(c,{type:wn.ERROR,duration:d??5e3})}return{toasts:e,addToast:u,removeToast:s,clearAll:r,info:o,success:a,warning:i,error:l}}),E1={class:"tool-header"},S1={class:"task-info"},C1={class:"task-description"},k1={class:"agent-type-badge"},w1={key:0,class:"tool-content"},D1={class:"task-meta"},T1={class:"meta-row"},I1={class:"meta-value agent-type"},_1={key:0,class:"meta-row"},A1={class:"meta-value"},$1={class:"meta-row"},F1={key:1,class:"meta-row"},O1={class:"progress-bar"},P1={class:"progress-text"},M1={class:"task-prompt-section"},R1={class:"toggle-icon"},L1={key:0,class:"prompt-content"},N1={key:0,class:"steps-section"},B1={class:"steps-tree"},U1=["onClick"],j1={class:"step-icon"},z1={class:"step-number"},H1={class:"step-action"},G1={key:0,class:"expand-icon"},W1={key:0,class:"step-output"},K1={key:1,class:"output-section"},V1={class:"output-content"},J1={key:1},Y1={key:2,class:"error-section"},X1={class:"error-message"},Z1=pe({__name:"TaskToolDisplay",props:{toolUse:{},result:{},isDark:{type:Boolean,default:!1}},setup(e){const t=e,n=qr(),u=G(!1),s=G(!0),r=G(!1),o=G(new Set),a=k(()=>t.toolUse.input.description||"æœªå‘½åä»»åŠ¡"),i=k(()=>t.toolUse.input.prompt||""),l=k(()=>t.toolUse.input.subagent_type||"general-purpose"),c=k(()=>t.toolUse.input.model),d=k(()=>{if(!t.result)return null;const R=t.result.content;if(typeof R=="string")try{return JSON.parse(R)}catch{return{output:R}}return R}),h=k(()=>d.value?.output||""),p=k(()=>d.value?.error||""),g=k(()=>d.value?.steps||[]),v=k(()=>p.value?"failed":d.value?g.value.some(R=>R.status==="running")?"running":g.value.length>0&&g.value.every(R=>R.status==="completed")?"completed":d.value?.success===!1?"failed":d.value?.success===!0?"completed":"running":"pending"),y=k(()=>({pending:"ç­‰å¾…ä¸­",running:"æ‰§è¡Œä¸­",completed:"å·²å®Œæˆ",failed:"å¤±è´¥"})[v.value]||v.value),D=k(()=>({pending:"â³",running:"âš™ï¸",completed:"âœ…",failed:"âŒ"})[v.value]||"â—"),E=k(()=>`status-${v.value}`),m=k(()=>{if(g.value.length===0)return null;const R=g.value.filter(H=>H.status==="completed").length;return Math.round(R/g.value.length*100)}),C=k(()=>{const R=i.value.split(`
`);return r.value||R.length<=10?i.value:R.slice(0,10).join(`
`)+`
...`}),b=k(()=>i.value.split(`
`).length>10),w=k(()=>{const R=h.value;return R.includes("#")||R.includes("```")||R.includes("*")||R.includes("-")});function _(R){o.value.has(R)?o.value.delete(R):o.value.add(R),o.value=new Set(o.value)}function A(R){return{pending:"â³",running:"âš™ï¸",completed:"âœ…",failed:"âŒ"}[R]||"â—"}async function I(){try{await navigator.clipboard.writeText(h.value),n.success("è¾“å‡ºå·²å¤åˆ¶")}catch(R){console.error("Failed to copy:",R),n.error("å¤åˆ¶å¤±è´¥")}}return(R,H)=>(x(),S("div",{class:le(["tool-display task-tool",E.value])},[f("div",E1,[H[3]||(H[3]=f("span",{class:"tool-icon"},"ğŸ¤–",-1)),H[4]||(H[4]=f("span",{class:"tool-name"},"å­ä»»åŠ¡",-1)),f("span",S1,[f("span",C1,T(a.value),1),f("span",k1,T(l.value),1),f("span",{class:le(["status-badge",E.value])},T(y.value),3)])]),u.value?(x(),S("div",w1,[f("div",D1,[f("div",T1,[H[5]||(H[5]=f("span",{class:"meta-label"},"ä»£ç†ç±»å‹:",-1)),f("span",I1,T(l.value),1)]),c.value?(x(),S("div",_1,[H[6]||(H[6]=f("span",{class:"meta-label"},"æ¨¡å‹:",-1)),f("span",A1,T(c.value),1)])):M("",!0),f("div",$1,[H[7]||(H[7]=f("span",{class:"meta-label"},"çŠ¶æ€:",-1)),f("span",{class:le(["meta-value",E.value])},T(D.value)+" "+T(y.value),3)]),m.value!==null?(x(),S("div",F1,[H[8]||(H[8]=f("span",{class:"meta-label"},"è¿›åº¦:",-1)),f("div",O1,[f("div",{class:"progress-fill",style:Yu({width:`${m.value}%`})},null,4),f("span",P1,T(m.value)+"%",1)])])):M("",!0)]),f("div",M1,[f("div",{class:"section-header",onClick:H[0]||(H[0]=te=>s.value=!s.value)},[H[9]||(H[9]=f("span",{class:"section-title"},"ä»»åŠ¡æç¤º",-1)),f("span",R1,T(s.value?"â–¼":"â–¶"),1)]),s.value?(x(),S("div",L1,[f("pre",null,T(C.value),1),b.value?(x(),S("button",{key:0,class:"show-more-btn",onClick:H[1]||(H[1]=te=>r.value=!r.value)},T(r.value?"æ”¶èµ·":"æŸ¥çœ‹å®Œæ•´æç¤º"),1)):M("",!0)])):M("",!0)]),g.value&&g.value.length>0?(x(),S("div",N1,[H[10]||(H[10]=f("div",{class:"section-header"},[f("span",{class:"section-title"},"æ‰§è¡Œæ­¥éª¤")],-1)),f("div",B1,[(x(!0),S($e,null,Re(g.value,(te,U)=>(x(),S("div",{key:U,class:le(["step-item",`status-${te.status}`])},[f("div",{class:"step-header",onClick:N=>_(U)},[f("span",j1,T(A(te.status)),1),f("span",z1,T(te.step)+".",1),f("span",H1,T(te.action),1),te.output?(x(),S("span",G1,T(o.value.has(U)?"â–¼":"â–¶"),1)):M("",!0)],8,U1),o.value.has(U)&&te.output?(x(),S("div",W1,[f("pre",null,T(te.output),1)])):M("",!0)],2))),128))])])):M("",!0),h.value?(x(),S("div",K1,[f("div",{class:"section-header"},[H[12]||(H[12]=f("span",{class:"section-title"},"è¾“å‡º",-1)),f("button",{class:"copy-btn",title:"å¤åˆ¶",onClick:I},[...H[11]||(H[11]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])]),f("div",V1,[w.value?(x(),Be(wt,{key:0,content:h.value,"is-dark":e.isDark},null,8,["content","is-dark"])):(x(),S("pre",J1,T(h.value),1))])])):M("",!0),p.value?(x(),S("div",Y1,[H[13]||(H[13]=f("div",{class:"error-header"},[f("span",{class:"error-icon"},"âŒ"),f("span",{class:"error-title"},"æ‰§è¡Œå¤±è´¥")],-1)),f("div",X1,T(p.value),1)])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:H[2]||(H[2]=te=>u.value=!u.value)},T(u.value?"æ”¶èµ·":"å±•å¼€"),1)],2))}}),Q1=ve(Z1,[["__scopeId","data-v-49e743b0"]]),q1={class:"tool-header"},eg={class:"command-text"},tg={key:0,class:"tool-content"},ng={class:"command-meta"},ug={class:"meta-row"},og={class:"meta-value command-code"},sg={key:0,class:"meta-row"},rg={class:"meta-value"},ag={class:"meta-row"},ig={key:0,class:"expanded-prompt-section"},lg={class:"toggle-icon"},cg={key:0,class:"prompt-content"},dg={key:1,class:"prompt-text"},fg={key:1,class:"output-section"},pg={class:"output-content"},hg={key:1,class:"output-text"},gg={key:2,class:"error-section"},vg={class:"error-message"},mg={key:3,class:"actions"},bg=pe({__name:"SlashCommandToolDisplay",props:{toolUse:{},result:{},isDark:{type:Boolean,default:!1}},setup(e){const t=e,n=G(!1),u=G(!1),s=G(!1),r=G(!1),o=k(()=>t.toolUse.input.command||""),a=k(()=>{if(!t.result)return null;const _=t.result.content;if(typeof _=="string")try{return JSON.parse(_)}catch{return{output:_}}return _}),i=k(()=>a.value?.output||""),l=k(()=>a.value?.error||""),c=k(()=>a.value?.command_name||""),d=k(()=>a.value?.expanded_prompt||""),h=k(()=>l.value?"failed":a.value?a.value.success?"completed":"failed":"pending"),p=k(()=>({pending:"ç­‰å¾…ä¸­",completed:"æ‰§è¡ŒæˆåŠŸ",failed:"æ‰§è¡Œå¤±è´¥"})[h.value]||h.value),g=k(()=>({pending:"â³",completed:"âœ…",failed:"âŒ"})[h.value]||"â—"),v=k(()=>`status-${h.value}`),y=k(()=>{const _=d.value,A=_.split(`
`);return s.value||A.length<=15?_:A.slice(0,15).join(`
`)+`
...`}),D=k(()=>d.value.split(`
`).length>15),E=k(()=>{const _=d.value;return _.includes("#")||_.includes("```")||_.includes("*")||_.includes("-")}),m=k(()=>{const _=i.value,A=_.split(`
`);return r.value||A.length<=20?_:A.slice(0,20).join(`
`)+`
...`}),C=k(()=>i.value.split(`
`).length>20),b=k(()=>{const _=i.value;return _.includes("#")||_.includes("```")||_.includes("*")||_.includes("-")});async function w(){try{await navigator.clipboard.writeText(i.value)}catch(_){console.error("Failed to copy:",_)}}return(_,A)=>(x(),S("div",{class:le(["tool-display slashcommand-tool",v.value])},[f("div",q1,[A[4]||(A[4]=f("span",{class:"tool-icon"},"âš¡",-1)),A[5]||(A[5]=f("span",{class:"tool-name"},"æ–œæ å‘½ä»¤",-1)),f("code",eg,T(o.value),1),f("span",{class:le(["status-badge",v.value])},T(p.value),3)]),n.value?(x(),S("div",tg,[f("div",ng,[f("div",ug,[A[6]||(A[6]=f("span",{class:"meta-label"},"å‘½ä»¤:",-1)),f("code",og,T(o.value),1)]),c.value?(x(),S("div",sg,[A[7]||(A[7]=f("span",{class:"meta-label"},"å‘½ä»¤å:",-1)),f("span",rg,T(c.value),1)])):M("",!0),f("div",ag,[A[8]||(A[8]=f("span",{class:"meta-label"},"çŠ¶æ€:",-1)),f("span",{class:le(["meta-value",v.value])},T(g.value)+" "+T(p.value),3)])]),d.value?(x(),S("div",ig,[f("div",{class:"section-header",onClick:A[0]||(A[0]=I=>u.value=!u.value)},[A[9]||(A[9]=f("span",{class:"section-title"},"å±•å¼€çš„æç¤º",-1)),f("span",lg,T(u.value?"â–¼":"â–¶"),1)]),u.value?(x(),S("div",cg,[E.value?(x(),Be(wt,{key:0,content:y.value,"is-dark":e.isDark},null,8,["content","is-dark"])):(x(),S("pre",dg,T(y.value),1)),D.value?(x(),S("button",{key:2,class:"toggle-btn",onClick:A[1]||(A[1]=I=>s.value=!s.value)},T(s.value?"æ”¶èµ·":"æŸ¥çœ‹å®Œæ•´æç¤º"),1)):M("",!0)])):M("",!0)])):M("",!0),i.value?(x(),S("div",fg,[f("div",{class:"section-header"},[A[10]||(A[10]=f("span",{class:"section-title"},"è¾“å‡º",-1)),f("button",{class:"btn-copy",onClick:w}," ğŸ“‹ å¤åˆ¶ ")]),f("div",pg,[b.value?(x(),Be(wt,{key:0,content:m.value,"is-dark":e.isDark},null,8,["content","is-dark"])):(x(),S("pre",hg,T(m.value),1)),C.value?(x(),S("button",{key:2,class:"toggle-btn",onClick:A[2]||(A[2]=I=>r.value=!r.value)},T(r.value?"æ”¶èµ·":"æŸ¥çœ‹å®Œæ•´è¾“å‡º"),1)):M("",!0)])])):M("",!0),l.value?(x(),S("div",gg,[A[11]||(A[11]=f("div",{class:"error-header"},[f("span",{class:"error-icon"},"âŒ"),f("span",{class:"error-title"},"æ‰§è¡Œå¤±è´¥")],-1)),f("div",vg,T(l.value),1)])):M("",!0),i.value?(x(),S("div",mg,[f("button",{class:"btn btn-primary",onClick:w}," ğŸ“‹ å¤åˆ¶è¾“å‡º ")])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:A[3]||(A[3]=I=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)],2))}}),yg=ve(bg,[["__scopeId","data-v-6ffab9e1"]]),xg={class:"tool-header"},Eg={class:"skill-name"},Sg={key:0,class:"tool-content"},Cg={class:"skill-meta"},kg={class:"meta-row"},wg={class:"meta-value skill-code"},Dg={class:"meta-row"},Tg={key:0,class:"expanded-prompt-section"},Ig={class:"toggle-icon"},_g={key:0,class:"prompt-content"},Ag={key:1,class:"prompt-text"},$g={key:1,class:"output-section"},Fg={class:"output-content"},Og={key:1,class:"output-text"},Pg={key:2,class:"error-section"},Mg={class:"error-message"},Rg={key:3,class:"actions"},Lg=pe({__name:"SkillToolDisplay",props:{toolUse:{},result:{},isDark:{type:Boolean,default:!1}},setup(e){const t=e,n=G(!1),u=G(!1),s=G(!1),r=G(!1),o=k(()=>t.toolUse.input.command||""),a=k(()=>{const _=o.value;return _.split(":").pop()||_}),i=k(()=>{if(!t.result)return null;const _=t.result.content;if(typeof _=="string")try{return JSON.parse(_)}catch{return{output:_}}return _}),l=k(()=>i.value?.output||""),c=k(()=>i.value?.error||""),d=k(()=>i.value?.expanded_prompt||""),h=k(()=>c.value?"failed":i.value?i.value.success?"completed":"failed":"pending"),p=k(()=>({pending:"ç­‰å¾…ä¸­",completed:"æ‰§è¡ŒæˆåŠŸ",failed:"æ‰§è¡Œå¤±è´¥"})[h.value]||h.value),g=k(()=>({pending:"â³",completed:"âœ…",failed:"âŒ"})[h.value]||"â—"),v=k(()=>`status-${h.value}`),y=k(()=>{const _=d.value,A=_.split(`
`);return s.value||A.length<=15?_:A.slice(0,15).join(`
`)+`
...`}),D=k(()=>d.value.split(`
`).length>15),E=k(()=>{const _=d.value;return _.includes("#")||_.includes("```")||_.includes("*")||_.includes("-")}),m=k(()=>{const _=l.value,A=_.split(`
`);return r.value||A.length<=20?_:A.slice(0,20).join(`
`)+`
...`}),C=k(()=>l.value.split(`
`).length>20),b=k(()=>{const _=l.value;return _.includes("#")||_.includes("```")||_.includes("*")||_.includes("-")});async function w(){try{await navigator.clipboard.writeText(l.value)}catch(_){console.error("Failed to copy:",_)}}return(_,A)=>(x(),S("div",{class:le(["tool-display skill-tool",v.value])},[f("div",xg,[A[4]||(A[4]=f("span",{class:"tool-icon"},"ğŸ¯",-1)),A[5]||(A[5]=f("span",{class:"tool-name"},"æŠ€èƒ½",-1)),f("code",Eg,T(a.value),1),f("span",{class:le(["status-badge",v.value])},T(p.value),3)]),n.value?(x(),S("div",Sg,[f("div",Cg,[f("div",kg,[A[6]||(A[6]=f("span",{class:"meta-label"},"æŠ€èƒ½:",-1)),f("code",wg,T(a.value),1)]),f("div",Dg,[A[7]||(A[7]=f("span",{class:"meta-label"},"çŠ¶æ€:",-1)),f("span",{class:le(["meta-value",v.value])},T(g.value)+" "+T(p.value),3)])]),d.value?(x(),S("div",Tg,[f("div",{class:"section-header",onClick:A[0]||(A[0]=I=>u.value=!u.value)},[A[8]||(A[8]=f("span",{class:"section-title"},"æŠ€èƒ½æç¤º",-1)),f("span",Ig,T(u.value?"â–¼":"â–¶"),1)]),u.value?(x(),S("div",_g,[E.value?(x(),Be(wt,{key:0,content:y.value,"is-dark":e.isDark},null,8,["content","is-dark"])):(x(),S("pre",Ag,T(y.value),1)),D.value?(x(),S("button",{key:2,class:"toggle-btn",onClick:A[1]||(A[1]=I=>s.value=!s.value)},T(s.value?"æ”¶èµ·":"æŸ¥çœ‹å®Œæ•´æç¤º"),1)):M("",!0)])):M("",!0)])):M("",!0),l.value?(x(),S("div",$g,[f("div",{class:"section-header"},[A[9]||(A[9]=f("span",{class:"section-title"},"è¾“å‡º",-1)),f("button",{class:"btn-copy",onClick:w}," ğŸ“‹ å¤åˆ¶ ")]),f("div",Fg,[b.value?(x(),Be(wt,{key:0,content:m.value,"is-dark":e.isDark},null,8,["content","is-dark"])):(x(),S("pre",Og,T(m.value),1)),C.value?(x(),S("button",{key:2,class:"toggle-btn",onClick:A[2]||(A[2]=I=>r.value=!r.value)},T(r.value?"æ”¶èµ·":"æŸ¥çœ‹å®Œæ•´è¾“å‡º"),1)):M("",!0)])])):M("",!0),c.value?(x(),S("div",Pg,[A[10]||(A[10]=f("div",{class:"error-header"},[f("span",{class:"error-icon"},"âŒ"),f("span",{class:"error-title"},"æ‰§è¡Œå¤±è´¥")],-1)),f("div",Mg,T(c.value),1)])):M("",!0),l.value?(x(),S("div",Rg,[f("button",{class:"btn btn-primary",onClick:w}," ğŸ“‹ å¤åˆ¶è¾“å‡º ")])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:A[3]||(A[3]=I=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)],2))}}),Ng=ve(Lg,[["__scopeId","data-v-1eff97ff"]]),Bg={class:"tool-header"},Ug={class:"tool-name-code"},jg={key:0,class:"server-badge"},zg={key:0,class:"tool-content"},Hg={class:"tool-meta"},Gg={class:"meta-row"},Wg={class:"meta-value tool-code"},Kg={key:0,class:"meta-row"},Vg={class:"meta-value server-name"},Jg={class:"meta-row"},Yg={class:"params-section"},Xg={class:"toggle-icon"},Zg={key:0,class:"params-content"},Qg={class:"json-content"},qg={key:0,class:"result-section"},ev={class:"toggle-icon"},tv={key:0,class:"result-content"},nv={key:0,class:"json-content"},uv={key:1,class:"error-message"},ov={key:1,class:"error-section"},sv={class:"error-message"},rv=pe({__name:"GenericMcpToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=qr(),u=G(!1),s=G(!0),r=G(!0),o=k(()=>t.toolUse.name||"unknown"),a=k(()=>{const A=o.value.match(/^mcp__([^_]+(?:_[^_]+)*)__/);return A?A[1]:null}),i=k(()=>{const _=o.value,A=_.match(/^mcp__[^_]+(?:_[^_]+)*__(.+)$/);return A?A[1]:_}),l=k(()=>t.toolUse.input||{}),c=k(()=>{try{return JSON.stringify(l.value,null,2)}catch(_){return console.error("Failed to format params:",_),String(l.value)}}),d=k(()=>{if(!t.result)return null;const _=t.result.content;if(typeof _=="string")try{return JSON.parse(_)}catch{return _}if(Array.isArray(_)&&_.length>0){const A=_[0];if(typeof A=="object"&&A.type==="text"&&"text"in A)try{return JSON.parse(A.text)}catch{return A.text}return A}return _}),h=k(()=>d.value!==null),p=k(()=>{if(!d.value)return"";if(typeof d.value=="string")return d.value;try{return JSON.stringify(d.value,null,2)}catch(_){return console.error("Failed to format result:",_),String(d.value)}}),g=k(()=>t.result?t.result.is_error===!0:!1),v=k(()=>g.value?!0:d.value&&typeof d.value=="object"?"error"in d.value||"success"in d.value&&d.value.success===!1:!1),y=k(()=>d.value?typeof d.value=="string"?d.value:typeof d.value=="object"?d.value.error||d.value.message||JSON.stringify(d.value,null,2):"æ‰§è¡Œå¤±è´¥":"æ‰§è¡Œå¤±è´¥"),D=k(()=>h.value?v.value?"failed":typeof d.value=="object"&&"success"in d.value?d.value.success?"completed":"failed":"completed":"pending"),E=k(()=>({pending:"ç­‰å¾…ä¸­",completed:"æ‰§è¡ŒæˆåŠŸ",failed:"æ‰§è¡Œå¤±è´¥"})[D.value]||D.value),m=k(()=>({pending:"â³",completed:"âœ…",failed:"âŒ"})[D.value]||"â—"),C=k(()=>`status-${D.value}`);async function b(){try{await navigator.clipboard.writeText(c.value),n.success("å‚æ•°å·²å¤åˆ¶")}catch(_){console.error("Failed to copy params:",_),n.error("å¤åˆ¶å¤±è´¥")}}async function w(){try{await navigator.clipboard.writeText(p.value),n.success("ç»“æœå·²å¤åˆ¶")}catch(_){console.error("Failed to copy result:",_),n.error("å¤åˆ¶å¤±è´¥")}}return(_,A)=>(x(),S("div",{class:le(["tool-display mcp-tool",C.value])},[f("div",Bg,[A[3]||(A[3]=f("span",{class:"tool-icon"},"ğŸ”§",-1)),A[4]||(A[4]=f("span",{class:"tool-name"},"MCP å·¥å…·",-1)),f("code",Ug,T(i.value),1),a.value?(x(),S("span",jg,T(a.value),1)):M("",!0),f("span",{class:le(["status-badge",C.value])},T(E.value),3)]),u.value?(x(),S("div",zg,[f("div",Hg,[f("div",Gg,[A[5]||(A[5]=f("span",{class:"meta-label"},"å·¥å…·å:",-1)),f("code",Wg,T(o.value),1)]),a.value?(x(),S("div",Kg,[A[6]||(A[6]=f("span",{class:"meta-label"},"æœåŠ¡å™¨:",-1)),f("span",Vg,T(a.value),1)])):M("",!0),f("div",Jg,[A[7]||(A[7]=f("span",{class:"meta-label"},"çŠ¶æ€:",-1)),f("span",{class:le(["meta-value",C.value])},T(m.value)+" "+T(E.value),3)])]),f("div",Yg,[f("div",{class:"section-header",onClick:A[0]||(A[0]=I=>s.value=!s.value)},[A[8]||(A[8]=f("span",{class:"section-title"},"å‚æ•°",-1)),f("span",Xg,T(s.value?"â–¼":"â–¶"),1)]),s.value?(x(),S("div",Zg,[f("div",{class:"content-actions"},[f("button",{class:"copy-btn",title:"å¤åˆ¶",onClick:b},[...A[9]||(A[9]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])]),f("pre",Qg,T(c.value),1)])):M("",!0)]),h.value?(x(),S("div",qg,[f("div",{class:"section-header",onClick:A[1]||(A[1]=I=>r.value=!r.value)},[A[10]||(A[10]=f("span",{class:"section-title"},"ç»“æœ",-1)),f("span",ev,T(r.value?"â–¼":"â–¶"),1)]),r.value?(x(),S("div",tv,[f("div",{class:"content-actions"},[f("button",{class:"copy-btn",title:"å¤åˆ¶",onClick:w},[...A[11]||(A[11]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])]),g.value?(x(),S("div",uv,T(y.value),1)):(x(),S("pre",nv,T(p.value),1))])):M("",!0)])):M("",!0),v.value&&!h.value?(x(),S("div",ov,[A[12]||(A[12]=f("div",{class:"error-header"},[f("span",{class:"error-icon"},"âŒ"),f("span",{class:"error-title"},"æ‰§è¡Œé”™è¯¯")],-1)),f("div",sv,T(y.value),1)])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:A[2]||(A[2]=I=>u.value=!u.value)},T(u.value?"æ”¶èµ·":"å±•å¼€"),1)],2))}}),xo=ve(rv,[["__scopeId","data-v-4571e7e0"]]),av={class:"tool-display bash-output-tool"},iv={class:"tool-header"},lv={class:"shell-id"},cv={key:0,class:"filter-badge"},dv={key:0,class:"tool-content"},fv={class:"tool-meta"},pv={class:"info-row"},hv={class:"value"},gv={key:0,class:"info-row"},vv={class:"value filter-text"},mv={key:0,class:"output-section"},bv={class:"section-header"},yv={class:"header-actions"},xv={key:0,class:"output-content"},Ev={key:1,class:"no-output"},Sv=pe({__name:"BashOutputToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>t.toolUse.input.bash_id||""),s=k(()=>t.toolUse.input.filter||""),r=k(()=>{if(!t.result?.content)return null;if(typeof t.result.content=="string")try{return JSON.parse(t.result.content)}catch{return{output:t.result.content}}return t.result.content}),o=k(()=>r.value&&r.value.output||""),a=k(()=>r.value&&r.value.status||""),i=k(()=>{const c=a.value.toLowerCase();return c.includes("running")||c.includes("active")?"status-running":c.includes("completed")||c.includes("done")?"status-success":c.includes("failed")||c.includes("error")?"status-error":"status-neutral"});async function l(){o.value&&await navigator.clipboard.writeText(o.value)}return(c,d)=>(x(),S("div",av,[f("div",iv,[d[1]||(d[1]=f("span",{class:"tool-icon"},"ğŸ“Ÿ",-1)),d[2]||(d[2]=f("span",{class:"tool-name"},"BashOutput",-1)),f("code",lv,"Shell: "+T(u.value),1),s.value?(x(),S("span",cv,"ğŸ” "+T(s.value),1)):M("",!0)]),n.value?(x(),S("div",dv,[f("div",fv,[f("div",pv,[d[3]||(d[3]=f("span",{class:"label"},"Shell ID:",-1)),f("span",hv,T(u.value),1)]),s.value?(x(),S("div",gv,[d[4]||(d[4]=f("span",{class:"label"},"è¿‡æ»¤å™¨:",-1)),f("code",vv,T(s.value),1)])):M("",!0)]),e.result?(x(),S("div",mv,[f("div",bv,[d[6]||(d[6]=f("span",null,"è¾“å‡ºå†…å®¹",-1)),f("div",yv,[a.value?(x(),S("span",{key:0,class:le(["status-badge",i.value])},T(a.value),3)):M("",!0),o.value?(x(),S("button",{key:1,class:"copy-btn",title:"å¤åˆ¶",onClick:l},[...d[5]||(d[5]=[f("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[f("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),f("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])):M("",!0)])]),o.value?(x(),S("pre",xv,T(o.value),1)):(x(),S("div",Ev," æ— è¾“å‡º "))])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:d[0]||(d[0]=h=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),Cv=ve(Sv,[["__scopeId","data-v-fa50aded"]]),kv={class:"tool-display kill-shell-tool"},wv={class:"tool-header"},Dv={class:"shell-id"},Tv={key:0,class:"tool-content"},Iv={class:"tool-meta"},_v={class:"info-row"},Av={class:"value"},$v={key:0,class:"result-section"},Fv={class:"result-icon"},Ov={class:"message-text"},Pv=pe({__name:"KillShellToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>t.toolUse.input.shell_id||""),s=k(()=>{if(!t.result?.content)return null;if(typeof t.result.content=="string")try{return JSON.parse(t.result.content)}catch{return{message:t.result.content}}return t.result.content}),r=k(()=>s.value?s.value.success===!0:!1),o=k(()=>s.value?s.value.message||(r.value?"Shell å·²æˆåŠŸç»ˆæ­¢":"ç»ˆæ­¢å¤±è´¥"):"æ‰§è¡Œä¸­..."),a=k(()=>t.result?r.value?"status-success":"status-error":"status-pending"),i=k(()=>t.result?r.value?"å·²ç»ˆæ­¢":"å¤±è´¥":"æ‰§è¡Œä¸­"),l=k(()=>t.result?r.value?"message-success":"message-error":"message-pending"),c=k(()=>t.result?r.value?"âœ…":"âŒ":"â³");return(d,h)=>(x(),S("div",kv,[f("div",wv,[h[1]||(h[1]=f("span",{class:"tool-icon"},"â›”",-1)),h[2]||(h[2]=f("span",{class:"tool-name"},"KillShell",-1)),f("code",Dv,"Shell: "+T(u.value),1),e.result?(x(),S("span",{key:0,class:le(["status-badge",a.value])},T(i.value),3)):M("",!0)]),n.value?(x(),S("div",Tv,[f("div",Iv,[f("div",_v,[h[3]||(h[3]=f("span",{class:"label"},"Shell ID:",-1)),f("span",Av,T(u.value),1)])]),e.result?(x(),S("div",$v,[h[4]||(h[4]=f("div",{class:"section-header"}," ç»ˆæ­¢ç»“æœ ",-1)),f("div",{class:le(["result-message",l.value])},[f("span",Fv,T(c.value),1),f("span",Ov,T(o.value),1)],2)])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:h[0]||(h[0]=p=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),Mv=ve(Pv,[["__scopeId","data-v-7d8125c4"]]),Rv={class:"tool-display list-mcp-resources-tool"},Lv={class:"tool-header"},Nv={key:0,class:"server-badge"},Bv={key:1,class:"count-badge"},Uv={key:0,class:"tool-content"},jv={key:0,class:"tool-meta"},zv={class:"info-row"},Hv={class:"value"},Gv={key:1,class:"resources-section"},Wv={class:"section-header"},Kv={key:0,class:"count-text"},Vv={key:0,class:"resources-list"},Jv={class:"resource-header"},Yv={class:"resource-name"},Xv={key:0,class:"mime-badge"},Zv={class:"resource-uri"},Qv={class:"uri-value"},qv={key:0,class:"resource-description"},em={class:"resource-server"},tm={class:"server-value"},nm={key:1,class:"no-resources"},um=pe({__name:"ListMcpResourcesToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>t.toolUse.input.server||""),s=k(()=>{if(!t.result?.content)return null;if(typeof t.result.content=="string")try{return JSON.parse(t.result.content)}catch{return null}return t.result.content}),r=k(()=>s.value?s.value.success===!0:!1),o=k(()=>!s.value||!r.value?null:s.value.resources||[]),a=k(()=>o.value?o.value.length:null);return(i,l)=>(x(),S("div",Rv,[f("div",Lv,[l[1]||(l[1]=f("span",{class:"tool-icon"},"ğŸ“š",-1)),l[2]||(l[2]=f("span",{class:"tool-name"},"ListMcpResources",-1)),u.value?(x(),S("span",Nv,T(u.value),1)):M("",!0),a.value!==null?(x(),S("span",Bv,T(a.value)+" é¡¹",1)):M("",!0)]),n.value?(x(),S("div",Uv,[u.value?(x(),S("div",jv,[f("div",zv,[l[3]||(l[3]=f("span",{class:"label"},"æœåŠ¡å™¨:",-1)),f("span",Hv,T(u.value),1)])])):M("",!0),e.result?(x(),S("div",Gv,[f("div",Wv,[l[4]||(l[4]=f("span",null,"èµ„æºåˆ—è¡¨",-1)),a.value!==null?(x(),S("span",Kv,T(a.value)+" ä¸ªèµ„æº",1)):M("",!0)]),o.value&&o.value.length>0?(x(),S("div",Vv,[(x(!0),S($e,null,Re(o.value,(c,d)=>(x(),S("div",{key:d,class:"resource-card"},[f("div",Jv,[l[5]||(l[5]=f("span",{class:"resource-icon"},"ğŸ“„",-1)),f("span",Yv,T(c.name),1),c.mimeType?(x(),S("span",Xv,T(c.mimeType),1)):M("",!0)]),f("div",Zv,[l[6]||(l[6]=f("span",{class:"uri-label"},"URI:",-1)),f("code",Qv,T(c.uri),1)]),c.description?(x(),S("div",qv,T(c.description),1)):M("",!0),f("div",em,[l[7]||(l[7]=f("span",{class:"server-label"},"æœåŠ¡å™¨:",-1)),f("span",tm,T(c.server),1)])]))),128))])):(x(),S("div",nm,T(r.value?"æœªæ‰¾åˆ°èµ„æº":"åŠ è½½å¤±è´¥"),1))])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:l[0]||(l[0]=c=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),om=ve(um,[["__scopeId","data-v-c367ae82"]]),sm={class:"tool-display read-mcp-resource-tool"},rm={class:"tool-header"},am={class:"server-badge"},im={key:0,class:"mime-badge"},lm={key:0,class:"tool-content"},cm={class:"tool-meta"},dm={class:"info-row"},fm={class:"value"},pm={class:"info-row"},hm=["title"],gm={key:0,class:"info-row"},vm={class:"value"},mm={key:0,class:"content-section"},bm={class:"section-header"},ym={class:"header-actions"},xm={key:0,class:"content-markdown"},Em={key:1,class:"content-json"},Sm={key:2,class:"content-text"},Cm={key:3,class:"no-content"},km=pe({__name:"ReadMcpResourceToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>t.toolUse.input.server||""),s=k(()=>t.toolUse.input.uri||""),r=k(()=>{const v=s.value,y=50;return v.length<=y?v:v.substring(0,y)+"..."}),o=k(()=>{if(!t.result?.content)return null;if(typeof t.result.content=="string")try{return JSON.parse(t.result.content)}catch{return{content:t.result.content}}return t.result.content}),a=k(()=>o.value?o.value.success===!0:!1),i=k(()=>!o.value||!a.value?"":o.value.content||""),l=k(()=>o.value&&o.value.mimeType||""),c=k(()=>{const v=l.value.toLowerCase();return v.includes("markdown")||v.includes("text/markdown")}),d=k(()=>{if(l.value.toLowerCase().includes("json"))return!0;try{return JSON.parse(i.value),!0}catch{return!1}}),h=k(()=>{try{const v=JSON.parse(i.value);return JSON.stringify(v,null,2)}catch{return i.value}});async function p(){await navigator.clipboard.writeText(s.value)}async function g(){i.value&&await navigator.clipboard.writeText(i.value)}return(v,y)=>(x(),S("div",sm,[f("div",rm,[y[1]||(y[1]=f("span",{class:"tool-icon"},"ğŸ“–",-1)),y[2]||(y[2]=f("span",{class:"tool-name"},"ReadMcpResource",-1)),f("span",am,T(u.value),1),l.value?(x(),S("span",im,T(l.value),1)):M("",!0)]),n.value?(x(),S("div",lm,[f("div",cm,[f("div",dm,[y[3]||(y[3]=f("span",{class:"label"},"æœåŠ¡å™¨:",-1)),f("span",fm,T(u.value),1)]),f("div",pm,[y[4]||(y[4]=f("span",{class:"label"},"URI:",-1)),f("code",{class:"value uri-link",title:s.value,onClick:p},T(r.value),9,hm)]),l.value?(x(),S("div",gm,[y[5]||(y[5]=f("span",{class:"label"},"ç±»å‹:",-1)),f("span",vm,T(l.value),1)])):M("",!0)]),e.result?(x(),S("div",mm,[f("div",bm,[y[6]||(y[6]=f("span",null,"èµ„æºå†…å®¹",-1)),f("div",ym,[i.value?(x(),S("button",{key:0,class:"copy-btn",onClick:g}," å¤åˆ¶ ")):M("",!0)])]),c.value?(x(),S("div",xm,[Pe(wt,{content:i.value},null,8,["content"])])):d.value?(x(),S("pre",Em,T(h.value),1)):i.value?(x(),S("pre",Sm,T(i.value),1)):(x(),S("div",Cm," æ— å†…å®¹ "))])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:y[0]||(y[0]=D=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),wm=ve(km,[["__scopeId","data-v-7c829f5a"]]),Dm={class:"tool-display exit-plan-mode-tool"},Tm={class:"tool-header"},Im={key:0,class:"tool-content"},_m={class:"plan-section"},Am={class:"plan-content"},$m={key:0,class:"status-section"},Fm={class:"status-icon"},Om={class:"status-message"},Pm=pe({__name:"ExitPlanModeToolDisplay",props:{toolUse:{},result:{}},setup(e){const t=e,n=G(!1),u=k(()=>t.toolUse.input.plan||""),s=k(()=>{if(!t.result?.content)return null;if(typeof t.result.content=="string")try{return JSON.parse(t.result.content)}catch{return{success:!0}}return t.result.content}),r=k(()=>s.value?s.value.success===!0:!1),o=k(()=>t.result?r.value?"status-confirmed":"status-error":"status-pending"),a=k(()=>t.result?r.value?"å·²ç¡®è®¤":"å¤±è´¥":"å¾…ç¡®è®¤"),i=k(()=>t.result?r.value?"âœ…":"âŒ":"â³"),l=k(()=>t.result?r.value?"è®¡åˆ’å·²ç¡®è®¤ï¼Œå¼€å§‹æ‰§è¡Œ":"è®¡åˆ’ç¡®è®¤å¤±è´¥":"ç­‰å¾…ç”¨æˆ·ç¡®è®¤è®¡åˆ’...");return(c,d)=>(x(),S("div",Dm,[f("div",Tm,[d[1]||(d[1]=f("span",{class:"tool-icon"},"ğŸ“‹",-1)),d[2]||(d[2]=f("span",{class:"tool-name"},"ExitPlanMode",-1)),d[3]||(d[3]=f("span",{class:"plan-label"},"è®¡åˆ’ç¡®è®¤",-1)),e.result?(x(),S("span",{key:0,class:le(["status-badge",o.value])},T(a.value),3)):M("",!0)]),n.value?(x(),S("div",Im,[f("div",_m,[d[4]||(d[4]=f("div",{class:"section-header"}," æ‰§è¡Œè®¡åˆ’ ",-1)),f("div",Am,[Pe(wt,{content:u.value},null,8,["content"])])]),e.result?(x(),S("div",$m,[f("div",{class:le(["status-indicator",o.value])},[f("span",Fm,T(i.value),1),f("span",Om,T(l.value),1)],2)])):M("",!0)])):M("",!0),f("button",{class:"expand-btn",onClick:d[0]||(d[0]=h=>n.value=!n.value)},T(n.value?"æ”¶èµ·":"å±•å¼€"),1)]))}}),Mm=ve(Pm,[["__scopeId","data-v-46b8a965"]]),Rm={class:"typed-tool-display"},Lm=pe({__name:"TypedToolCallDisplay",props:{toolCall:{}},setup(e){const t=e,n=k(()=>({type:"tool_use",id:t.toolCall.id,name:t.toolCall.name,input:t.toolCall.viewModel?.toolDetail?.parameters||{}})),u=k(()=>{if(t.toolCall.result)return{type:"tool_result",tool_use_id:t.toolCall.id,content:t.toolCall.result.output,is_error:t.toolCall.result.isError||!1}});function s(r){if(!r)return xo;const o={Read:Hr,Edit:Gr,MultiEdit:Wr,Write:Kr,Bash:Vr,Grep:Jr,Glob:Yr,TodoWrite:Xr,WebSearch:Zr,WebFetch:Qr,AskUserQuestion:Yh,NotebookEdit:y1,Task:Q1,SlashCommand:yg,Skill:Ng,BashOutput:Cv,KillShell:Mv,ListMcpResourcesTool:om,ReadMcpResourceTool:wm,ExitPlanMode:Mm};return o[r]?o[r]:(r.startsWith("mcp__"),xo)}return(r,o)=>(x(),S("div",Rm,[(x(),Be(Js(s(e.toolCall.name)),{"tool-use":n.value,result:u.value},null,8,["tool-use","result"]))]))}}),Nm=ve(Lm,[["__scopeId","data-v-fa547b85"]]);var Fe=(e=>(e.BASH="BASH",e.EDIT="EDIT",e.MULTI_EDIT="MULTI_EDIT",e.READ="READ",e.WRITE="WRITE",e.GLOB="GLOB",e.GREP="GREP",e.TODO_WRITE="TODO_WRITE",e.TASK="TASK",e.WEB_FETCH="WEB_FETCH",e.WEB_SEARCH="WEB_SEARCH",e.NOTEBOOK_EDIT="NOTEBOOK_EDIT",e.MCP="MCP",e.BASH_OUTPUT="BASH_OUTPUT",e.KILL_SHELL="KILL_SHELL",e.EXIT_PLAN_MODE="EXIT_PLAN_MODE",e.LIST_MCP_RESOURCES="LIST_MCP_RESOURCES",e.READ_MCP_RESOURCE="READ_MCP_RESOURCE",e.ASK_USER_QUESTION="ASK_USER_QUESTION",e.SLASH_COMMAND="SLASH_COMMAND",e.SKILL="SKILL",e.UNKNOWN="UNKNOWN",e))(Fe||{});const Bm={Bash:"BASH",Edit:"EDIT",MultiEdit:"MULTI_EDIT",Read:"READ",Write:"WRITE",Glob:"GLOB",Grep:"GREP",TodoWrite:"TODO_WRITE",Task:"TASK",WebFetch:"WEB_FETCH",WebSearch:"WEB_SEARCH",NotebookEdit:"NOTEBOOK_EDIT",BashOutput:"BASH_OUTPUT",KillShell:"KILL_SHELL",ExitPlanMode:"EXIT_PLAN_MODE",ListMcpResourcesTool:"LIST_MCP_RESOURCES",ReadMcpResourceTool:"READ_MCP_RESOURCE",AskUserQuestion:"ASK_USER_QUESTION",SlashCommand:"SLASH_COMMAND",Skill:"SKILL"};function Um(e){const t=Bm[e.name]||"UNKNOWN",n=jm(t,e.input);return{id:e.id,name:e.name,toolDetail:n,compactSummary:n.compactSummary}}function jm(e,t){const n=t||{};let u="";switch(e){case"READ":u=zm(n);break;case"WRITE":u=Hm(n);break;case"EDIT":u=Gm(n);break;case"MULTI_EDIT":u=Wm(n);break;case"BASH":u=Km(n);break;case"GREP":u=Vm(n);break;case"GLOB":u=Jm(n);break;case"TODO_WRITE":u=Ym(n);break;case"TASK":u=Xm(n);break;case"WEB_SEARCH":u=Zm(n);break;case"WEB_FETCH":u=Qm(n);break;case"NOTEBOOK_EDIT":u=qm(n);break;case"ASK_USER_QUESTION":u=e2(n);break;case"BASH_OUTPUT":u=t2(n);break;case"KILL_SHELL":u=n2(n);break;case"EXIT_PLAN_MODE":u=u2(n);break;case"SLASH_COMMAND":u=o2(n);break;case"SKILL":u=s2(n);break;case"MCP":case"LIST_MCP_RESOURCES":case"READ_MCP_RESOURCE":u=r2(n);break;default:u=a2(n)}return{toolType:e,parameters:n,compactSummary:u}}function zm(e){const t=e.file_path||e.filePath||"",n=cn(t);if(e.offset!==void 0&&e.limit!==void 0){const u=e.offset||0,s=u+(e.limit||0);return`${n} lines ${u+1}-${s}`}return`${n}`}function Hm(e){const t=e.file_path||e.filePath||"",n=cn(t),u=(e.content||"").length;return u>0?`${n} (${u} chars)`:`${n}`}function Gm(e){const t=e.file_path||e.filePath||"",n=cn(t),u=e.old_string||e.oldString||"",s=e.new_string||e.newString||"",r=u.split(`
`).length,a=s.split(`
`).length-r;if(a!==0){const i=a>0?"+":"";return`${n} ${i}${a} lines`}return`${n}`}function Wm(e){const t=e.file_path||e.filePath||"",n=cn(t),u=e.edits||[];return`${n} (${u.length} edits)`}function Km(e){const t=e.command||"",n=e.description||"";return n?At(n,50):`$ ${At(t,50)}`}function Vm(e){const t=e.pattern||"",n=e.path||"",u=e.glob||"";let s="all files";return n?s=cn(n):u&&(s=u),`"${At(t,30)}" in ${s}`}function Jm(e){const t=e.pattern||"",n=e.path||"";return n?`${t} in ${cn(n)}`:t}function Ym(e){return`${(e.todos||[]).length} todo items`}function Xm(e){const t=e.description||"",n=e.subagent_type||e.subagentType||"";return t?`${n}: ${At(t,40)}`:n}function Zm(e){const t=e.query||"";return`"${At(t,50)}"`}function Qm(e){const t=e.url||"";return At(t,50)}function qm(e){const t=e.notebook_path||e.notebookPath||"",n=cn(t),u=e.cell_id||e.cellId||"";return u?`${n} cell ${u}`:n}function e2(e){const t=e.questions||[];if(t.length>0){const n=t[0].question||"";return At(n,50)}return"Ask user"}function t2(e){return`shell ${e.bash_id||e.bashId||""}`}function n2(e){return`shell ${e.shell_id||e.shellId||""}`}function u2(e){const t=e.plan||"";return At(t,50)}function o2(e){return e.command||""}function s2(e){return e.skill||""}function r2(e){const t=e.server||e.serverName||"",n=e.tool_name||e.toolName||"";return t&&n?`${t}:${n}`:t||"MCP tool"}function a2(e){if(e.description)return At(e.description,50);if(e.message)return At(e.message,50);if(e.command)return At(e.command,50);if(e.query)return At(e.query,50);if(e.path||e.file_path||e.filePath){const t=e.path||e.file_path||e.filePath;return cn(t)}return"Tool execution"}function cn(e){if(!e)return"";const t=e.replace(/\\/g,"/").split("/");return t[t.length-1]||e}function At(e,t){return e?e.length<=t?e:e.substring(0,t)+"...":""}const i2={class:"compact-tool-call-display"},l2=["onClick"],c2={class:"tool-icon"},d2={class:"tool-info"},f2={class:"tool-name"},p2={key:0,class:"primary-info"},h2={key:1,class:"secondary-info"},g2={key:2,class:"line-changes-badge"},v2={key:1,class:"tool-summary"},m2={class:"expand-chevron"},b2={key:0,class:"tool-content"},y2={class:"tool-details"},x2=pe({__name:"CompactToolCallDisplay",props:{toolCalls:{},expandedTools:{default:()=>new Map}},emits:["expanded-change"],setup(e,{emit:t}){const n=e,u=t,{isInIde:s}=Jo(),r=G(new Map);function o(m){return a(m)===Fe.TASK}function a(m){return m.viewModel?.toolDetail?.toolType}function i(m){const C=n.toolCalls.find(b=>b.id===m);return C?n.expandedTools.has(m)?n.expandedTools.get(m)||!1:r.value.has(m)?r.value.get(m)||!1:o(C):!1}function l(m){const C=n.toolCalls.find(w=>w.id===m);if(!C||C.status==="RUNNING")return;if(d(C)){c(C);return}const b=!i(m);r.value.set(m,b),u("expanded-change",m,b)}function c(m){const C=a(m),b=m.viewModel?.toolDetail?.parameters;if(!C||!b){console.warn("[CompactToolCallDisplay] æ— æ³•è·å–å·¥å…·ç±»å‹æˆ–å‚æ•°");return}switch(console.log(`[CompactToolCallDisplay] IDE é›†æˆæ“ä½œ: ${C}`),C){case Fe.READ:bt.query("ide.openFile",{filePath:b.file_path,line:b.offset});break;case Fe.WRITE:bt.query("ide.openFile",{filePath:b.file_path});break;case Fe.EDIT:bt.query("ide.showDiff",{filePath:b.file_path,oldContent:b.old_string,newContent:b.new_string});break;case Fe.MULTI_EDIT:console.log("[CompactToolCallDisplay] Multi-edit IDE é›†æˆå°šæœªå®ç°");break;case Fe.NOTEBOOK_EDIT:bt.query("ide.openFile",{filePath:b.notebook_path});break}}function d(m){if(!s.value||m.status!=="SUCCESS")return!1;const C=a(m);return C?[Fe.READ,Fe.WRITE,Fe.EDIT,Fe.MULTI_EDIT,Fe.NOTEBOOK_EDIT].includes(C):!1}function h(m){return d(m)}function p(m){return m.name}function g(m){return m.viewModel?.compactSummary||""}function v(m){if(!m.viewModel?.toolDetail)return null;const C={id:m.id,name:m.name,input:m.viewModel.toolDetail.parameters},b=m.result?(()=>{const w=m.result,_=w.type?.toLowerCase();return _==="success"?{is_error:!1,content:w.output||""}:_==="failure"?{is_error:!0,content:w.error||""}:_==="fileedit"?{is_error:!1,content:`${w.oldContent||""}
---
${w.newContent||""}`}:_==="fileread"?{is_error:!1,content:w.content||""}:_==="command"?{is_error:w.exitCode!==0,content:w.output||""}:{is_error:!1,content:w.output||w.content||JSON.stringify(w)}})():void 0;return Un(C,b)}function y(m){const C=a(m),b={[Fe.READ]:"ğŸ“–",[Fe.WRITE]:"ğŸ“",[Fe.EDIT]:"âœï¸",[Fe.MULTI_EDIT]:"ğŸ§°",[Fe.NOTEBOOK_EDIT]:"ğŸ“’",[Fe.BASH]:"ğŸ’»",[Fe.BASH_OUTPUT]:"ğŸ’»",[Fe.KILL_SHELL]:"â›”",[Fe.GLOB]:"ğŸ”",[Fe.GREP]:"ğŸ”",[Fe.TODO_WRITE]:"âœ…",[Fe.TASK]:"ğŸ—‚",[Fe.WEB_FETCH]:"ğŸŒ",[Fe.WEB_SEARCH]:"ğŸŒ",[Fe.MCP]:"ğŸ§©",[Fe.LIST_MCP_RESOURCES]:"ğŸ§©",[Fe.READ_MCP_RESOURCE]:"ğŸ§©",[Fe.EXIT_PLAN_MODE]:"ğŸ›‘",[Fe.SLASH_COMMAND]:"âŒ¨ï¸",[Fe.ASK_USER_QUESTION]:"â“",[Fe.SKILL]:"ğŸ§ ",[Fe.UNKNOWN]:"ğŸ› "};return C&&b[C]?b[C]:"ğŸ› "}function D(m){return{SUCCESS:"#2E7D32",RUNNING:"#1976D2",FAILED:"#D32F2F",CANCELLED:"#546E7A",PENDING:"#FB8C00"}[m]||"#8A8D97"}function E(m){return{PENDING:"ç­‰å¾…",RUNNING:"æ‰§è¡Œä¸­",SUCCESS:"æˆåŠŸ",FAILED:"å¤±è´¥",CANCELLED:"å·²å–æ¶ˆ"}[m]||m}return(m,C)=>(x(),S("div",i2,[(x(!0),S($e,null,Re(e.toolCalls,b=>(x(),S("div",{key:b.id,class:le(["tool-call-item",`status-${b.status.toLowerCase()}`])},[f("div",{class:le(["tool-header",{"ide-action-tool":h(b)}]),onClick:w=>l(b.id)},[f("div",{class:"status-indicator",style:Yu({background:D(b.status)})},null,4),f("span",c2,T(y(b)),1),f("div",d2,[f("span",f2,T(p(b)),1),v(b)?(x(),S($e,{key:0},[v(b)?.primaryInfo?(x(),S("span",p2,T(v(b)?.primaryInfo),1)):M("",!0),v(b)?.secondaryInfo?(x(),S("span",h2,T(v(b)?.secondaryInfo),1)):M("",!0),v(b)?.lineChanges?(x(),S("span",g2,T(v(b)?.lineChanges),1)):M("",!0)],64)):g(b)?(x(),S("span",v2,T(g(b)),1)):M("",!0)]),f("span",{class:le(["status-badge",`status-${b.status.toLowerCase()}`])},T(E(b.status)),3),f("span",m2,T(i(b.id)?"â–´":"â–¾"),1)],10,l2),i(b.id)?(x(),S("div",b2,[f("div",y2,[Pe(Nm,{"tool-call":b},null,8,["tool-call"])])])):M("",!0)],2))),128))]))}}),E2=ve(x2,[["__scopeId","data-v-b8f10968"]]),S2={class:"assistant-message-display"},C2={key:0,class:"model-display"},k2={class:"model-name"},w2={class:"ordered-elements"},D2={key:0,class:"content-item"},T2={key:0},I2={key:1,class:"thinking-item"},_2={class:"thinking-content"},A2={key:3,class:"status-item status-message-row"},$2={key:0,class:"jumping-dots-container"},F2={class:"status-text"},O2=pe({__name:"AssistantMessageDisplay",props:{message:{},expandedTools:{default:()=>new Map}},emits:["expanded-change"],setup(e,{emit:t}){const n=e,u=t;function s(c){return{DEFAULT:"é»˜è®¤",OPUS:"Opus",SONNET:"Sonnet",OPUS_PLAN:"Opus Plan"}[c]||c}function r(c,d){return`${n.message.id}-${c.timestamp}-${d}-${c.type}`}function o(c){return c&&c.trim().length>0}function a(c){console.log("[AssistantMessageDisplay] é“¾æ¥ç‚¹å‡»:",c)}function i(c,d){console.log("[AssistantMessageDisplay] ä»£ç æ“ä½œ: è¯­è¨€=",d)}function l(c,d){u("expanded-change",c,d)}return(c,d)=>(x(),S("div",S2,[e.message.model?(x(),S("div",C2,[d[0]||(d[0]=f("span",{class:"model-label"},"AI",-1)),f("span",k2,T(s(e.message.model)),1)])):M("",!0),f("div",w2,[(x(!0),S($e,null,Re(e.message.orderedElements,(h,p)=>(x(),S("div",{key:r(h,p),class:"timeline-element"},[h.type==="content"?(x(),S("div",D2,[o(h.content)?(x(),S("div",T2,[Pe(wt,{content:h.content,class:"markdown-content",onLinkClick:a,onCodeAction:i},null,8,["content"])])):M("",!0)])):h.type==="thinking"?(x(),S("div",I2,[d[1]||(d[1]=f("div",{class:"thinking-header"},[f("span",{class:"thinking-icon"},"ğŸ’­"),f("span",{class:"thinking-label"},"æ€è€ƒè¿‡ç¨‹")],-1)),f("div",_2,[Pe(wt,{content:h.content,class:"markdown-content"},null,8,["content"])])])):h.type==="toolCall"?(x(),Be(E2,{key:2,"tool-calls":[h.toolCall],"expanded-tools":e.expandedTools,class:"tool-call-item",onExpandedChange:l},null,8,["tool-calls","expanded-tools"])):h.type==="status"?(x(),S("div",A2,[h.isStreaming?(x(),S("div",$2,[...d[2]||(d[2]=[f("span",{class:"jumping-dot"},null,-1),f("span",{class:"jumping-dot"},null,-1),f("span",{class:"jumping-dot"},null,-1)])])):M("",!0),f("span",F2,T(h.status),1)])):M("",!0)]))),128))])]))}}),P2=ve(O2,[["__scopeId","data-v-59b070e6"]]),M2={class:"message-header"},R2={class:"role-icon"},L2={class:"role-name"},N2={class:"timestamp"},B2={class:"message-content"},U2=pe({__name:"MessageDisplay",props:{source:{},isDark:{type:Boolean,default:!1},index:{}},setup(e){const t=e,n=k(()=>t.source),u=G(new Map),s=Qu();function r(d,h){u.value.set(d,h)}const o=k(()=>{const d=n.value;s.toolCallsMap.value;const h=d.content.filter(v=>v.type==="tool_result"),p=[];let g="";return console.log(`ğŸ” [MessageDisplay] å¤„ç†æ¶ˆæ¯å†…å®¹ï¼Œå…± ${d.content.length} ä¸ªå—`),console.log("ğŸ” [MessageDisplay] å®Œæ•´ content æ•°æ®:",JSON.stringify(d.content,null,2)),d.content.forEach((v,y)=>{if(console.log(`  [${y}] type="${v.type}"`),console.log(`  [${y}] å—æ•°æ®:`,v),v.type==="text")console.log(`    âœ… æ·»åŠ æ–‡æœ¬å—ï¼Œé•¿åº¦=${v.text?.length||0}`),p.push({type:"content",content:v.text,timestamp:d.timestamp}),g&&(g+=`

`),g+=v.text;else if(v.type==="tool_use"||v.type.endsWith("_tool_use")){const D=h.find(w=>w.tool_use_id===v.id);console.log(`    ğŸ”§ æ·»åŠ å·¥å…·è°ƒç”¨: name=${v.name}, id=${v.id}, type=${v.type}, hasResult=${!!D}`);const E=Um(v);console.log(`    âœ… æ„å»º viewModel: toolType=${E.toolDetail.toolType}, summary="${E.compactSummary}"`);const m=s.getToolStatus(v.id),C=s.getToolResult(v.id);let b="RUNNING";m==="success"?b="SUCCESS":m==="failed"&&(b="FAILED"),p.push({type:"toolCall",toolCall:{id:v.id,name:v.name,viewModel:E,displayName:v.name,status:b,result:C?{type:b==="FAILED"?"failure":"success",output:typeof C=="string"?C:JSON.stringify(C),error:b==="FAILED"?typeof C=="string"?C:JSON.stringify(C):void 0}:void 0,startTime:d.timestamp,endTime:C?d.timestamp:void 0},timestamp:d.timestamp})}else v.type==="thinking"?(console.log(`    ğŸ’­ æ·»åŠ æ€è€ƒé“¾å—ï¼Œé•¿åº¦=${v.thinking?.length||0}`),p.push({type:"thinking",content:v.thinking,timestamp:d.timestamp})):v.type==="tool_result"?console.log(`    â­ï¸ è·³è¿‡ tool_result å—: tool_use_id=${v.tool_use_id}`):console.log(`    âš ï¸ æœªçŸ¥å—ç±»å‹: ${v.type}`)}),console.log(`ğŸ“Š [MessageDisplay] æ„é€ å®Œæˆï¼ŒorderedElements å…± ${p.length} ä¸ªå…ƒç´ `),{id:d.id,role:d.role,content:g,timestamp:d.timestamp,model:null,orderedElements:p,isStreaming:d.isStreaming||!1}}),a=k(()=>{switch(n.value.role){case"user":return"ğŸ‘¤";case"assistant":return"ğŸ¤–";case"system":return"âš™ï¸";default:return"ğŸ’¬"}}),i=k(()=>{switch(n.value.role){case"user":return"ä½ ";case"assistant":return"Claude";case"system":return"ç³»ç»Ÿ";default:return"æœªçŸ¥"}}),l=k(()=>new Date(n.value.timestamp).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})),c=k(()=>n.value.content.filter(h=>h.type==="text").map(h=>h.text).join(`

`));return(d,h)=>n.value.role==="user"?(x(),Be(vl,{key:0,message:n.value},null,8,["message"])):n.value.role==="assistant"?(x(),Be(P2,{key:1,message:o.value,"expanded-tools":u.value,onExpandedChange:r},null,8,["message","expanded-tools"])):(x(),S("div",{key:2,class:le(["message",`message-${n.value.role}`])},[f("div",M2,[f("span",R2,T(a.value),1),f("span",L2,T(i.value),1),f("span",N2,T(l.value),1)]),f("div",B2,[c.value?(x(),Be(wt,{key:0,content:c.value,"is-dark":e.isDark},null,8,["content","is-dark"])):M("",!0)])],2))}}),j2=ve(U2,[["__scopeId","data-v-3437e704"]]),z2={class:"user-message"},H2={key:0,class:"message-contexts"},G2={key:1,class:"message-images"},W2=["src"],K2={key:2,class:"message-content"},V2=pe({__name:"UserMessageDisplay",props:{message:{}},setup(e){const t=e,n=k(()=>!t.message.content||t.message.content.length===0?"":t.message.content.filter(a=>a.type==="text").map(a=>a.text??"").join(`

`).trim()),u=k(()=>t.message.content?t.message.content.filter(o):[]);function s(a){return a.type==="file"?a.path||a.uri:a.type==="web"?a.title||a.url||a.uri:a.type==="folder"&&a.path||a.uri}function r(a){return a.source.type==="base64"&&a.source.data?`data:${a.source.media_type};base64,${a.source.data}`:a.source.type==="url"&&a.source.url?a.source.url:""}function o(a){return a.type==="image"}return(a,i)=>(x(),S("div",z2,[e.message.contexts&&e.message.contexts.length>0?(x(),S("div",H2,[(x(!0),S($e,null,Re(e.message.contexts,(l,c)=>(x(),S("div",{key:`context-${c}`,class:"context-chip"},T(s(l)),1))),128))])):M("",!0),u.value.length>0?(x(),S("div",G2,[(x(!0),S($e,null,Re(u.value,(l,c)=>(x(),S("img",{key:`image-${c}`,src:r(l),alt:"User uploaded image",class:"message-image"},null,8,W2))),128))])):M("",!0),n.value?(x(),S("div",K2,T(n.value),1)):M("",!0)]))}}),J2=ve(V2,[["__scopeId","data-v-0fb80c60"]]),Y2={class:"assistant-text"},X2={class:"message-content"},Z2=pe({__name:"AssistantTextDisplay",props:{message:{},isDark:{type:Boolean,default:!1}},setup(e){const t=e;k(()=>t.message.isLastInMessage&&t.message.stats),k(()=>t.message.stats||{requestDuration:0,inputTokens:0,outputTokens:0}),k(()=>{if(!t.message.stats)return"";const u=t.message.stats;return`è¯·æ±‚è€—æ—¶: ${n(u.requestDuration)}
ä¸Šè¡Œ: ${u.inputTokens.toLocaleString()} tokens
ä¸‹è¡Œ: ${u.outputTokens.toLocaleString()} tokens`});function n(u){if(u<=0)return"0s";if(u<1e3)return`${u}ms`;const s=Math.floor(u/1e3);if(s<60)return`${s}s`;const r=Math.floor(s/60),o=s%60;return`${r}m ${o}s`}return(u,s)=>(x(),S("div",Y2,[f("div",X2,[Pe(wt,{content:e.message.content,"is-dark":e.isDark},null,8,["content","is-dark"])])]))}}),Q2=ve(Z2,[["__scopeId","data-v-29485ae5"]]),q2={class:"tool-call-display"},eb={key:1,class:"generic-tool"},tb={class:"tool-header"},nb={class:"tool-name"},ub={key:0,class:"tool-result"},ob=pe({__name:"ToolCallDisplay",props:{toolCall:{}},setup(e){const t=e,n={[he.READ]:Hr,[he.WRITE]:Kr,[he.EDIT]:Gr,[he.MULTI_EDIT]:Wr,[he.BASH]:Vr,[he.GREP]:Jr,[he.GLOB]:Yr,[he.TODO_WRITE]:Xr,[he.WEB_SEARCH]:Zr,[he.WEB_FETCH]:Qr},u=k(()=>n[t.toolCall.toolType]||null),s=k(()=>{switch(t.toolCall.status){case zt.RUNNING:return"Running...";case zt.SUCCESS:return"Success";case zt.FAILED:return"Failed";default:return"Unknown"}});function r(i){return typeof i=="string"?i:JSON.stringify(i,null,2)}const o=k(()=>({type:"tool_use",id:t.toolCall.id,name:t.toolCall.toolType,input:t.toolCall.input})),a=k(()=>{if(!t.toolCall.result)return;const i=t.toolCall.result;return{type:"tool_result",tool_use_id:t.toolCall.id,content:i.type==="success"?i.output:i.error,is_error:i.type==="error"}});return(i,l)=>(x(),S("div",q2,[u.value?(x(),Be(Js(u.value),{key:0,"tool-use":o.value,result:a.value},null,8,["tool-use","result"])):(x(),S("div",eb,[f("div",tb,[l[0]||(l[0]=f("span",{class:"tool-icon"},"ğŸ”§",-1)),f("span",nb,T(e.toolCall.toolType),1),f("span",{class:le(["tool-status",`status-${e.toolCall.status.toLowerCase()}`])},T(s.value),3)]),e.toolCall.result?(x(),S("div",ub,[f("pre",null,T(r(e.toolCall.result)),1)])):M("",!0)]))]))}}),sb=ve(ob,[["__scopeId","data-v-b409c94c"]]),rb={class:"message-header"},ab={class:"level-icon"},ib={class:"level-name"},lb={class:"message-content"},cb=pe({__name:"SystemMessageDisplay",props:{message:{}},setup(e){const t=e;k(()=>new Date(t.message.timestamp).toLocaleTimeString());const n=k(()=>{switch(t.message.level){case"info":return"â„¹ï¸";case"warning":return"âš ï¸";case"error":return"âŒ";default:return"â„¹ï¸"}}),u=k(()=>{switch(t.message.level){case"info":return"Info";case"warning":return"Warning";case"error":return"Error";default:return"System"}});return(s,r)=>(x(),S("div",{class:le(["system-message",`level-${e.message.level}`])},[f("div",rb,[f("span",ab,T(n.value),1),f("span",ib,T(u.value),1)]),f("div",lb,T(e.message.content),1)],2))}}),db=ve(cb,[["__scopeId","data-v-b7797aba"]]),fb={class:"display-item-renderer"},pb={key:4,class:"unknown-item"},hb=pe({__name:"DisplayItemRenderer",props:{source:{},isDark:{type:Boolean,default:!1}},setup(e){const t=e,n=k(()=>t.source);return(u,s)=>(x(),S("div",fb,[n.value.type==="userMessage"?(x(),Be(J2,{key:0,message:n.value},null,8,["message"])):n.value.type==="assistantText"?(x(),Be(Q2,{key:1,message:n.value,"is-dark":e.isDark},null,8,["message","is-dark"])):n.value.type==="toolCall"?(x(),Be(sb,{key:2,"tool-call":n.value},null,8,["tool-call"])):n.value.type==="systemMessage"?(x(),Be(db,{key:3,message:n.value},null,8,["message"])):(x(),S("div",pb,[f("span",null,"Unknown item type: "+T(n.value.type),1)]))]))}}),No=ve(hb,[["__scopeId","data-v-3d05b87f"]]),gb={key:0,class:"empty-state"},vb={key:2,class:"streaming-indicator"},mb={class:"streaming-stats"},bb={key:3,class:"loading-indicator"},yb={key:0,class:"new-message-badge"},xb=pe({__name:"MessageList",props:{messages:{},displayItems:{},isLoading:{type:Boolean,default:!1},isDark:{type:Boolean,default:!1},isStreaming:{type:Boolean,default:!1},streamingStartTime:{default:0},inputTokens:{default:0},outputTokens:{default:0}},setup(e){const t=e,n=G(),u=G(),s=G(!1),r=G(0),o=G(!0),a=G(0),i=G(0);let l=null;function c(b){const w=Math.floor(b/1e3);if(w<60)return`${w}s`;const _=Math.floor(w/60),A=w%60;if(_<60)return`${_}m${A}s`;const I=Math.floor(_/60),R=_%60;return`${I}h${R}m${A}s`}function d(b){return b<1e3?`${b}`:`${(b/1e3).toFixed(1)}k`}const h=k(()=>{const b=c(i.value),w=d(t.inputTokens),_=d(t.outputTokens);return`${b} â†‘${w} â†“${_} tokens`});function p(){if(l!==null)return;const b=t.streamingStartTime||Date.now();i.value=Date.now()-b,l=window.setInterval(()=>{i.value=Date.now()-b},100)}function g(){l!==null&&(clearInterval(l),l=null)}et(()=>t.isStreaming,b=>{b?p():g()},{immediate:!0}),ln(()=>{t.isStreaming&&p()}),hu(()=>{g()});const v=k(()=>t.displayItems||t.messages||[]),y=k(()=>t.displayItems?No:j2),D=k(()=>{const b=v.value.some(_=>_.type==="toolCall"||_.type==="toolResult"),w=v.value.some(_=>_.type==="userMessage"&&_.content?.some(A=>A.type==="image"));return b||w?200:120});et(()=>v.value.length,async(b,w)=>{!o.value&&b>w&&(r.value+=b-w),o.value&&(await un(),C(),r.value=0),a.value=b,await un(),E()}),et(()=>v.value,async()=>{await un(),E()},{deep:!0});function E(){requestAnimationFrame(()=>{if(u.value){const b=u.value.$el;if(b){const w=b.scrollTop,_=b.scrollHeight,A=b.clientHeight;o.value||w+A>=_-10?(b.scrollTop=w-1,requestAnimationFrame(()=>{b.scrollTop=_-A})):(b.scrollTop=w+.1,requestAnimationFrame(()=>{b.scrollTop=w}))}}})}et(()=>t.isLoading,async b=>{b&&o.value&&(await un(),C())});function m(b){const w=b.target;if(!w)return;const _=w.scrollTop,A=w.scrollHeight,I=w.clientHeight,R=A-_-I;o.value=R<100,s.value=!o.value&&t.messages.length>0}function C(){u.value?u.value.scrollToBottom():n.value&&(n.value.scrollTop=n.value.scrollHeight),s.value=!1,r.value=0,o.value=!0}return(b,w)=>(x(),S("div",{ref_key:"wrapperRef",ref:n,class:"message-list-wrapper"},[v.value.length===0?(x(),S("div",gb,[...w[0]||(w[0]=[Sa('<div class="empty-content" data-v-f9ace5b2><div class="empty-icon-wrapper" data-v-f9ace5b2><svg class="empty-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-f9ace5b2><path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" fill="currentColor" opacity="0.3" data-v-f9ace5b2></path><path d="M13 7H11V13H13V7Z" fill="currentColor" data-v-f9ace5b2></path><path d="M13 15H11V17H13V15Z" fill="currentColor" data-v-f9ace5b2></path></svg></div><h2 class="empty-title" data-v-f9ace5b2> å¼€å§‹ä¸ Claude å¯¹è¯ </h2><p class="empty-description" data-v-f9ace5b2> è¾“å…¥æ‚¨çš„é—®é¢˜æˆ–æƒ³æ³•ï¼ŒClaude å°†å¸®åŠ©æ‚¨ç¼–å†™ä»£ç ã€è§£ç­”ç–‘é—® </p><div class="empty-tips" data-v-f9ace5b2><div class="tip-item" data-v-f9ace5b2><span class="tip-icon" data-v-f9ace5b2>ğŸ’¡</span><span class="tip-text" data-v-f9ace5b2>è¯¢é—®ä»£ç é—®é¢˜</span></div><div class="tip-item" data-v-f9ace5b2><span class="tip-icon" data-v-f9ace5b2>ğŸ”§</span><span class="tip-text" data-v-f9ace5b2>é‡æ„ç°æœ‰ä»£ç </span></div><div class="tip-item" data-v-f9ace5b2><span class="tip-icon" data-v-f9ace5b2>ğŸ›</span><span class="tip-text" data-v-f9ace5b2>è°ƒè¯•é”™è¯¯</span></div></div><div class="empty-hint" data-v-f9ace5b2><kbd class="keyboard-key" data-v-f9ace5b2>Enter</kbd> å‘é€æ¶ˆæ¯ Â· <kbd class="keyboard-key" data-v-f9ace5b2>Shift</kbd> + <kbd class="keyboard-key" data-v-f9ace5b2>Enter</kbd> æ¢è¡Œ </div></div>',1)])])):(x(),Be(Oe(Ji),{key:1,ref_key:"virtualListRef",ref:u,class:"message-list","data-key":"id","data-sources":v.value,"data-component":y.value,"extra-props":{isDark:e.isDark},keeps:30,"estimate-size":D.value,onScroll:m},null,8,["data-sources","data-component","extra-props","estimate-size"])),e.isStreaming?(x(),S("div",vb,[w[1]||(w[1]=f("span",{class:"streaming-dot"},"â—",-1)),f("span",mb,T(h.value),1)])):e.isLoading?(x(),S("div",bb,[...w[2]||(w[2]=[f("div",{class:"loading-spinner"},null,-1),f("span",null,"Claude æ­£åœ¨æ€è€ƒ...",-1)])])):M("",!0),Pe(Ys,{name:"fade-slide"},{default:Nt(()=>[s.value?(x(),S("button",{key:0,class:"scroll-to-bottom-btn",title:"å›åˆ°åº•éƒ¨",onClick:C},[w[3]||(w[3]=f("span",{class:"btn-icon"},"â†“",-1)),r.value>0?(x(),S("span",yb,T(r.value),1)):M("",!0)])):M("",!0)]),_:1})],512))}}),Eb=ve(xb,[["__scopeId","data-v-f9ace5b2"]]),Sb={class:"popup-content"},Cb={class:"file-list"},kb=["onClick","onMouseenter"],wb={class:"file-info"},Db={class:"file-name"},Tb={class:"file-path"},Ib=pe({__name:"AtSymbolFilePopup",props:{visible:{type:Boolean},files:{},anchorElement:{},atPosition:{}},emits:["select","dismiss"],setup(e,{emit:t}){const n=e,u=t,s=G(null),r=G(0),o=k(()=>{if(!n.anchorElement)return{display:"none"};const c=n.anchorElement.getBoundingClientRect();return{position:"fixed",left:`${c.left}px`,top:`${c.bottom+4}px`,zIndex:1e4}});function a(c){u("select",c),r.value=0}function i(c){if(!(!n.visible||n.files.length===0))switch(c.key){case"ArrowDown":c.preventDefault(),r.value=Math.min(r.value+1,n.files.length-1);break;case"ArrowUp":c.preventDefault(),r.value=Math.max(r.value-1,0);break;case"Enter":c.preventDefault(),r.value>=0&&r.value<n.files.length&&a(n.files[r.value]);break;case"Escape":c.preventDefault(),u("dismiss");break}}function l(c){if(!n.visible)return;const d=c.target;s.value&&!s.value.contains(d)&&u("dismiss")}return et(()=>n.visible,c=>{c&&(r.value=0)}),et(()=>n.files,()=>{r.value=0}),ln(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",l)}),hu(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",l)}),(c,d)=>(x(),Be(Xs,{to:"body"},[e.visible&&e.files.length>0?(x(),S("div",{key:0,ref_key:"popupRef",ref:s,class:"at-symbol-popup",style:Yu(o.value),onMousedown:d[0]||(d[0]=Ct(()=>{},["prevent"]))},[f("div",Sb,[f("div",Cb,[(x(!0),S($e,null,Re(e.files,(h,p)=>(x(),S("div",{key:h.absolutePath,class:le(["file-item",{selected:p===r.value}]),onClick:g=>a(h),onMouseenter:g=>r.value=p},[d[1]||(d[1]=f("div",{class:"file-icon"},"ğŸ“„",-1)),f("div",wb,[f("div",Db,T(h.name),1),f("div",Tb,T(h.relativePath),1)])],42,kb))),128))])])],36)):M("",!0)]))}}),_b=ve(Ib,[["__scopeId","data-v-9e89814e"]]);var ea=(e=>(e.USER="USER",e.ASSISTANT="ASSISTANT",e.SYSTEM="SYSTEM",e.ERROR="ERROR",e))(ea||{}),Vt=(e=>(e.DEFAULT="DEFAULT",e.OPUS="OPUS",e.SONNET="SONNET",e.OPUS_PLAN="OPUS_PLAN",e))(Vt||{}),ta=(e=>(e.TAG="TAG",e.INLINE="INLINE",e))(ta||{});const Ms={[Vt.DEFAULT]:{id:Vt.DEFAULT,name:"Claude Sonnet 4.5",contextLength:2e5,description:"é»˜è®¤æ¨¡å‹ - Claude 3.5 Sonnet (2024-10-22)"},[Vt.OPUS]:{id:Vt.OPUS,name:"Claude Opus",contextLength:2e5,description:"Claude 3 Opus - æœ€å¼ºå¤§çš„æ¨¡å‹"},[Vt.SONNET]:{id:Vt.SONNET,name:"Claude Sonnet",contextLength:2e5,description:"Claude 3.5 Sonnet - å¹³è¡¡æ€§èƒ½å’Œæˆæœ¬"},[Vt.OPUS_PLAN]:{id:Vt.OPUS_PLAN,name:"Claude Opus (Plan Mode)",contextLength:2e5,description:"Claude 3 Opus - è®¡åˆ’æ¨¡å¼"}};function Ab(e){const t=Ms[e];if(!t)throw new Error(`Unknown AI model: ${e}. Available models: ${Object.keys(Ms).join(", ")}`);return t}function $b(e){return Ab(e).contextLength}const Fb=["title"],Ob={class:"usage-text"},Pb=pe({__name:"ContextUsageIndicator",props:{currentModel:{},messageHistory:{default:()=>[]},sessionTokenUsage:{default:null}},setup(e){const t={CRITICAL:95,WARNING:92,CAUTION:75},n=e,u=k(()=>D(n.messageHistory,n.sessionTokenUsage)),s=k(()=>$b(n.currentModel)),r=k(()=>s.value===0?0:Math.round(u.value/s.value*100)),o=k(()=>{const m=r.value;return m>=t.CRITICAL?"status-critical":m>=t.WARNING?"status-warning":m>=t.CAUTION?"status-caution":"status-normal"}),a=k(()=>E(u.value)),i=k(()=>E(s.value)),l=k(()=>[c(),d(),h(),p()].filter(Boolean).join(`

`));function c(){return`ä¸Šä¸‹æ–‡ä½¿ç”¨: ${u.value.toLocaleString()} / ${s.value.toLocaleString()} tokens (${r.value}%)`}function d(){let m="ğŸ“Š ç»Ÿè®¡åŸç†:";return n.messageHistory.length>0?(m+=`
â€¢ åŸºäº Claude Code çš„ VEâ†’HY5â†’zY5 å‡½æ•°é“¾`,m+=`
â€¢ VE: é€†åºéå†æ‰¾æœ€æ–° assistant æ¶ˆæ¯`,m+=`
â€¢ HY5: è¿‡æ»¤ synthetic æ¶ˆæ¯ï¼Œå–çœŸå® API è°ƒç”¨`,m+=`
â€¢ zY5: ç´¯åŠ  inputï¼ˆä¸Šè¡Œï¼‰+ outputï¼ˆä¸‹è¡Œï¼‰tokens`):m+=`
â€¢ æ–°ä¼šè¯ï¼Œæš‚æ—  API è°ƒç”¨æ•°æ®`,m}function h(){if(!n.sessionTokenUsage||n.sessionTokenUsage.cacheCreationTokens===0)return"";let m="âš¡ ç¼“å­˜ä¼˜åŒ–:";return m+=`
â€¢ ç¼“å­˜åˆ›å»º: ${n.sessionTokenUsage.cacheCreationTokens.toLocaleString()} tokens`,n.sessionTokenUsage.cacheReadTokens>0&&(m+=`
â€¢ ç¼“å­˜å¤ç”¨: ${n.sessionTokenUsage.cacheReadTokens.toLocaleString()} tokens`),m}function p(){const m=r.value;return m>=t.CRITICAL?"ğŸš¨ ä¸Šä¸‹æ–‡çª—å£å³å°†ç”¨å®Œï¼å»ºè®®ç«‹å³å¼€å¯æ–°å¯¹è¯":m>=t.WARNING?"âš ï¸ å·²è¾¾åˆ° Claude Code çš„ 92% è‡ªåŠ¨å‹ç¼©é˜ˆå€¼":m>=t.CAUTION?"ğŸ’¡ æ¥è¿‘ 92% é˜ˆå€¼ï¼Œå¯è€ƒè™‘å¼€å¯æ–°å¯¹è¯":m>=50?"ğŸ’¡ ä¸Šä¸‹æ–‡å·²ä½¿ç”¨ä¸€åŠï¼Œæ³¨æ„ç®¡ç†":""}function g(m){for(let C=m.length-1;C>=0;C--){const b=m[C];if(v(b))return b.tokenUsage||null}return null}function v(m){return m.role!==ea.ASSISTANT||!m.tokenUsage?!1:!m.orderedElements.some(b=>b.type==="content"?b.content?.includes("<synthetic>"):!1)}function y(m){return m.inputTokens+m.outputTokens}function D(m,C){const b=g(m);return b?y(b):0}function E(m){return m<1e3?m.toString():m<1e4?(m/1e3).toFixed(1)+"k":Math.round(m/1e3)+"k"}return(m,C)=>u.value>0?(x(),S("div",{key:0,class:le(["context-usage-indicator",o.value]),title:l.value},[f("span",Ob,"["+T(a.value)+"/"+T(i.value)+"]",1)],10,Fb)):M("",!0)}}),Mb=ve(Pb,[["__scopeId","data-v-35e3872d"]]);class Rb{async searchFiles(t,n=10){try{const u=await fetch(`/api/files/search?query=${encodeURIComponent(t)}&maxResults=${n}`);if(!u.ok)return console.warn("æ–‡ä»¶æœç´¢å¤±è´¥:",u.statusText),[];const s=await u.json();return s.success&&s.data?s.data:(console.warn("æ–‡ä»¶æœç´¢å¤±è´¥:",s.error),[])}catch(u){return console.error("æ–‡ä»¶æœç´¢å¼‚å¸¸:",u),[]}}async getRecentFiles(t=10){try{const n=await fetch(`/api/files/recent?maxResults=${t}`);if(!n.ok)return console.warn("è·å–æœ€è¿‘æ–‡ä»¶å¤±è´¥:",n.statusText),[];const u=await n.json();return u.success&&u.data?u.data:(console.warn("è·å–æœ€è¿‘æ–‡ä»¶å¤±è´¥:",u.error),[])}catch(n){return console.error("è·å–æœ€è¿‘æ–‡ä»¶å¼‚å¸¸:",n),[]}}}const Wn=new Rb;function Lb(e,t){if(t<=0||t>e.length)return null;let n=-1;for(let r=t-1;r>=0;r--){const o=e[r];if(o==="@"){n=r;break}if(o===" "||o===`
`||o==="	")return null}if(n===-1)return null;if(n>0){const r=e[n-1];if(r!==" "&&r!==`
`&&r!=="	")return null}if(t<n+1)return null;const u=n+1,s=e.substring(u,t);return{atPosition:n,query:s}}function Nb(e,t,n,u){const s=t+1;let r=n;for(let d=s;d<e.length;d++){const h=e[d];if(h===" "||h===`
`||h==="	"){r=d;break}}r===n&&n===e.length&&(r=e.length);const o=r>=e.length||r<e.length&&e[r]!==" "&&e[r]!==`
`&&e[r]!=="	",a=e.substring(0,t),i=e.substring(r),l=a+u+(o?" ":"")+i,c=t+u.length+(o?1:0);return{newText:l,newCursorPosition:c}}const Bb={key:0,class:"pending-task-bar"},Ub={class:"task-header"},jb={class:"task-label"},zb={key:1,class:"top-toolbar"},Hb=["disabled"],Gb={class:"btn-text"},Wb=["src","alt"],Kb={class:"tag-icon"},Vb={class:"tag-text"},Jb=["title","onClick"],Yb=["title"],Xb={class:"drop-zone-content"},Zb={class:"drop-text"},Qb={key:0,class:"generating-indicator"},qb={key:1,class:"inline-images-preview"},ey=["src","alt"],ty=["title","onClick"],ny=["placeholder","disabled"],uy={class:"bottom-toolbar"},oy={class:"toolbar-left"},sy={key:0,class:"model-selector-wrapper"},ry={class:"model-option-label"},ay={key:0,class:"model-brain-icon"},iy=["title"],ly={key:2,class:"checkbox-label"},cy=["disabled"],dy=["title"],fy=["disabled"],py=["disabled","title"],hy={class:"status-text"},gy={class:"toolbar-right"},vy=["title"],my=["disabled"],by=["disabled","title"],yy={class:"btn-text"},xy=["title"],Ey={class:"popup-header"},Sy={class:"popup-content"},Cy=["placeholder"],ky={class:"context-results"},wy=["onClick","onMouseenter"],Dy={class:"result-name"},Ty={class:"result-path"},Rs="claude-code-plus-auto-cleanup-contexts",Iy=pe({__name:"ChatInput",props:{pendingTasks:{default:()=>[]},contexts:{default:()=>[]},isGenerating:{type:Boolean,default:!1},enabled:{type:Boolean,default:!0},selectedModel:{default:"SONNET"},actualModelId:{},selectedPermission:{default:"DEFAULT"},skipPermissions:{type:Boolean,default:!0},autoCleanupContexts:{type:Boolean,default:!1},showContextControls:{type:Boolean,default:!0},showModelSelector:{type:Boolean,default:!0},showPermissionControls:{type:Boolean,default:!0},showSendButton:{type:Boolean,default:!0},tokenUsage:{},placeholderText:{default:""},messageHistory:{},sessionTokenUsage:{}},emits:["send","interrupt-and-send","stop","context-add","context-remove","model-change","permission-change","skip-permissions-change","auto-cleanup-change","inline-images-change"],setup(e,{emit:t}){const n=e,u=t,{t:s}=pr(),r=fr(),o=r.settings,a=G(!1),i=k(()=>{const P=Object.values(St),j=o.value.model,ie=P.includes(j??"")?j:St.SONNET_45;return ds[ie]??!1}),l=G(),c=G(),d=G(),h=G(),p=G(""),g=G(!1),v=G(!1),y=G(""),D=G([]),E=G(0),m=G(!1),C=G(0),b=G([]),w=G(!1),_=G(!1),A=G({x:0,y:0}),I=G([]),R=new Map,H=G(o.value.model),te=G(n.selectedPermission),U=G(n.skipPermissions),N=G(localStorage.getItem(Rs)==="true"||n.autoCleanupContexts),Y=k(()=>n.pendingTasks.filter(P=>P.status==="PENDING"||P.status==="RUNNING")),V=k(()=>p.value.trim().length>0),Q=k(()=>(V.value||I.value.length>0)&&n.enabled&&!n.isGenerating),J=k(()=>n.contexts.slice(0,3)),ee=k(()=>Math.max(0,n.contexts.length-3)),me=k(()=>{if(n.placeholderText)return n.placeholderText;const P=navigator.platform.toUpperCase().indexOf("MAC")>=0;return s(P?"chat.placeholderWithShortcuts":"chat.placeholderWithShortcutsCtrl")});et(()=>n.selectedPermission,P=>{te.value=P}),et(()=>n.skipPermissions,P=>{U.value=P}),et(()=>n.autoCleanupContexts,P=>{N.value=P}),et([p,()=>l.value?.selectionStart],()=>{Ne()});function we(){l.value?.focus()}function Ee(){un(()=>{const P=l.value;if(!P)return;P.style.height="auto";const j=Math.min(P.scrollHeight,300);P.style.height=`${j}px`})}async function Ne(){const P=l.value;if(!P)return;const j=P.selectionStart,ie=Lb(p.value,j);if(ie){C.value=ie.atPosition;try{ie.query.length===0?b.value=await Wn.getRecentFiles(10):b.value=await Wn.searchFiles(ie.query,10),m.value=b.value.length>0}catch(De){console.error("æ–‡ä»¶æœç´¢å¤±è´¥:",De),b.value=[],m.value=!1}}else m.value=!1,b.value=[]}function Me(P){const j=l.value;if(!j)return;const ie=`@${P.relativePath}`,De=j.selectionStart,{newText:q,newCursorPosition:Pt}=Nb(p.value,C.value,De,ie);p.value=q,un(()=>{j.selectionStart=j.selectionEnd=Pt,j.focus()}),Le()}function Le(){m.value=!1,b.value=[]}async function xe(P){if(P.key==="Tab"&&!P.shiftKey&&!P.ctrlKey&&!P.metaKey){P.preventDefault(),await Se("keyboard");return}if(P.key==="Enter"&&P.altKey){P.preventDefault(),Je();return}if(!(P.key==="Enter"&&P.shiftKey||P.key==="j"&&P.ctrlKey)){if(P.key==="u"&&P.ctrlKey){P.preventDefault();const j=l.value;if(!j)return;const ie=j.value,De=j.selectionStart,q=ie.lastIndexOf(`
`,De-1)+1;p.value=ie.substring(0,q)+ie.substring(De),un(()=>{j.selectionStart=j.selectionEnd=q});return}if(P.key==="Enter"&&!P.shiftKey&&!P.altKey){P.preventDefault(),Ve();return}}}async function Se(P="click"){if(!a.value){a.value=!0;try{const j=!i.value;console.log(`ğŸ§  [ThinkingToggle] ${P} -> ${j}`),await r.saveSettings({thinkingEnabled:j})}catch(j){console.error("âŒ åˆ‡æ¢æ€è€ƒå¼€å…³å¤±è´¥:",j)}finally{a.value=!1}}}const Te=Object.values(St);function Ue(P){return xi[P]??P}function nt(P){return ds[P]??!1}async function Dt(P){H.value=P,await r.updateModel(P)}async function dt(P){console.log("ğŸ“‹ [handlePaste] ç²˜è´´äº‹ä»¶è§¦å‘");const j=P.clipboardData?.items;if(!j){console.log("ğŸ“‹ [handlePaste] æ²¡æœ‰ clipboardData.items");return}console.log(`ğŸ“‹ [handlePaste] æ£€æµ‹åˆ° ${j.length} ä¸ªç²˜è´´é¡¹`);for(let ie=0;ie<j.length;ie++){const De=j[ie];if(console.log(`ğŸ“‹ [handlePaste] é¡¹ ${ie}: kind=${De.kind}, type=${De.type}`),De.type&&De.type.startsWith("image/")){console.log(`ğŸ“‹ [handlePaste] æ£€æµ‹åˆ°å›¾ç‰‡: ${De.type}`),P.preventDefault();const q=De.getAsFile();if(!q){console.log("ğŸ“‹ [handlePaste] getAsFile() è¿”å› null");continue}console.log(`ğŸ“‹ [handlePaste] è·å–åˆ°æ–‡ä»¶: name=${q.name}, size=${q.size}, type=${q.type}`),l.value?.selectionStart===0?(console.log("ğŸ“‹ [handlePaste] å…‰æ ‡åœ¨æœ€å‰é¢ï¼Œå°†å›¾ç‰‡ä½œä¸ºä¸Šä¸‹æ–‡"),await ut(q)):(console.log("ğŸ“‹ [handlePaste] å…‰æ ‡ä¸åœ¨æœ€å‰é¢ï¼Œå°†å›¾ç‰‡ä½œä¸ºå†…åµŒå›¾ç‰‡"),I.value.push(q),u("inline-images-change",I.value))}}}function Ve(){if(!Q.value)return;const P=p.value.trim();if(P||I.value.length>0){const j=[...I.value];u("send",P,j),I.value.forEach(ie=>{const De=R.get(ie);De&&(URL.revokeObjectURL(De),R.delete(ie))}),p.value="",I.value=[],u("inline-images-change",[]),Ee()}}function Je(){if(!V.value&&I.value.length===0||!n.isGenerating)return;const P=p.value.trim(),j=[...I.value];u("interrupt-and-send",P,j),I.value.forEach(ie=>{const De=R.get(ie);De&&(URL.revokeObjectURL(De),R.delete(ie))}),p.value="",I.value=[],u("inline-images-change",[]),Ee()}function Ot(P){P.preventDefault(),_.value=!0,A.value={x:P.clientX,y:P.clientY}}function gt(){_.value=!1,Ve()}function ft(){_.value=!1,Je()}function Zt(){_.value=!1}function dn(P){u("context-remove",P)}async function pt(){v.value=!0,y.value="",E.value=0;try{const P=await Wn.getRecentFiles(10);D.value=P}catch(P){console.error("è·å–æœ€è¿‘æ–‡ä»¶å¤±è´¥:",P),D.value=[]}}async function Tt(){const P=y.value.trim();if(P.length===0)try{const j=await Wn.getRecentFiles(10);D.value=j}catch(j){console.error("è·å–æœ€è¿‘æ–‡ä»¶å¤±è´¥:",j),D.value=[]}else try{const j=await Wn.searchFiles(P,10);D.value=j}catch(j){console.error("æ–‡ä»¶æœç´¢å¤±è´¥:",j),D.value=[]}E.value=0}function F(P){const j={type:"file",path:P.relativePath,name:P.name};u("context-add",j),v.value=!1,y.value="",D.value=[],E.value=0}function B(P){if(!(!v.value||D.value.length===0))switch(P.key){case"ArrowDown":P.preventDefault(),E.value=Math.min(E.value+1,D.value.length-1);break;case"ArrowUp":P.preventDefault(),E.value=Math.max(E.value-1,0);break;case"Enter":P.preventDefault(),E.value>=0&&E.value<D.value.length&&F(D.value[E.value]);break;case"Escape":P.preventDefault(),v.value=!1,y.value="",D.value=[],E.value=0;break}}function z(P){return ne(P)?P.name:Ce(P)?P.path.split(/[\\/]/).pop()||P.path:Ie(P)?P.title||P.url:P.uri}function K(P){return ne(P)?`data:${P.mimeType};base64,${P.base64Data}`:""}function se(P){return ne(P)?"ï¿½ï¸":Ce(P)?"ï¿½":Ie(P)?"ğŸŒ":"type"in P&&P.type==="folder"?"ğŸ“":"path"in P?"ğŸ“„":"ğŸ“"}function re(P){return P.type==="SWITCH_MODEL"?`/model ${P.alias}`:P.text.trim()}function be(P){return{PENDING:s("chat.taskStatus.pending"),RUNNING:s("chat.taskStatus.running"),SUCCESS:s("chat.taskStatus.success"),FAILED:s("chat.taskStatus.failed")}[P]||P}function O(P){return`${P.totalTokens} tokens`}function $(){if(!n.tokenUsage)return"";const P=n.tokenUsage;return`è¾“å…¥: ${P.inputTokens}, è¾“å‡º: ${P.outputTokens}, ç¼“å­˜åˆ›å»º: ${P.cacheCreationTokens}, ç¼“å­˜è¯»å–: ${P.cacheReadTokens}`}function L(P){P.preventDefault(),w.value=!0}function W(P){P.preventDefault(),P.target===P.currentTarget&&(w.value=!1)}async function Z(P){P.preventDefault(),w.value=!1;const j=P.dataTransfer?.files;if(!j||j.length===0)return;const ie=l.value?.selectionStart===0;for(let De=0;De<j.length;De++){const q=j[De];q.type&&q.type.startsWith("image/")?ie?(console.log("ğŸ“‹ [handleDrop] å…‰æ ‡åœ¨æœ€å‰é¢ï¼Œå°†å›¾ç‰‡ä½œä¸ºä¸Šä¸‹æ–‡"),await ut(q)):(console.log("ğŸ“‹ [handleDrop] å…‰æ ‡ä¸åœ¨æœ€å‰é¢ï¼Œå°†å›¾ç‰‡ä½œä¸ºå†…åµŒå›¾ç‰‡"),I.value.push(q)):await oe(q)}ie||u("inline-images-change",I.value)}async function oe(P){try{const j=await de(P),ie={type:"file",name:P.name,path:P.name,content:j};u("context-add",ie)}catch(j){console.error("Failed to read file:",j)}}function de(P){return new Promise((j,ie)=>{const De=new FileReader;De.onload=q=>j(q.target?.result),De.onerror=ie,De.readAsText(P)})}function Ae(){h.value?.click()}async function Ye(P){const j=P.target,ie=j.files;if(!ie||ie.length===0)return;const De=l.value?.selectionStart===0;for(let q=0;q<ie.length;q++)De?await ut(ie[q]):I.value.push(ie[q]);De||u("inline-images-change",I.value),j.value=""}const fe=["image/jpeg","image/png","image/gif","image/bmp","image/webp"];function ne(P){return"type"in P&&P.type==="image"}const ae=ne;function Ce(P){return"type"in P&&P.type==="file"}function Ie(P){return"url"in P||"type"in P&&P.type==="web"}async function ut(P){console.log(`ğŸ–¼ï¸ [addImageToContext] å¼€å§‹å¤„ç†å›¾ç‰‡: ${P.name}`);try{if(!fe.includes(P.type)){console.error(`ğŸ–¼ï¸ [addImageToContext] ä¸æ”¯æŒçš„å›¾ç‰‡æ ¼å¼: ${P.type}`);return}console.log("ğŸ–¼ï¸ [addImageToContext] è¯»å–å›¾ç‰‡ä¸º base64...");const j=await jn(P);console.log(`ğŸ–¼ï¸ [addImageToContext] base64 é•¿åº¦: ${j.length}`);const ie={type:"image",displayType:ta.TAG,uri:`image://${P.name}`,name:P.name,mimeType:P.type,base64Data:j,size:P.size};console.log("ğŸ–¼ï¸ [addImageToContext] åˆ›å»ºå›¾ç‰‡å¼•ç”¨:",{type:ie.type,name:ie.name,mimeType:ie.mimeType,size:ie.size,base64Length:j.length}),u("context-add",ie),console.log("ğŸ–¼ï¸ [addImageToContext] å·²å‘é€ context-add äº‹ä»¶")}catch(j){console.error("ğŸ–¼ï¸ [addImageToContext] è¯»å–å›¾ç‰‡å¤±è´¥:",j)}}function jn(P){return new Promise((j,ie)=>{const De=new FileReader;De.onload=q=>{const zn=(q.target?.result).split(",")[1];j(zn)},De.onerror=ie,De.readAsDataURL(P)})}function oo(P){if(!R.has(P)){const j=URL.createObjectURL(P);R.set(P,j)}return R.get(P)}function yn(P){const j=I.value[P];if(j){const ie=R.get(j);ie&&(URL.revokeObjectURL(ie),R.delete(j)),I.value.splice(P,1),u("inline-images-change",I.value)}}function ga(){localStorage.setItem(Rs,N.value.toString()),u("auto-cleanup-change",N.value)}return et(()=>v.value,P=>{P&&(E.value=0)}),et(()=>D.value,()=>{E.value=0}),ln(()=>{un(()=>{setTimeout(()=>{we()},200)}),document.addEventListener("keydown",B)}),hu(()=>{document.removeEventListener("keydown",B),R.forEach(P=>{URL.revokeObjectURL(P)}),R.clear(),I.value=[]}),(P,j)=>{const ie=wa,De=ka;return x(),S("div",{class:le(["unified-chat-input-container",{focused:g.value,generating:e.isGenerating}])},[Y.value.length>0?(x(),S("div",Bb,[f("div",Ub,T(Oe(s)("chat.taskQueueCount",{count:Y.value.length})),1),(x(!0),S($e,null,Re(Y.value,q=>(x(),S("div",{key:q.id,class:"task-row"},[f("span",jb,T(re(q)),1),f("span",{class:le(["task-status",`status-${q.status.toLowerCase()}`])},T(be(q.status)),3)]))),128))])):M("",!0),e.showContextControls&&(e.contexts.length>0||e.enabled)?(x(),S("div",zb,[f("button",{ref_key:"addContextButtonRef",ref:c,class:"add-context-btn",disabled:!e.enabled,onClick:pt},[j[15]||(j[15]=f("span",{class:"btn-icon"},"ğŸ“",-1)),f("span",Gb,T(Oe(s)("chat.addContext")),1)],8,Hb),(x(!0),S($e,null,Re(J.value,(q,Pt)=>(x(),S("div",{key:`context-${Pt}`,class:le(["context-tag",{"image-tag":Oe(ae)(q)}])},[Oe(ae)(q)?(x(),S("img",{key:0,src:K(q),class:"tag-image-preview",alt:z(q)},null,8,Wb)):M("",!0),f("span",Kb,T(se(q)),1),f("span",Vb,T(z(q)),1),f("button",{class:"tag-remove",title:Oe(s)("common.remove"),onClick:zn=>dn(q)}," Ã— ",8,Jb)],2))),128)),ee.value>0?(x(),S("div",{key:0,class:"context-more-hint",title:`è¿˜æœ‰ ${ee.value} ä¸ªä¸Šä¸‹æ–‡`}," +"+T(ee.value),9,Yb)):M("",!0)])):M("",!0),w.value?(x(),S("div",{key:2,class:"drop-zone-overlay",onDrop:Ct(Z,["prevent"]),onDragover:j[0]||(j[0]=Ct(()=>{},["prevent"])),onDragleave:W},[f("div",Xb,[j[16]||(j[16]=f("span",{class:"drop-icon"},"ğŸ“",-1)),f("span",Zb,T(Oe(s)("chat.dropFileToAddContext")),1)])],32)):M("",!0),f("div",{class:le(["input-area",{"generating-state":e.isGenerating}]),onClick:we,onDrop:Ct(Z,["prevent"]),onDragover:Ct(L,["prevent"]),onDragleave:W},[e.isGenerating?(x(),S("div",Qb,[...j[17]||(j[17]=[f("div",{class:"generating-spinner"},null,-1),f("span",{class:"generating-text"},"ç”Ÿæˆä¸­...",-1)])])):M("",!0),I.value.length>0?(x(),S("div",qb,[(x(!0),S($e,null,Re(I.value,(q,Pt)=>(x(),S("div",{key:Pt,class:"inline-image-item"},[f("img",{src:oo(q),class:"inline-image-preview",alt:q.name},null,8,ey),f("button",{class:"inline-image-remove",title:Oe(s)("common.remove"),onClick:zn=>yn(Pt)}," Ã— ",8,ty)]))),128))])):M("",!0),vn(f("textarea",{ref_key:"textareaRef",ref:l,"onUpdate:modelValue":j[1]||(j[1]=q=>p.value=q),class:"message-textarea",placeholder:me.value,disabled:!e.enabled||e.isGenerating,onFocus:j[2]||(j[2]=q=>g.value=!0),onBlur:j[3]||(j[3]=q=>g.value=!1),onKeydown:xe,onPaste:dt,onInput:Ee},null,40,ny),[[$o,p.value]])],34),f("div",uy,[f("div",oy,[e.showModelSelector?(x(),S("div",sy,[Pe(De,{modelValue:H.value,"onUpdate:modelValue":j[4]||(j[4]=q=>H.value=q),class:"model-selector",disabled:!e.enabled||e.isGenerating,placement:"top-start",teleported:!0,"popper-class":"chat-input-select-dropdown","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:"viewport"}},{name:"flip",options:{fallbackPlacements:["top-start","top"]}}]},onChange:Dt},{default:Nt(()=>[(x(!0),S($e,null,Re(Oe(Te),q=>(x(),Be(ie,{key:q,value:q},{default:Nt(()=>[f("span",ry,[_t(T(Ue(q))+" ",1),nt(q)?(x(),S("span",ay,"ğŸ§ ")):M("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","disabled"]),e.actualModelId?(x(),S("span",{key:0,class:"actual-model-hint",title:e.actualModelId}," å®é™…æ¨¡å‹: "+T(e.actualModelId),9,iy)):M("",!0)])):M("",!0),e.showPermissionControls?(x(),Be(De,{key:1,modelValue:te.value,"onUpdate:modelValue":j[5]||(j[5]=q=>te.value=q),class:"permission-selector",disabled:!e.enabled||e.isGenerating,placement:"top-start",teleported:!0,"popper-class":"chat-input-select-dropdown","popper-options":{modifiers:[{name:"preventOverflow",options:{boundary:"viewport"}},{name:"flip",options:{fallbackPlacements:["top-start","top"]}}]},onChange:j[6]||(j[6]=q=>P.$emit("permission-change",te.value))},{default:Nt(()=>[Pe(ie,{value:"DEFAULT",label:"é»˜è®¤æƒé™"}),Pe(ie,{value:"ACCEPT",label:"æ¥å—ç¼–è¾‘"}),Pe(ie,{value:"BYPASS",label:"ç»•è¿‡æƒé™"}),Pe(ie,{value:"PLAN",label:"è®¡åˆ’æ¨¡å¼"})]),_:1},8,["modelValue","disabled"])):M("",!0),e.showPermissionControls?(x(),S("label",ly,[vn(f("input",{"onUpdate:modelValue":j[7]||(j[7]=q=>U.value=q),type:"checkbox",disabled:!e.enabled||e.isGenerating,onChange:j[8]||(j[8]=q=>P.$emit("skip-permissions-change",U.value))},null,40,cy),[[is,U.value]]),j[18]||(j[18]=f("span",null,"è·³è¿‡æƒé™",-1))])):M("",!0),e.showPermissionControls?(x(),S("label",{key:3,class:"checkbox-label",title:Oe(s)("chat.autoCleanupContextTooltip")},[vn(f("input",{"onUpdate:modelValue":j[9]||(j[9]=q=>N.value=q),type:"checkbox",disabled:!e.enabled||e.isGenerating,onChange:ga},null,40,fy),[[is,N.value]]),f("span",null,T(Oe(s)("chat.autoCleanupContext")),1)],8,dy)):M("",!0),f("button",{class:le(["thinking-toggle",{active:i.value}]),type:"button",disabled:!e.enabled||e.isGenerating||a.value,title:i.value?"æ‰©å±•æ€è€ƒå·²å¼€å¯ï¼ŒæŒ‰ Tab å¿«é€Ÿåˆ‡æ¢":"æ‰©å±•æ€è€ƒå·²å…³é—­ï¼ŒæŒ‰ Tab å¿«é€Ÿåˆ‡æ¢",onClick:j[10]||(j[10]=q=>Se("click"))},[f("span",{class:le(["status-dot",{active:i.value}])},null,2),f("span",hy,T(i.value?"æ€è€ƒå¼€å¯ (Tab)":"æ€è€ƒå…³é—­ (Tab)"),1)],10,py)]),f("div",gy,[e.messageHistory&&e.messageHistory.length>0?(x(),Be(Mb,{key:0,"current-model":H.value,"message-history":e.messageHistory,"session-token-usage":e.sessionTokenUsage},null,8,["current-model","message-history","session-token-usage"])):M("",!0),e.tokenUsage?(x(),S("div",{key:1,class:"token-stats",title:$()},T(O(e.tokenUsage)),9,vy)):M("",!0),f("button",{class:"image-upload-btn",disabled:!e.enabled||e.isGenerating,title:"ä¸Šä¼ å›¾ç‰‡",onClick:Ae},[...j[19]||(j[19]=[f("span",{class:"btn-icon"},"ğŸ“·",-1)])],8,my),f("input",{ref_key:"imageInputRef",ref:h,type:"file",accept:"image/jpeg,image/png,image/gif,image/bmp,image/webp",multiple:"",style:{display:"none"},onChange:Ye},null,544),e.isGenerating?(x(),S("button",{key:3,class:"stop-btn",title:Oe(s)("chat.stopGenerating"),onClick:j[11]||(j[11]=q=>P.$emit("stop"))},[...j[21]||(j[21]=[f("span",{class:"btn-icon"},"â¸",-1),f("span",{class:"btn-text"},"åœæ­¢",-1)])],8,xy)):(x(),S("button",{key:2,class:"send-btn",disabled:!Q.value,title:Oe(s)("chat.sendMessageShortcut"),onClick:Ve,onContextmenu:Ot},[j[20]||(j[20]=f("span",{class:"btn-icon"},"ğŸ“¤",-1)),f("span",yy,T(Oe(s)("common.send")),1)],40,by)),e.isGenerating&&V.value?(x(),S("button",{key:4,class:"interrupt-send-btn",title:"æ‰“æ–­å¹¶å‘é€ (Alt+Enter)",onClick:Je},[...j[22]||(j[22]=[f("span",{class:"btn-icon"},"âš¡",-1),f("span",{class:"btn-text"},"æ‰“æ–­å‘é€",-1)])])):M("",!0)])]),_.value?(x(),S("div",{key:3,class:"send-context-menu",style:Yu({left:A.value.x+"px",top:A.value.y+"px"}),onClick:j[12]||(j[12]=Ct(()=>{},["stop"]))},[f("div",{class:"context-menu-item",onClick:gt},[...j[23]||(j[23]=[f("span",{class:"menu-icon"},"ğŸ“¤",-1),f("span",{class:"menu-text"},"å‘é€",-1)])]),e.isGenerating&&V.value?(x(),S("div",{key:0,class:"context-menu-item",onClick:ft},[...j[24]||(j[24]=[f("span",{class:"menu-icon"},"âš¡",-1),f("span",{class:"menu-text"},"æ‰“æ–­å¹¶å‘é€",-1)])])):M("",!0)],4)):M("",!0),_.value?(x(),S("div",{key:4,class:"context-menu-backdrop",onClick:Zt})):M("",!0),v.value?(x(),S("div",{key:5,ref_key:"contextPopupRef",ref:d,class:"context-selector-popup"},[f("div",Ey,[f("span",null,T(Oe(s)("chat.addContext")),1),f("button",{class:"close-btn",onClick:j[13]||(j[13]=q=>v.value=!1)}," Ã— ")]),f("div",Sy,[vn(f("input",{"onUpdate:modelValue":j[14]||(j[14]=q=>y.value=q),type:"text",class:"context-search-input",placeholder:Oe(s)("tools.search"),onInput:Tt},null,40,Cy),[[$o,y.value]]),f("div",ky,[(x(!0),S($e,null,Re(D.value,(q,Pt)=>(x(),S("div",{key:q.path,class:le(["context-result-item",{selected:Pt===E.value}]),onClick:zn=>F(q),onMouseenter:zn=>E.value=Pt},[j[25]||(j[25]=f("span",{class:"result-icon"},"ğŸ“„",-1)),f("span",Dy,T(q.name),1),f("span",Ty,T(q.relativePath),1)],42,wy))),128))])])],512)):M("",!0),Pe(_b,{visible:m.value,files:b.value,"anchor-element":l.value,"at-position":C.value,onSelect:Me,onDismiss:Le},null,8,["visible","files","anchor-element","at-position"])],2)}}}),_y=ve(Iy,[["__scopeId","data-v-0425f8ae"]]);var na={exports:{}};const Ay=tr(Ca);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,u)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ls(Object(n),!0).forEach(function(u){$y(e,u,n[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(n,u))})}return e}function Mu(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mu=function(t){return typeof t}:Mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function $y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(){return Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Ft.apply(this,arguments)}function Fy(e,t){if(e==null)return{};var n={},u=Object.keys(e),s,r;for(r=0;r<u.length;r++)s=u[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Oy(e,t){if(e==null)return{};var n=Fy(e,t),u,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)u=r[s],!(t.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(e,u)&&(n[u]=e[u])}return n}function Py(e){return My(e)||Ry(e)||Ly(e)||Ny()}function My(e){if(Array.isArray(e))return Bo(e)}function Ry(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ly(e,t){if(e){if(typeof e=="string")return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bo(e,t)}}function Bo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function Ny(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var By="1.14.0";function Jt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Xt=Jt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),yu=Jt(/Edge/i),Ns=Jt(/firefox/i),ou=Jt(/safari/i)&&!Jt(/chrome/i)&&!Jt(/android/i),ua=Jt(/iP(ad|od|hone)/i),Uy=Jt(/chrome/i)&&Jt(/android/i),oa={capture:!1,passive:!1};function _e(e,t,n){e.addEventListener(t,n,!Xt&&oa)}function ke(e,t,n){e.removeEventListener(t,n,!Xt&&oa)}function Gu(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function jy(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Lt(e,t,n,u){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Gu(e,t):Gu(e,t))||u&&e===n)return e;if(e===n)break}while(e=jy(e))}return null}var Bs=/\s+/g;function Xe(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var u=(" "+e.className+" ").replace(Bs," ").replace(" "+t+" "," ");e.className=(u+(n?" "+t:"")).replace(Bs," ")}}function ue(e,t,n){var u=e&&e.style;if(u){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in u)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),u[t]=n+(typeof n=="string"?"":"px")}}function mn(e,t){var n="";if(typeof e=="string")n=e;else do{var u=ue(e,"transform");u&&u!=="none"&&(n=u+" "+n)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(n)}function sa(e,t,n){if(e){var u=e.getElementsByTagName(t),s=0,r=u.length;if(n)for(;s<r;s++)n(u[s],s);return u}return[]}function Ht(){var e=document.scrollingElement;return e||document.documentElement}function Ke(e,t,n,u,s){if(!(!e.getBoundingClientRect&&e!==window)){var r,o,a,i,l,c,d;if(e!==window&&e.parentNode&&e!==Ht()?(r=e.getBoundingClientRect(),o=r.top,a=r.left,i=r.bottom,l=r.right,c=r.height,d=r.width):(o=0,a=0,i=window.innerHeight,l=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(s=s||e.parentNode,!Xt))do if(s&&s.getBoundingClientRect&&(ue(s,"transform")!=="none"||n&&ue(s,"position")!=="static")){var h=s.getBoundingClientRect();o-=h.top+parseInt(ue(s,"border-top-width")),a-=h.left+parseInt(ue(s,"border-left-width")),i=o+r.height,l=a+r.width;break}while(s=s.parentNode);if(u&&e!==window){var p=mn(s||e),g=p&&p.a,v=p&&p.d;p&&(o/=v,a/=g,d/=g,c/=v,i=o+c,l=a+d)}return{top:o,left:a,bottom:i,right:l,width:d,height:c}}}function Us(e,t,n){for(var u=sn(e,!0),s=Ke(e)[t];u;){var r=Ke(u)[n],o=void 0;if(o=s>=r,!o)return u;if(u===Ht())break;u=sn(u,!1)}return!1}function Nn(e,t,n,u){for(var s=0,r=0,o=e.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==ce.ghost&&(u||o[r]!==ce.dragged)&&Lt(o[r],n.draggable,e,!1)){if(s===t)return o[r];s++}r++}return null}function os(e,t){for(var n=e.lastElementChild;n&&(n===ce.ghost||ue(n,"display")==="none"||t&&!Gu(n,t));)n=n.previousElementSibling;return n||null}function qe(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==ce.clone&&(!t||Gu(e,t))&&n++;return n}function js(e){var t=0,n=0,u=Ht();if(e)do{var s=mn(e),r=s.a,o=s.d;t+=e.scrollLeft*r,n+=e.scrollTop*o}while(e!==u&&(e=e.parentNode));return[t,n]}function zy(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var u in t)if(t.hasOwnProperty(u)&&t[u]===e[n][u])return Number(n)}return-1}function sn(e,t){if(!e||!e.getBoundingClientRect)return Ht();var n=e,u=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var s=ue(n);if(n.clientWidth<n.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ht();if(u||t)return n;u=!0}}while(n=n.parentNode);return Ht()}function Hy(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Eo(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var su;function ra(e,t){return function(){if(!su){var n=arguments,u=this;n.length===1?e.call(u,n[0]):e.apply(u,n),su=setTimeout(function(){su=void 0},t)}}}function Gy(){clearTimeout(su),su=void 0}function aa(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ss(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function zs(e,t){ue(e,"position","absolute"),ue(e,"top",t.top),ue(e,"left",t.left),ue(e,"width",t.width),ue(e,"height",t.height)}function So(e){ue(e,"position",""),ue(e,"top",""),ue(e,"left",""),ue(e,"width",""),ue(e,"height","")}var ct="Sortable"+new Date().getTime();function Wy(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var u=[].slice.call(this.el.children);u.forEach(function(s){if(!(ue(s,"display")==="none"||s===ce.ghost)){e.push({target:s,rect:Ke(s)});var r=Gt({},e[e.length-1].rect);if(s.thisAnimationDuration){var o=mn(s,!0);o&&(r.top-=o.f,r.left-=o.e)}s.fromRect=r}})}},addAnimationState:function(u){e.push(u)},removeAnimationState:function(u){e.splice(zy(e,{target:u}),1)},animateAll:function(u){var s=this;if(!this.options.animation){clearTimeout(t),typeof u=="function"&&u();return}var r=!1,o=0;e.forEach(function(a){var i=0,l=a.target,c=l.fromRect,d=Ke(l),h=l.prevFromRect,p=l.prevToRect,g=a.rect,v=mn(l,!0);v&&(d.top-=v.f,d.left-=v.e),l.toRect=d,l.thisAnimationDuration&&Eo(h,d)&&!Eo(c,d)&&(g.top-d.top)/(g.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(i=Vy(g,h,p,s.options)),Eo(d,c)||(l.prevFromRect=c,l.prevToRect=d,i||(i=s.options.animation),s.animate(l,g,d,i)),i&&(r=!0,o=Math.max(o,i),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},i),l.thisAnimationDuration=i)}),clearTimeout(t),r?t=setTimeout(function(){typeof u=="function"&&u()},o):typeof u=="function"&&u(),e=[]},animate:function(u,s,r,o){if(o){ue(u,"transition",""),ue(u,"transform","");var a=mn(this.el),i=a&&a.a,l=a&&a.d,c=(s.left-r.left)/(i||1),d=(s.top-r.top)/(l||1);u.animatingX=!!c,u.animatingY=!!d,ue(u,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=Ky(u),ue(u,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ue(u,"transform","translate3d(0,0,0)"),typeof u.animated=="number"&&clearTimeout(u.animated),u.animated=setTimeout(function(){ue(u,"transition",""),ue(u,"transform",""),u.animated=!1,u.animatingX=!1,u.animatingY=!1},o)}}}}function Ky(e){return e.offsetWidth}function Vy(e,t,n,u){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*u.animation}var Sn=[],Co={initializeByDefault:!0},xu={mount:function(t){for(var n in Co)Co.hasOwnProperty(n)&&!(n in t)&&(t[n]=Co[n]);Sn.forEach(function(u){if(u.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Sn.push(t)},pluginEvent:function(t,n,u){var s=this;this.eventCanceled=!1,u.cancel=function(){s.eventCanceled=!0};var r=t+"Global";Sn.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][r]&&n[o.pluginName][r](Gt({sortable:n},u)),n.options[o.pluginName]&&n[o.pluginName][t]&&n[o.pluginName][t](Gt({sortable:n},u)))})},initializePlugins:function(t,n,u,s){Sn.forEach(function(a){var i=a.pluginName;if(!(!t.options[i]&&!a.initializeByDefault)){var l=new a(t,n,t.options);l.sortable=t,l.options=t.options,t[i]=l,Ft(u,l.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var o=this.modifyOption(t,r,t.options[r]);typeof o<"u"&&(t.options[r]=o)}},getEventProperties:function(t,n){var u={};return Sn.forEach(function(s){typeof s.eventProperties=="function"&&Ft(u,s.eventProperties.call(n[s.pluginName],t))}),u},modifyOption:function(t,n,u){var s;return Sn.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(s=r.optionListeners[n].call(t[r.pluginName],u))}),s}};function Zn(e){var t=e.sortable,n=e.rootEl,u=e.name,s=e.targetEl,r=e.cloneEl,o=e.toEl,a=e.fromEl,i=e.oldIndex,l=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[ct],!!t){var v,y=t.options,D="on"+u.charAt(0).toUpperCase()+u.substr(1);window.CustomEvent&&!Xt&&!yu?v=new CustomEvent(u,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(u,!0,!0)),v.to=o||n,v.from=a||n,v.item=s||n,v.clone=r,v.oldIndex=i,v.newIndex=l,v.oldDraggableIndex=c,v.newDraggableIndex=d,v.originalEvent=h,v.pullMode=p?p.lastPutMode:void 0;var E=Gt(Gt({},g),xu.getEventProperties(u,t));for(var m in E)v[m]=E[m];n&&n.dispatchEvent(v),y[D]&&y[D].call(t,v)}}var Jy=["evt"],vt=function(t,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=u.evt,r=Oy(u,Jy);xu.pluginEvent.bind(ce)(t,n,Gt({dragEl:X,parentEl:Ze,ghostEl:ye,rootEl:We,nextEl:gn,lastDownEl:Ru,cloneEl:Qe,cloneHidden:nn,dragStarted:Qn,putSortable:at,activeSortable:ce.active,originalEvent:s,oldIndex:_n,oldDraggableIndex:ru,newIndex:Et,newDraggableIndex:en,hideGhostForTarget:da,unhideGhostForTarget:fa,cloneNowHidden:function(){nn=!0},cloneNowShown:function(){nn=!1},dispatchSortableEvent:function(a){ht({sortable:n,name:a,originalEvent:s})}},r))};function ht(e){Zn(Gt({putSortable:at,cloneEl:Qe,targetEl:X,rootEl:We,oldIndex:_n,oldDraggableIndex:ru,newIndex:Et,newDraggableIndex:en},e))}var X,Ze,ye,We,gn,Ru,Qe,nn,_n,Et,ru,en,_u,at,Dn=!1,Wu=!1,Ku=[],pn,Mt,ko,wo,Hs,Gs,Qn,Cn,au,iu=!1,Au=!1,Lu,it,Do=[],Uo=!1,Vu=[],uo=typeof document<"u",$u=ua,Ws=yu||Xt?"cssFloat":"float",Yy=uo&&!Uy&&!ua&&"draggable"in document.createElement("div"),ia=function(){if(uo){if(Xt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),la=function(t,n){var u=ue(t),s=parseInt(u.width)-parseInt(u.paddingLeft)-parseInt(u.paddingRight)-parseInt(u.borderLeftWidth)-parseInt(u.borderRightWidth),r=Nn(t,0,n),o=Nn(t,1,n),a=r&&ue(r),i=o&&ue(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ke(r).width,c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Ke(o).width;if(u.display==="flex")return u.flexDirection==="column"||u.flexDirection==="column-reverse"?"vertical":"horizontal";if(u.display==="grid")return u.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(i.clear==="both"||i.clear===d)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||l>=s&&u[Ws]==="none"||o&&u[Ws]==="none"&&l+c>s)?"vertical":"horizontal"},Xy=function(t,n,u){var s=u?t.left:t.top,r=u?t.right:t.bottom,o=u?t.width:t.height,a=u?n.left:n.top,i=u?n.right:n.bottom,l=u?n.width:n.height;return s===a||r===i||s+o/2===a+l/2},Zy=function(t,n){var u;return Ku.some(function(s){var r=s[ct].options.emptyInsertThreshold;if(!(!r||os(s))){var o=Ke(s),a=t>=o.left-r&&t<=o.right+r,i=n>=o.top-r&&n<=o.bottom+r;if(a&&i)return u=s}}),u},ca=function(t){function n(r,o){return function(a,i,l,c){var d=a.options.group.name&&i.options.group.name&&a.options.group.name===i.options.group.name;if(r==null&&(o||d))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return n(r(a,i,l,c),o)(a,i,l,c);var h=(o?a:i).options.group.name;return r===!0||typeof r=="string"&&r===h||r.join&&r.indexOf(h)>-1}}var u={},s=t.group;(!s||Mu(s)!="object")&&(s={name:s}),u.name=s.name,u.checkPull=n(s.pull,!0),u.checkPut=n(s.put),u.revertClone=s.revertClone,t.group=u},da=function(){!ia&&ye&&ue(ye,"display","none")},fa=function(){!ia&&ye&&ue(ye,"display","")};uo&&document.addEventListener("click",function(e){if(Wu)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Wu=!1,!1},!0);var hn=function(t){if(X){t=t.touches?t.touches[0]:t;var n=Zy(t.clientX,t.clientY);if(n){var u={};for(var s in t)t.hasOwnProperty(s)&&(u[s]=t[s]);u.target=u.rootEl=n,u.preventDefault=void 0,u.stopPropagation=void 0,n[ct]._onDragOver(u)}}},Qy=function(t){X&&X.parentNode[ct]._isOutsideThisEl(t.target)};function ce(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ft({},t),e[ct]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return la(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ce.supportPointer!==!1&&"PointerEvent"in window&&!ou,emptyInsertThreshold:5};xu.initializePlugins(this,e,n);for(var u in n)!(u in t)&&(t[u]=n[u]);ca(t);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=t.forceFallback?!1:Yy,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?_e(e,"pointerdown",this._onTapStart):(_e(e,"mousedown",this._onTapStart),_e(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(_e(e,"dragover",this),_e(e,"dragenter",this)),Ku.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ft(this,Wy())}ce.prototype={constructor:ce,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Cn=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,X):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,u=this.el,s=this.options,r=s.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,i=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||i,c=s.filter;if(r3(u),!X&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||s.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&ou&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=Lt(i,s.draggable,u,!1),!(i&&i.animated)&&Ru!==i)){if(_n=qe(i),ru=qe(i,s.draggable),typeof c=="function"){if(c.call(this,t,i,this)){ht({sortable:n,rootEl:l,name:"filter",targetEl:i,toEl:u,fromEl:u}),vt("filter",n,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Lt(l,d.trim(),u,!1),d)return ht({sortable:n,rootEl:d,name:"filter",targetEl:i,fromEl:u,toEl:u}),vt("filter",n,{evt:t}),!0}),c)){r&&t.cancelable&&t.preventDefault();return}s.handle&&!Lt(l,s.handle,u,!1)||this._prepareDragStart(t,a,i)}}},_prepareDragStart:function(t,n,u){var s=this,r=s.el,o=s.options,a=r.ownerDocument,i;if(u&&!X&&u.parentNode===r){var l=Ke(u);if(We=r,X=u,Ze=X.parentNode,gn=X.nextSibling,Ru=u,_u=o.group,ce.dragged=X,pn={target:X,clientX:(n||t).clientX,clientY:(n||t).clientY},Hs=pn.clientX-l.left,Gs=pn.clientY-l.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,X.style["will-change"]="all",i=function(){if(vt("delayEnded",s,{evt:t}),ce.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!Ns&&s.nativeDraggable&&(X.draggable=!0),s._triggerDragStart(t,n),ht({sortable:s,name:"choose",originalEvent:t}),Xe(X,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){sa(X,c.trim(),To)}),_e(a,"dragover",hn),_e(a,"mousemove",hn),_e(a,"touchmove",hn),_e(a,"mouseup",s._onDrop),_e(a,"touchend",s._onDrop),_e(a,"touchcancel",s._onDrop),Ns&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),vt("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(yu||Xt))){if(ce.eventCanceled){this._onDrop();return}_e(a,"mouseup",s._disableDelayedDrag),_e(a,"touchend",s._disableDelayedDrag),_e(a,"touchcancel",s._disableDelayedDrag),_e(a,"mousemove",s._delayedDragTouchMoveHandler),_e(a,"touchmove",s._delayedDragTouchMoveHandler),o.supportPointer&&_e(a,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(i,o.delay)}else i()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&To(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ke(t,"mouseup",this._disableDelayedDrag),ke(t,"touchend",this._disableDelayedDrag),ke(t,"touchcancel",this._disableDelayedDrag),ke(t,"mousemove",this._delayedDragTouchMoveHandler),ke(t,"touchmove",this._delayedDragTouchMoveHandler),ke(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?_e(document,"pointermove",this._onTouchMove):n?_e(document,"touchmove",this._onTouchMove):_e(document,"mousemove",this._onTouchMove):(_e(X,"dragend",this),_e(We,"dragstart",this._onDragStart));try{document.selection?Nu(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Dn=!1,We&&X){vt("dragStarted",this,{evt:n}),this.nativeDraggable&&_e(document,"dragover",Qy);var u=this.options;!t&&Xe(X,u.dragClass,!1),Xe(X,u.ghostClass,!0),ce.active=this,t&&this._appendGhost(),ht({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Mt){this._lastX=Mt.clientX,this._lastY=Mt.clientY,da();for(var t=document.elementFromPoint(Mt.clientX,Mt.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Mt.clientX,Mt.clientY),t!==n);)n=t;if(X.parentNode[ct]._isOutsideThisEl(t),n)do{if(n[ct]){var u=void 0;if(u=n[ct]._onDragOver({clientX:Mt.clientX,clientY:Mt.clientY,target:t,rootEl:n}),u&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);fa()}},_onTouchMove:function(t){if(pn){var n=this.options,u=n.fallbackTolerance,s=n.fallbackOffset,r=t.touches?t.touches[0]:t,o=ye&&mn(ye,!0),a=ye&&o&&o.a,i=ye&&o&&o.d,l=$u&&it&&js(it),c=(r.clientX-pn.clientX+s.x)/(a||1)+(l?l[0]-Do[0]:0)/(a||1),d=(r.clientY-pn.clientY+s.y)/(i||1)+(l?l[1]-Do[1]:0)/(i||1);if(!ce.active&&!Dn){if(u&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<u)return;this._onDragStart(t,!0)}if(ye){o?(o.e+=c-(ko||0),o.f+=d-(wo||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ue(ye,"webkitTransform",h),ue(ye,"mozTransform",h),ue(ye,"msTransform",h),ue(ye,"transform",h),ko=c,wo=d,Mt=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ye){var t=this.options.fallbackOnBody?document.body:We,n=Ke(X,!0,$u,!0,t),u=this.options;if($u){for(it=t;ue(it,"position")==="static"&&ue(it,"transform")==="none"&&it!==document;)it=it.parentNode;it!==document.body&&it!==document.documentElement?(it===document&&(it=Ht()),n.top+=it.scrollTop,n.left+=it.scrollLeft):it=Ht(),Do=js(it)}ye=X.cloneNode(!0),Xe(ye,u.ghostClass,!1),Xe(ye,u.fallbackClass,!0),Xe(ye,u.dragClass,!0),ue(ye,"transition",""),ue(ye,"transform",""),ue(ye,"box-sizing","border-box"),ue(ye,"margin",0),ue(ye,"top",n.top),ue(ye,"left",n.left),ue(ye,"width",n.width),ue(ye,"height",n.height),ue(ye,"opacity","0.8"),ue(ye,"position",$u?"absolute":"fixed"),ue(ye,"zIndex","100000"),ue(ye,"pointerEvents","none"),ce.ghost=ye,t.appendChild(ye),ue(ye,"transform-origin",Hs/parseInt(ye.style.width)*100+"% "+Gs/parseInt(ye.style.height)*100+"%")}},_onDragStart:function(t,n){var u=this,s=t.dataTransfer,r=u.options;if(vt("dragStart",this,{evt:t}),ce.eventCanceled){this._onDrop();return}vt("setupClone",this),ce.eventCanceled||(Qe=ss(X),Qe.draggable=!1,Qe.style["will-change"]="",this._hideClone(),Xe(Qe,this.options.chosenClass,!1),ce.clone=Qe),u.cloneId=Nu(function(){vt("clone",u),!ce.eventCanceled&&(u.options.removeCloneOnHide||We.insertBefore(Qe,X),u._hideClone(),ht({sortable:u,name:"clone"}))}),!n&&Xe(X,r.dragClass,!0),n?(Wu=!0,u._loopId=setInterval(u._emulateDragOver,50)):(ke(document,"mouseup",u._onDrop),ke(document,"touchend",u._onDrop),ke(document,"touchcancel",u._onDrop),s&&(s.effectAllowed="move",r.setData&&r.setData.call(u,s,X)),_e(document,"drop",u),ue(X,"transform","translateZ(0)")),Dn=!0,u._dragStartId=Nu(u._dragStarted.bind(u,n,t)),_e(document,"selectstart",u),Qn=!0,ou&&ue(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,u=t.target,s,r,o,a=this.options,i=a.group,l=ce.active,c=_u===i,d=a.sort,h=at||l,p,g=this,v=!1;if(Uo)return;function y(J,ee){vt(J,g,Gt({evt:t,isOwner:c,axis:p?"vertical":"horizontal",revert:o,dragRect:s,targetRect:r,canSort:d,fromSortable:h,target:u,completed:E,onMove:function(we,Ee){return Fu(We,n,X,s,we,Ke(we),t,Ee)},changed:m},ee))}function D(){y("dragOverAnimationCapture"),g.captureAnimationState(),g!==h&&h.captureAnimationState()}function E(J){return y("dragOverCompleted",{insertion:J}),J&&(c?l._hideClone():l._showClone(g),g!==h&&(Xe(X,at?at.options.ghostClass:l.options.ghostClass,!1),Xe(X,a.ghostClass,!0)),at!==g&&g!==ce.active?at=g:g===ce.active&&at&&(at=null),h===g&&(g._ignoreWhileAnimating=u),g.animateAll(function(){y("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(u===X&&!X.animated||u===n&&!u.animated)&&(Cn=null),!a.dragoverBubble&&!t.rootEl&&u!==document&&(X.parentNode[ct]._isOutsideThisEl(t.target),!J&&hn(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function m(){Et=qe(X),en=qe(X,a.draggable),ht({sortable:g,name:"change",toEl:n,newIndex:Et,newDraggableIndex:en,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),u=Lt(u,a.draggable,n,!0),y("dragOver"),ce.eventCanceled)return v;if(X.contains(t.target)||u.animated&&u.animatingX&&u.animatingY||g._ignoreWhileAnimating===u)return E(!1);if(Wu=!1,l&&!a.disabled&&(c?d||(o=Ze!==We):at===this||(this.lastPutMode=_u.checkPull(this,l,X,t))&&i.checkPut(this,l,X,t))){if(p=this._getDirection(t,u)==="vertical",s=Ke(X),y("dragOverValid"),ce.eventCanceled)return v;if(o)return Ze=We,D(),this._hideClone(),y("revert"),ce.eventCanceled||(gn?We.insertBefore(X,gn):We.appendChild(X)),E(!0);var C=os(n,a.draggable);if(!C||n3(t,p,this)&&!C.animated){if(C===X)return E(!1);if(C&&n===t.target&&(u=C),u&&(r=Ke(u)),Fu(We,n,X,s,u,r,t,!!u)!==!1)return D(),n.appendChild(X),Ze=n,m(),E(!0)}else if(C&&t3(t,p,this)){var b=Nn(n,0,a,!0);if(b===X)return E(!1);if(u=b,r=Ke(u),Fu(We,n,X,s,u,r,t,!1)!==!1)return D(),n.insertBefore(X,b),Ze=n,m(),E(!0)}else if(u.parentNode===n){r=Ke(u);var w=0,_,A=X.parentNode!==n,I=!Xy(X.animated&&X.toRect||s,u.animated&&u.toRect||r,p),R=p?"top":"left",H=Us(u,"top","top")||Us(X,"top","top"),te=H?H.scrollTop:void 0;Cn!==u&&(_=r[R],iu=!1,Au=!I&&a.invertSwap||A),w=u3(t,u,r,p,I?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Au,Cn===u);var U;if(w!==0){var N=qe(X);do N-=w,U=Ze.children[N];while(U&&(ue(U,"display")==="none"||U===ye))}if(w===0||U===u)return E(!1);Cn=u,au=w;var Y=u.nextElementSibling,V=!1;V=w===1;var Q=Fu(We,n,X,s,u,r,t,V);if(Q!==!1)return(Q===1||Q===-1)&&(V=Q===1),Uo=!0,setTimeout(e3,30),D(),V&&!Y?n.appendChild(X):u.parentNode.insertBefore(X,V?Y:u),H&&aa(H,0,te-H.scrollTop),Ze=X.parentNode,_!==void 0&&!Au&&(Lu=Math.abs(_-Ke(u)[R])),m(),E(!0)}if(n.contains(X))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ke(document,"mousemove",this._onTouchMove),ke(document,"touchmove",this._onTouchMove),ke(document,"pointermove",this._onTouchMove),ke(document,"dragover",hn),ke(document,"mousemove",hn),ke(document,"touchmove",hn)},_offUpEvents:function(){var t=this.el.ownerDocument;ke(t,"mouseup",this._onDrop),ke(t,"touchend",this._onDrop),ke(t,"pointerup",this._onDrop),ke(t,"touchcancel",this._onDrop),ke(document,"selectstart",this)},_onDrop:function(t){var n=this.el,u=this.options;if(Et=qe(X),en=qe(X,u.draggable),vt("drop",this,{evt:t}),Ze=X&&X.parentNode,Et=qe(X),en=qe(X,u.draggable),ce.eventCanceled){this._nulling();return}Dn=!1,Au=!1,iu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),jo(this.cloneId),jo(this._dragStartId),this.nativeDraggable&&(ke(document,"drop",this),ke(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ou&&ue(document.body,"user-select",""),ue(X,"transform",""),t&&(Qn&&(t.cancelable&&t.preventDefault(),!u.dropBubble&&t.stopPropagation()),ye&&ye.parentNode&&ye.parentNode.removeChild(ye),(We===Ze||at&&at.lastPutMode!=="clone")&&Qe&&Qe.parentNode&&Qe.parentNode.removeChild(Qe),X&&(this.nativeDraggable&&ke(X,"dragend",this),To(X),X.style["will-change"]="",Qn&&!Dn&&Xe(X,at?at.options.ghostClass:this.options.ghostClass,!1),Xe(X,this.options.chosenClass,!1),ht({sortable:this,name:"unchoose",toEl:Ze,newIndex:null,newDraggableIndex:null,originalEvent:t}),We!==Ze?(Et>=0&&(ht({rootEl:Ze,name:"add",toEl:Ze,fromEl:We,originalEvent:t}),ht({sortable:this,name:"remove",toEl:Ze,originalEvent:t}),ht({rootEl:Ze,name:"sort",toEl:Ze,fromEl:We,originalEvent:t}),ht({sortable:this,name:"sort",toEl:Ze,originalEvent:t})),at&&at.save()):Et!==_n&&Et>=0&&(ht({sortable:this,name:"update",toEl:Ze,originalEvent:t}),ht({sortable:this,name:"sort",toEl:Ze,originalEvent:t})),ce.active&&((Et==null||Et===-1)&&(Et=_n,en=ru),ht({sortable:this,name:"end",toEl:Ze,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){vt("nulling",this),We=X=Ze=ye=gn=Qe=Ru=nn=pn=Mt=Qn=Et=en=_n=ru=Cn=au=at=_u=ce.dragged=ce.ghost=ce.clone=ce.active=null,Vu.forEach(function(t){t.checked=!0}),Vu.length=ko=wo=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":X&&(this._onDragOver(t),qy(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,u=this.el.children,s=0,r=u.length,o=this.options;s<r;s++)n=u[s],Lt(n,o.draggable,this.el,!1)&&t.push(n.getAttribute(o.dataIdAttr)||s3(n));return t},sort:function(t,n){var u={},s=this.el;this.toArray().forEach(function(r,o){var a=s.children[o];Lt(a,this.options.draggable,s,!1)&&(u[r]=a)},this),n&&this.captureAnimationState(),t.forEach(function(r){u[r]&&(s.removeChild(u[r]),s.appendChild(u[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Lt(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var u=this.options;if(n===void 0)return u[t];var s=xu.modifyOption(this,t,n);typeof s<"u"?u[t]=s:u[t]=n,t==="group"&&ca(u)},destroy:function(){vt("destroy",this);var t=this.el;t[ct]=null,ke(t,"mousedown",this._onTapStart),ke(t,"touchstart",this._onTapStart),ke(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ke(t,"dragover",this),ke(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ku.splice(Ku.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!nn){if(vt("hideClone",this),ce.eventCanceled)return;ue(Qe,"display","none"),this.options.removeCloneOnHide&&Qe.parentNode&&Qe.parentNode.removeChild(Qe),nn=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(nn){if(vt("showClone",this),ce.eventCanceled)return;X.parentNode==We&&!this.options.group.revertClone?We.insertBefore(Qe,X):gn?We.insertBefore(Qe,gn):We.appendChild(Qe),this.options.group.revertClone&&this.animate(X,Qe),ue(Qe,"display",""),nn=!1}}};function qy(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Fu(e,t,n,u,s,r,o,a){var i,l=e[ct],c=l.options.onMove,d;return window.CustomEvent&&!Xt&&!yu?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=t,i.from=e,i.dragged=n,i.draggedRect=u,i.related=s||t,i.relatedRect=r||Ke(t),i.willInsertAfter=a,i.originalEvent=o,e.dispatchEvent(i),c&&(d=c.call(l,i,o)),d}function To(e){e.draggable=!1}function e3(){Uo=!1}function t3(e,t,n){var u=Ke(Nn(n.el,0,n.options,!0)),s=10;return t?e.clientX<u.left-s||e.clientY<u.top&&e.clientX<u.right:e.clientY<u.top-s||e.clientY<u.bottom&&e.clientX<u.left}function n3(e,t,n){var u=Ke(os(n.el,n.options.draggable)),s=10;return t?e.clientX>u.right+s||e.clientX<=u.right&&e.clientY>u.bottom&&e.clientX>=u.left:e.clientX>u.right&&e.clientY>u.top||e.clientX<=u.right&&e.clientY>u.bottom+s}function u3(e,t,n,u,s,r,o,a){var i=u?e.clientY:e.clientX,l=u?n.height:n.width,c=u?n.top:n.left,d=u?n.bottom:n.right,h=!1;if(!o){if(a&&Lu<l*s){if(!iu&&(au===1?i>c+l*r/2:i<d-l*r/2)&&(iu=!0),iu)h=!0;else if(au===1?i<c+Lu:i>d-Lu)return-au}else if(i>c+l*(1-s)/2&&i<d-l*(1-s)/2)return o3(t)}return h=h||o,h&&(i<c+l*r/2||i>d-l*r/2)?i>c+l/2?1:-1:0}function o3(e){return qe(X)<qe(e)?1:-1}function s3(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,u=0;n--;)u+=t.charCodeAt(n);return u.toString(36)}function r3(e){Vu.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var u=t[n];u.checked&&Vu.push(u)}}function Nu(e){return setTimeout(e,0)}function jo(e){return clearTimeout(e)}uo&&_e(document,"touchmove",function(e){(ce.active||Dn)&&e.cancelable&&e.preventDefault()});ce.utils={on:_e,off:ke,css:ue,find:sa,is:function(t,n){return!!Lt(t,n,t,!1)},extend:Hy,throttle:ra,closest:Lt,toggleClass:Xe,clone:ss,index:qe,nextTick:Nu,cancelNextTick:jo,detectDirection:la,getChild:Nn};ce.get=function(e){return e[ct]};ce.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(u){if(!u.prototype||!u.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(u));u.utils&&(ce.utils=Gt(Gt({},ce.utils),u.utils)),xu.mount(u)})};ce.create=function(e,t){return new ce(e,t)};ce.version=By;var tt=[],qn,zo,Ho=!1,Io,_o,Ju,eu;function a3(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var u=n.originalEvent;this.sortable.nativeDraggable?_e(document,"dragover",this._handleAutoScroll):this.options.supportPointer?_e(document,"pointermove",this._handleFallbackAutoScroll):u.touches?_e(document,"touchmove",this._handleFallbackAutoScroll):_e(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var u=n.originalEvent;!this.options.dragOverBubble&&!u.rootEl&&this._handleAutoScroll(u)},drop:function(){this.sortable.nativeDraggable?ke(document,"dragover",this._handleAutoScroll):(ke(document,"pointermove",this._handleFallbackAutoScroll),ke(document,"touchmove",this._handleFallbackAutoScroll),ke(document,"mousemove",this._handleFallbackAutoScroll)),Ks(),Bu(),Gy()},nulling:function(){Ju=zo=qn=Ho=eu=Io=_o=null,tt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,u){var s=this,r=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(r,o);if(Ju=n,u||this.options.forceAutoScrollFallback||yu||Xt||ou){Ao(n,this.options,a,u);var i=sn(a,!0);Ho&&(!eu||r!==Io||o!==_o)&&(eu&&Ks(),eu=setInterval(function(){var l=sn(document.elementFromPoint(r,o),!0);l!==i&&(i=l,Bu()),Ao(n,s.options,l,u)},10),Io=r,_o=o)}else{if(!this.options.bubbleScroll||sn(a,!0)===Ht()){Bu();return}Ao(n,this.options,sn(a,!1),!1)}}},Ft(e,{pluginName:"scroll",initializeByDefault:!0})}function Bu(){tt.forEach(function(e){clearInterval(e.pid)}),tt=[]}function Ks(){clearInterval(eu)}var Ao=ra(function(e,t,n,u){if(t.scroll){var s=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,a=t.scrollSpeed,i=Ht(),l=!1,c;zo!==n&&(zo=n,Bu(),qn=t.scroll,c=t.scrollFn,qn===!0&&(qn=sn(n,!0)));var d=0,h=qn;do{var p=h,g=Ke(p),v=g.top,y=g.bottom,D=g.left,E=g.right,m=g.width,C=g.height,b=void 0,w=void 0,_=p.scrollWidth,A=p.scrollHeight,I=ue(p),R=p.scrollLeft,H=p.scrollTop;p===i?(b=m<_&&(I.overflowX==="auto"||I.overflowX==="scroll"||I.overflowX==="visible"),w=C<A&&(I.overflowY==="auto"||I.overflowY==="scroll"||I.overflowY==="visible")):(b=m<_&&(I.overflowX==="auto"||I.overflowX==="scroll"),w=C<A&&(I.overflowY==="auto"||I.overflowY==="scroll"));var te=b&&(Math.abs(E-s)<=o&&R+m<_)-(Math.abs(D-s)<=o&&!!R),U=w&&(Math.abs(y-r)<=o&&H+C<A)-(Math.abs(v-r)<=o&&!!H);if(!tt[d])for(var N=0;N<=d;N++)tt[N]||(tt[N]={});(tt[d].vx!=te||tt[d].vy!=U||tt[d].el!==p)&&(tt[d].el=p,tt[d].vx=te,tt[d].vy=U,clearInterval(tt[d].pid),(te!=0||U!=0)&&(l=!0,tt[d].pid=setInterval(function(){u&&this.layer===0&&ce.active._onTouchMove(Ju);var Y=tt[this.layer].vy?tt[this.layer].vy*a:0,V=tt[this.layer].vx?tt[this.layer].vx*a:0;typeof c=="function"&&c.call(ce.dragged.parentNode[ct],V,Y,e,Ju,tt[this.layer].el)!=="continue"||aa(tt[this.layer].el,V,Y)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==i&&(h=sn(h,!1)));Ho=l}},30),pa=function(t){var n=t.originalEvent,u=t.putSortable,s=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,i=t.unhideGhostForTarget;if(n){var l=u||r;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);i(),l&&!l.el.contains(d)&&(o("spill"),this.onSpill({dragEl:s,putSortable:u}))}};function rs(){}rs.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,u=t.putSortable;this.sortable.captureAnimationState(),u&&u.captureAnimationState();var s=Nn(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(n,s):this.sortable.el.appendChild(n),this.sortable.animateAll(),u&&u.animateAll()},drop:pa};Ft(rs,{pluginName:"revertOnSpill"});function as(){}as.prototype={onSpill:function(t){var n=t.dragEl,u=t.putSortable,s=u||this.sortable;s.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),s.animateAll()},drop:pa};Ft(as,{pluginName:"removeOnSpill"});var It;function i3(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var u=n.dragEl;It=u},dragOverValid:function(n){var u=n.completed,s=n.target,r=n.onMove,o=n.activeSortable,a=n.changed,i=n.cancel;if(o.options.swap){var l=this.sortable.el,c=this.options;if(s&&s!==l){var d=It;r(s)!==!1?(Xe(s,c.swapClass,!0),It=s):It=null,d&&d!==It&&Xe(d,c.swapClass,!1)}a(),u(!0),i()}},drop:function(n){var u=n.activeSortable,s=n.putSortable,r=n.dragEl,o=s||this.sortable,a=this.options;It&&Xe(It,a.swapClass,!1),It&&(a.swap||s&&s.options.swap)&&r!==It&&(o.captureAnimationState(),o!==u&&u.captureAnimationState(),l3(r,It),o.animateAll(),o!==u&&u.animateAll())},nulling:function(){It=null}},Ft(e,{pluginName:"swap",eventProperties:function(){return{swapItem:It}}})}function l3(e,t){var n=e.parentNode,u=t.parentNode,s,r;!n||!u||n.isEqualNode(t)||u.isEqualNode(e)||(s=qe(e),r=qe(t),n.isEqualNode(u)&&s<r&&r++,n.insertBefore(t,n.children[s]),u.insertBefore(e,u.children[r]))}var ge=[],xt=[],Kn,Rt,Vn=!1,mt=!1,kn=!1,He,Jn,Ou;function c3(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?_e(document,"pointerup",this._deselectMultiDrag):(_e(document,"mouseup",this._deselectMultiDrag),_e(document,"touchend",this._deselectMultiDrag)),_e(document,"keydown",this._checkKeyDown),_e(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(s,r){var o="";ge.length&&Rt===t?ge.forEach(function(a,i){o+=(i?", ":"")+a.textContent}):o=r.textContent,s.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var u=n.dragEl;He=u},delayEnded:function(){this.isMultiDrag=~ge.indexOf(He)},setupClone:function(n){var u=n.sortable,s=n.cancel;if(this.isMultiDrag){for(var r=0;r<ge.length;r++)xt.push(ss(ge[r])),xt[r].sortableIndex=ge[r].sortableIndex,xt[r].draggable=!1,xt[r].style["will-change"]="",Xe(xt[r],this.options.selectedClass,!1),ge[r]===He&&Xe(xt[r],this.options.chosenClass,!1);u._hideClone(),s()}},clone:function(n){var u=n.sortable,s=n.rootEl,r=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ge.length&&Rt===u&&(Vs(!0,s),r("clone"),o()))},showClone:function(n){var u=n.cloneNowShown,s=n.rootEl,r=n.cancel;this.isMultiDrag&&(Vs(!1,s),xt.forEach(function(o){ue(o,"display","")}),u(),Ou=!1,r())},hideClone:function(n){var u=this;n.sortable;var s=n.cloneNowHidden,r=n.cancel;this.isMultiDrag&&(xt.forEach(function(o){ue(o,"display","none"),u.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),s(),Ou=!0,r())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Rt&&Rt.multiDrag._deselectMultiDrag(),ge.forEach(function(u){u.sortableIndex=qe(u)}),ge=ge.sort(function(u,s){return u.sortableIndex-s.sortableIndex}),kn=!0},dragStarted:function(n){var u=this,s=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(s.captureAnimationState(),this.options.animation)){ge.forEach(function(o){o!==He&&ue(o,"position","absolute")});var r=Ke(He,!1,!0,!0);ge.forEach(function(o){o!==He&&zs(o,r)}),mt=!0,Vn=!0}s.animateAll(function(){mt=!1,Vn=!1,u.options.animation&&ge.forEach(function(o){So(o)}),u.options.sort&&Pu()})}},dragOver:function(n){var u=n.target,s=n.completed,r=n.cancel;mt&&~ge.indexOf(u)&&(s(!1),r())},revert:function(n){var u=n.fromSortable,s=n.rootEl,r=n.sortable,o=n.dragRect;ge.length>1&&(ge.forEach(function(a){r.addAnimationState({target:a,rect:mt?Ke(a):o}),So(a),a.fromRect=o,u.removeAnimationState(a)}),mt=!1,d3(!this.options.removeCloneOnHide,s))},dragOverCompleted:function(n){var u=n.sortable,s=n.isOwner,r=n.insertion,o=n.activeSortable,a=n.parentEl,i=n.putSortable,l=this.options;if(r){if(s&&o._hideClone(),Vn=!1,l.animation&&ge.length>1&&(mt||!s&&!o.options.sort&&!i)){var c=Ke(He,!1,!0,!0);ge.forEach(function(h){h!==He&&(zs(h,c),a.appendChild(h))}),mt=!0}if(!s)if(mt||Pu(),ge.length>1){var d=Ou;o._showClone(u),o.options.animation&&!Ou&&d&&xt.forEach(function(h){o.addAnimationState({target:h,rect:Jn}),h.fromRect=Jn,h.thisAnimationDuration=null})}else o._showClone(u)}},dragOverAnimationCapture:function(n){var u=n.dragRect,s=n.isOwner,r=n.activeSortable;if(ge.forEach(function(a){a.thisAnimationDuration=null}),r.options.animation&&!s&&r.multiDrag.isMultiDrag){Jn=Ft({},u);var o=mn(He,!0);Jn.top-=o.f,Jn.left-=o.e}},dragOverAnimationComplete:function(){mt&&(mt=!1,Pu())},drop:function(n){var u=n.originalEvent,s=n.rootEl,r=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,i=n.oldIndex,l=n.putSortable,c=l||this.sortable;if(u){var d=this.options,h=r.children;if(!kn)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Xe(He,d.selectedClass,!~ge.indexOf(He)),~ge.indexOf(He))ge.splice(ge.indexOf(He),1),Kn=null,Zn({sortable:o,rootEl:s,name:"deselect",targetEl:He});else{if(ge.push(He),Zn({sortable:o,rootEl:s,name:"select",targetEl:He}),u.shiftKey&&Kn&&o.el.contains(Kn)){var p=qe(Kn),g=qe(He);if(~p&&~g&&p!==g){var v,y;for(g>p?(y=p,v=g):(y=g,v=p+1);y<v;y++)~ge.indexOf(h[y])||(Xe(h[y],d.selectedClass,!0),ge.push(h[y]),Zn({sortable:o,rootEl:s,name:"select",targetEl:h[y]}))}}else Kn=He;Rt=c}if(kn&&this.isMultiDrag){if(mt=!1,(r[ct].options.sort||r!==s)&&ge.length>1){var D=Ke(He),E=qe(He,":not(."+this.options.selectedClass+")");if(!Vn&&d.animation&&(He.thisAnimationDuration=null),c.captureAnimationState(),!Vn&&(d.animation&&(He.fromRect=D,ge.forEach(function(C){if(C.thisAnimationDuration=null,C!==He){var b=mt?Ke(C):D;C.fromRect=b,c.addAnimationState({target:C,rect:b})}})),Pu(),ge.forEach(function(C){h[E]?r.insertBefore(C,h[E]):r.appendChild(C),E++}),i===qe(He))){var m=!1;ge.forEach(function(C){if(C.sortableIndex!==qe(C)){m=!0;return}}),m&&a("update")}ge.forEach(function(C){So(C)}),c.animateAll()}Rt=c}(s===r||l&&l.lastPutMode!=="clone")&&xt.forEach(function(C){C.parentNode&&C.parentNode.removeChild(C)})}},nullingGlobal:function(){this.isMultiDrag=kn=!1,xt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),ke(document,"pointerup",this._deselectMultiDrag),ke(document,"mouseup",this._deselectMultiDrag),ke(document,"touchend",this._deselectMultiDrag),ke(document,"keydown",this._checkKeyDown),ke(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof kn<"u"&&kn)&&Rt===this.sortable&&!(n&&Lt(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;ge.length;){var u=ge[0];Xe(u,this.options.selectedClass,!1),ge.shift(),Zn({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:u})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ft(e,{pluginName:"multiDrag",utils:{select:function(n){var u=n.parentNode[ct];!u||!u.options.multiDrag||~ge.indexOf(n)||(Rt&&Rt!==u&&(Rt.multiDrag._deselectMultiDrag(),Rt=u),Xe(n,u.options.selectedClass,!0),ge.push(n))},deselect:function(n){var u=n.parentNode[ct],s=ge.indexOf(n);!u||!u.options.multiDrag||!~s||(Xe(n,u.options.selectedClass,!1),ge.splice(s,1))}},eventProperties:function(){var n=this,u=[],s=[];return ge.forEach(function(r){u.push({multiDragElement:r,index:r.sortableIndex});var o;mt&&r!==He?o=-1:mt?o=qe(r,":not(."+n.options.selectedClass+")"):o=qe(r),s.push({multiDragElement:r,index:o})}),{items:Py(ge),clones:[].concat(xt),oldIndicies:u,newIndicies:s}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function d3(e,t){ge.forEach(function(n,u){var s=t.children[n.sortableIndex+(e?Number(u):0)];s?t.insertBefore(n,s):t.appendChild(n)})}function Vs(e,t){xt.forEach(function(n,u){var s=t.children[n.sortableIndex+(e?Number(u):0)];s?t.insertBefore(n,s):t.appendChild(n)})}function Pu(){ge.forEach(function(e){e!==He&&e.parentNode&&e.parentNode.removeChild(e)})}ce.mount(new a3);ce.mount(as,rs);const f3=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:c3,Sortable:ce,Swap:i3,default:ce},Symbol.toStringTag,{value:"Module"})),p3=tr(f3);(function(e,t){(function(u,s){e.exports=s(Ay,p3)})(typeof self<"u"?self:Da,function(n,u){return function(s){var r={};function o(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return s[a].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=s,o.c=r,o.d=function(a,i,l){o.o(a,i)||Object.defineProperty(a,i,{enumerable:!0,get:l})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,i){if(i&1&&(a=o(a)),i&8||i&4&&typeof a=="object"&&a&&a.__esModule)return a;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),i&2&&typeof a!="string")for(var c in a)o.d(l,c,function(d){return a[d]}.bind(null,c));return l},o.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(i,"a",i),i},o.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)},o.p="",o(o.s="fb15")}({"00ee":function(s,r,o){var a=o("b622"),i=a("toStringTag"),l={};l[i]="z",s.exports=String(l)==="[object z]"},"0366":function(s,r,o){var a=o("1c0b");s.exports=function(i,l,c){if(a(i),l===void 0)return i;switch(c){case 0:return function(){return i.call(l)};case 1:return function(d){return i.call(l,d)};case 2:return function(d,h){return i.call(l,d,h)};case 3:return function(d,h,p){return i.call(l,d,h,p)}}return function(){return i.apply(l,arguments)}}},"057f":function(s,r,o){var a=o("fc6a"),i=o("241c").f,l={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return i(h)}catch{return c.slice()}};s.exports.f=function(p){return c&&l.call(p)=="[object Window]"?d(p):i(a(p))}},"06cf":function(s,r,o){var a=o("83ab"),i=o("d1e7"),l=o("5c6c"),c=o("fc6a"),d=o("c04e"),h=o("5135"),p=o("0cfb"),g=Object.getOwnPropertyDescriptor;r.f=a?g:function(y,D){if(y=c(y),D=d(D,!0),p)try{return g(y,D)}catch{}if(h(y,D))return l(!i.f.call(y,D),y[D])}},"0cfb":function(s,r,o){var a=o("83ab"),i=o("d039"),l=o("cc12");s.exports=!a&&!i(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(s,r,o){var a=o("23e7"),i=o("d58f").left,l=o("a640"),c=o("ae40"),d=l("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(g){return i(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(s,r,o){var a=o("c6b6"),i=o("9263");s.exports=function(l,c){var d=l.exec;if(typeof d=="function"){var h=d.call(l,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return i.call(l,c)}},"159b":function(s,r,o){var a=o("da84"),i=o("fdbc"),l=o("17c2"),c=o("9112");for(var d in i){var h=a[d],p=h&&h.prototype;if(p&&p.forEach!==l)try{c(p,"forEach",l)}catch{p.forEach=l}}},"17c2":function(s,r,o){var a=o("b727").forEach,i=o("a640"),l=o("ae40"),c=i("forEach"),d=l("forEach");s.exports=!c||!d?function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(s,r,o){var a=o("d066");s.exports=a("document","documentElement")},"1c0b":function(s,r){s.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(s,r,o){var a=o("b622"),i=a("iterator"),l=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){l=!0}};d[i]=function(){return this},Array.from(d,function(){throw 2})}catch{}s.exports=function(h,p){if(!p&&!l)return!1;var g=!1;try{var v={};v[i]=function(){return{next:function(){return{done:g=!0}}}},h(v)}catch{}return g}},"1d80":function(s,r){s.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(s,r,o){var a=o("d039"),i=o("b622"),l=o("2d00"),c=i("species");s.exports=function(d){return l>=51||!a(function(){var h=[],p=h.constructor={};return p[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(s,r,o){var a=o("a691"),i=Math.max,l=Math.min;s.exports=function(c,d){var h=a(c);return h<0?i(h+d,0):l(h,d)}},"23e7":function(s,r,o){var a=o("da84"),i=o("06cf").f,l=o("9112"),c=o("6eeb"),d=o("ce4e"),h=o("e893"),p=o("94ca");s.exports=function(g,v){var y=g.target,D=g.global,E=g.stat,m,C,b,w,_,A;if(D?C=a:E?C=a[y]||d(y,{}):C=(a[y]||{}).prototype,C)for(b in v){if(_=v[b],g.noTargetGet?(A=i(C,b),w=A&&A.value):w=C[b],m=p(D?b:y+(E?".":"#")+b,g.forced),!m&&w!==void 0){if(typeof _==typeof w)continue;h(_,w)}(g.sham||w&&w.sham)&&l(_,"sham",!0),c(C,b,_,g)}}},"241c":function(s,r,o){var a=o("ca84"),i=o("7839"),l=i.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(d){return a(d,l)}},"25f0":function(s,r,o){var a=o("6eeb"),i=o("825a"),l=o("d039"),c=o("ad6d"),d="toString",h=RegExp.prototype,p=h[d],g=l(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),v=p.name!=d;(g||v)&&a(RegExp.prototype,d,function(){var D=i(this),E=String(D.source),m=D.flags,C=String(m===void 0&&D instanceof RegExp&&!("flags"in h)?c.call(D):m);return"/"+E+"/"+C},{unsafe:!0})},"2ca0":function(s,r,o){var a=o("23e7"),i=o("06cf").f,l=o("50c4"),c=o("5a34"),d=o("1d80"),h=o("ab13"),p=o("c430"),g="".startsWith,v=Math.min,y=h("startsWith"),D=!p&&!y&&!!function(){var E=i(String.prototype,"startsWith");return E&&!E.writable}();a({target:"String",proto:!0,forced:!D&&!y},{startsWith:function(m){var C=String(d(this));c(m);var b=l(v(arguments.length>1?arguments[1]:void 0,C.length)),w=String(m);return g?g.call(C,w,b):C.slice(b,b+w.length)===w}})},"2d00":function(s,r,o){var a=o("da84"),i=o("342f"),l=a.process,c=l&&l.versions,d=c&&c.v8,h,p;d?(h=d.split("."),p=h[0]+h[1]):i&&(h=i.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=i.match(/Chrome\/(\d+)/),h&&(p=h[1]))),s.exports=p&&+p},"342f":function(s,r,o){var a=o("d066");s.exports=a("navigator","userAgent")||""},"35a1":function(s,r,o){var a=o("f5df"),i=o("3f8c"),l=o("b622"),c=l("iterator");s.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||i[a(d)]}},"37e8":function(s,r,o){var a=o("83ab"),i=o("9bf2"),l=o("825a"),c=o("df75");s.exports=a?Object.defineProperties:function(h,p){l(h);for(var g=c(p),v=g.length,y=0,D;v>y;)i.f(h,D=g[y++],p[D]);return h}},"3bbe":function(s,r,o){var a=o("861d");s.exports=function(i){if(!a(i)&&i!==null)throw TypeError("Can't set "+String(i)+" as a prototype");return i}},"3ca3":function(s,r,o){var a=o("6547").charAt,i=o("69f3"),l=o("7dd0"),c="String Iterator",d=i.set,h=i.getterFor(c);l(String,"String",function(p){d(this,{type:c,string:String(p),index:0})},function(){var g=h(this),v=g.string,y=g.index,D;return y>=v.length?{value:void 0,done:!0}:(D=a(v,y),g.index+=D.length,{value:D,done:!1})})},"3f8c":function(s,r){s.exports={}},4160:function(s,r,o){var a=o("23e7"),i=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(s,r,o){var a=o("da84");s.exports=a},"44ad":function(s,r,o){var a=o("d039"),i=o("c6b6"),l="".split;s.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return i(c)=="String"?l.call(c,""):Object(c)}:Object},"44d2":function(s,r,o){var a=o("b622"),i=o("7c73"),l=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&l.f(d,c,{configurable:!0,value:i(null)}),s.exports=function(h){d[c][h]=!0}},"44e7":function(s,r,o){var a=o("861d"),i=o("c6b6"),l=o("b622"),c=l("match");s.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:i(d)=="RegExp")}},4930:function(s,r,o){var a=o("d039");s.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(s,r,o){var a=o("fc6a"),i=o("50c4"),l=o("23cb"),c=function(d){return function(h,p,g){var v=a(h),y=i(v.length),D=l(g,y),E;if(d&&p!=p){for(;y>D;)if(E=v[D++],E!=E)return!0}else for(;y>D;D++)if((d||D in v)&&v[D]===p)return d||D||0;return!d&&-1}};s.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(s,r,o){var a=o("23e7"),i=o("b727").filter,l=o("1dde"),c=o("ae40"),d=l("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(g){return i(this,g,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(s,r,o){var a=o("0366"),i=o("7b0b"),l=o("9bdd"),c=o("e95a"),d=o("50c4"),h=o("8418"),p=o("35a1");s.exports=function(v){var y=i(v),D=typeof this=="function"?this:Array,E=arguments.length,m=E>1?arguments[1]:void 0,C=m!==void 0,b=p(y),w=0,_,A,I,R,H,te;if(C&&(m=a(m,E>2?arguments[2]:void 0,2)),b!=null&&!(D==Array&&c(b)))for(R=b.call(y),H=R.next,A=new D;!(I=H.call(R)).done;w++)te=C?l(R,m,[I.value,w],!0):I.value,h(A,w,te);else for(_=d(y.length),A=new D(_);_>w;w++)te=C?m(y[w],w):y[w],h(A,w,te);return A.length=w,A}},"4fad":function(s,r,o){var a=o("23e7"),i=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return i(c)}})},"50c4":function(s,r,o){var a=o("a691"),i=Math.min;s.exports=function(l){return l>0?i(a(l),9007199254740991):0}},5135:function(s,r){var o={}.hasOwnProperty;s.exports=function(a,i){return o.call(a,i)}},5319:function(s,r,o){var a=o("d784"),i=o("825a"),l=o("7b0b"),c=o("50c4"),d=o("a691"),h=o("1d80"),p=o("8aa5"),g=o("14c3"),v=Math.max,y=Math.min,D=Math.floor,E=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,C=function(b){return b===void 0?b:String(b)};a("replace",2,function(b,w,_,A){var I=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,R=A.REPLACE_KEEPS_$0,H=I?"$":"$0";return[function(N,Y){var V=h(this),Q=N?.[b];return Q!==void 0?Q.call(N,V,Y):w.call(String(V),N,Y)},function(U,N){if(!I&&R||typeof N=="string"&&N.indexOf(H)===-1){var Y=_(w,U,this,N);if(Y.done)return Y.value}var V=i(U),Q=String(this),J=typeof N=="function";J||(N=String(N));var ee=V.global;if(ee){var me=V.unicode;V.lastIndex=0}for(var we=[];;){var Ee=g(V,Q);if(Ee===null||(we.push(Ee),!ee))break;var Ne=String(Ee[0]);Ne===""&&(V.lastIndex=p(Q,c(V.lastIndex),me))}for(var Me="",Le=0,xe=0;xe<we.length;xe++){Ee=we[xe];for(var Se=String(Ee[0]),Te=v(y(d(Ee.index),Q.length),0),Ue=[],nt=1;nt<Ee.length;nt++)Ue.push(C(Ee[nt]));var Dt=Ee.groups;if(J){var dt=[Se].concat(Ue,Te,Q);Dt!==void 0&&dt.push(Dt);var Ve=String(N.apply(void 0,dt))}else Ve=te(Se,Q,Te,Ue,Dt,N);Te>=Le&&(Me+=Q.slice(Le,Te)+Ve,Le=Te+Se.length)}return Me+Q.slice(Le)}];function te(U,N,Y,V,Q,J){var ee=Y+U.length,me=V.length,we=m;return Q!==void 0&&(Q=l(Q),we=E),w.call(J,we,function(Ee,Ne){var Me;switch(Ne.charAt(0)){case"$":return"$";case"&":return U;case"`":return N.slice(0,Y);case"'":return N.slice(ee);case"<":Me=Q[Ne.slice(1,-1)];break;default:var Le=+Ne;if(Le===0)return Ee;if(Le>me){var xe=D(Le/10);return xe===0?Ee:xe<=me?V[xe-1]===void 0?Ne.charAt(1):V[xe-1]+Ne.charAt(1):Ee}Me=V[Le-1]}return Me===void 0?"":Me})}})},5692:function(s,r,o){var a=o("c430"),i=o("c6cd");(s.exports=function(l,c){return i[l]||(i[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(s,r,o){var a=o("d066"),i=o("241c"),l=o("7418"),c=o("825a");s.exports=a("Reflect","ownKeys")||function(h){var p=i.f(c(h)),g=l.f;return g?p.concat(g(h)):p}},"5a34":function(s,r,o){var a=o("44e7");s.exports=function(i){if(a(i))throw TypeError("The method doesn't accept regular expressions");return i}},"5c6c":function(s,r){s.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(s,r,o){var a=o("23e7"),i=o("a2bf"),l=o("7b0b"),c=o("50c4"),d=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(g){var v=l(this),y=c(v.length),D;return d(g),D=h(v,0),D.length=i(D,v,v,y,0,1,g,arguments.length>1?arguments[1]:void 0),D}})},6547:function(s,r,o){var a=o("a691"),i=o("1d80"),l=function(c){return function(d,h){var p=String(i(d)),g=a(h),v=p.length,y,D;return g<0||g>=v?c?"":void 0:(y=p.charCodeAt(g),y<55296||y>56319||g+1===v||(D=p.charCodeAt(g+1))<56320||D>57343?c?p.charAt(g):y:c?p.slice(g,g+2):(y-55296<<10)+(D-56320)+65536)}};s.exports={codeAt:l(!1),charAt:l(!0)}},"65f0":function(s,r,o){var a=o("861d"),i=o("e8b5"),l=o("b622"),c=l("species");s.exports=function(d,h){var p;return i(d)&&(p=d.constructor,typeof p=="function"&&(p===Array||i(p.prototype))?p=void 0:a(p)&&(p=p[c],p===null&&(p=void 0))),new(p===void 0?Array:p)(h===0?0:h)}},"69f3":function(s,r,o){var a=o("7f9a"),i=o("da84"),l=o("861d"),c=o("9112"),d=o("5135"),h=o("f772"),p=o("d012"),g=i.WeakMap,v,y,D,E=function(I){return D(I)?y(I):v(I,{})},m=function(I){return function(R){var H;if(!l(R)||(H=y(R)).type!==I)throw TypeError("Incompatible receiver, "+I+" required");return H}};if(a){var C=new g,b=C.get,w=C.has,_=C.set;v=function(I,R){return _.call(C,I,R),R},y=function(I){return b.call(C,I)||{}},D=function(I){return w.call(C,I)}}else{var A=h("state");p[A]=!0,v=function(I,R){return c(I,A,R),R},y=function(I){return d(I,A)?I[A]:{}},D=function(I){return d(I,A)}}s.exports={set:v,get:y,has:D,enforce:E,getterFor:m}},"6eeb":function(s,r,o){var a=o("da84"),i=o("9112"),l=o("5135"),c=o("ce4e"),d=o("8925"),h=o("69f3"),p=h.get,g=h.enforce,v=String(String).split("String");(s.exports=function(y,D,E,m){var C=m?!!m.unsafe:!1,b=m?!!m.enumerable:!1,w=m?!!m.noTargetGet:!1;if(typeof E=="function"&&(typeof D=="string"&&!l(E,"name")&&i(E,"name",D),g(E).source=v.join(typeof D=="string"?D:"")),y===a){b?y[D]=E:c(D,E);return}else C?!w&&y[D]&&(b=!0):delete y[D];b?y[D]=E:i(y,D,E)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||d(this)})},"6f53":function(s,r,o){var a=o("83ab"),i=o("df75"),l=o("fc6a"),c=o("d1e7").f,d=function(h){return function(p){for(var g=l(p),v=i(g),y=v.length,D=0,E=[],m;y>D;)m=v[D++],(!a||c.call(g,m))&&E.push(h?[m,g[m]]:g[m]);return E}};s.exports={entries:d(!0),values:d(!1)}},"73d9":function(s,r,o){var a=o("44d2");a("flatMap")},7418:function(s,r){r.f=Object.getOwnPropertySymbols},"746f":function(s,r,o){var a=o("428f"),i=o("5135"),l=o("e538"),c=o("9bf2").f;s.exports=function(d){var h=a.Symbol||(a.Symbol={});i(h,d)||c(h,d,{value:l.f(d)})}},7839:function(s,r){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(s,r,o){var a=o("1d80");s.exports=function(i){return Object(a(i))}},"7c73":function(s,r,o){var a=o("825a"),i=o("37e8"),l=o("7839"),c=o("d012"),d=o("1be4"),h=o("cc12"),p=o("f772"),g=">",v="<",y="prototype",D="script",E=p("IE_PROTO"),m=function(){},C=function(I){return v+D+g+I+v+"/"+D+g},b=function(I){I.write(C("")),I.close();var R=I.parentWindow.Object;return I=null,R},w=function(){var I=h("iframe"),R="java"+D+":",H;return I.style.display="none",d.appendChild(I),I.src=String(R),H=I.contentWindow.document,H.open(),H.write(C("document.F=Object")),H.close(),H.F},_,A=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}A=_?b(_):w();for(var I=l.length;I--;)delete A[y][l[I]];return A()};c[E]=!0,s.exports=Object.create||function(R,H){var te;return R!==null?(m[y]=a(R),te=new m,m[y]=null,te[E]=R):te=A(),H===void 0?te:i(te,H)}},"7dd0":function(s,r,o){var a=o("23e7"),i=o("9ed3"),l=o("e163"),c=o("d2bb"),d=o("d44e"),h=o("9112"),p=o("6eeb"),g=o("b622"),v=o("c430"),y=o("3f8c"),D=o("ae93"),E=D.IteratorPrototype,m=D.BUGGY_SAFARI_ITERATORS,C=g("iterator"),b="keys",w="values",_="entries",A=function(){return this};s.exports=function(I,R,H,te,U,N,Y){i(H,R,te);var V=function(xe){if(xe===U&&we)return we;if(!m&&xe in ee)return ee[xe];switch(xe){case b:return function(){return new H(this,xe)};case w:return function(){return new H(this,xe)};case _:return function(){return new H(this,xe)}}return function(){return new H(this)}},Q=R+" Iterator",J=!1,ee=I.prototype,me=ee[C]||ee["@@iterator"]||U&&ee[U],we=!m&&me||V(U),Ee=R=="Array"&&ee.entries||me,Ne,Me,Le;if(Ee&&(Ne=l(Ee.call(new I)),E!==Object.prototype&&Ne.next&&(!v&&l(Ne)!==E&&(c?c(Ne,E):typeof Ne[C]!="function"&&h(Ne,C,A)),d(Ne,Q,!0,!0),v&&(y[Q]=A))),U==w&&me&&me.name!==w&&(J=!0,we=function(){return me.call(this)}),(!v||Y)&&ee[C]!==we&&h(ee,C,we),y[R]=we,U)if(Me={values:V(w),keys:N?we:V(b),entries:V(_)},Y)for(Le in Me)(m||J||!(Le in ee))&&p(ee,Le,Me[Le]);else a({target:R,proto:!0,forced:m||J},Me);return Me}},"7f9a":function(s,r,o){var a=o("da84"),i=o("8925"),l=a.WeakMap;s.exports=typeof l=="function"&&/native code/.test(i(l))},"825a":function(s,r,o){var a=o("861d");s.exports=function(i){if(!a(i))throw TypeError(String(i)+" is not an object");return i}},"83ab":function(s,r,o){var a=o("d039");s.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(s,r,o){var a=o("c04e"),i=o("9bf2"),l=o("5c6c");s.exports=function(c,d,h){var p=a(d);p in c?i.f(c,p,l(0,h)):c[p]=h}},"861d":function(s,r){s.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(s,r,o){var a,i,l;(function(c,d){i=[],a=d,l=typeof a=="function"?a.apply(r,i):a,l!==void 0&&(s.exports=l)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(_){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,g=h.exec(_.stack)||p.exec(_.stack),v=g&&g[1]||!1,y=g&&g[2]||!1,D=document.location.href.replace(document.location.hash,""),E,m,C,b=document.getElementsByTagName("script");v===D&&(E=document.documentElement.outerHTML,m=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),C=E.replace(m,"$1").trim());for(var w=0;w<b.length;w++)if(b[w].readyState==="interactive"||b[w].src===v||v===D&&b[w].innerHTML&&b[w].innerHTML.trim()===C)return b[w];return null}}return c})},8925:function(s,r,o){var a=o("c6cd"),i=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(l){return i.call(l)}),s.exports=a.inspectSource},"8aa5":function(s,r,o){var a=o("6547").charAt;s.exports=function(i,l,c){return l+(c?a(i,l).length:1)}},"8bbf":function(s,r){s.exports=n},"90e3":function(s,r){var o=0,a=Math.random();s.exports=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++o+a).toString(36)}},9112:function(s,r,o){var a=o("83ab"),i=o("9bf2"),l=o("5c6c");s.exports=a?function(c,d,h){return i.f(c,d,l(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(s,r,o){var a=o("ad6d"),i=o("9f7f"),l=RegExp.prototype.exec,c=String.prototype.replace,d=l,h=function(){var y=/a/,D=/b*/g;return l.call(y,"a"),l.call(D,"a"),y.lastIndex!==0||D.lastIndex!==0}(),p=i.UNSUPPORTED_Y||i.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,v=h||g||p;v&&(d=function(D){var E=this,m,C,b,w,_=p&&E.sticky,A=a.call(E),I=E.source,R=0,H=D;return _&&(A=A.replace("y",""),A.indexOf("g")===-1&&(A+="g"),H=String(D).slice(E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&D[E.lastIndex-1]!==`
`)&&(I="(?: "+I+")",H=" "+H,R++),C=new RegExp("^(?:"+I+")",A)),g&&(C=new RegExp("^"+I+"$(?!\\s)",A)),h&&(m=E.lastIndex),b=l.call(_?C:E,H),_?b?(b.input=b.input.slice(R),b[0]=b[0].slice(R),b.index=E.lastIndex,E.lastIndex+=b[0].length):E.lastIndex=0:h&&b&&(E.lastIndex=E.global?b.index+b[0].length:m),g&&b&&b.length>1&&c.call(b[0],C,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(b[w]=void 0)}),b}),s.exports=d},"94ca":function(s,r,o){var a=o("d039"),i=/#|\.prototype\./,l=function(g,v){var y=d[c(g)];return y==p?!0:y==h?!1:typeof v=="function"?a(v):!!v},c=l.normalize=function(g){return String(g).replace(i,".").toLowerCase()},d=l.data={},h=l.NATIVE="N",p=l.POLYFILL="P";s.exports=l},"99af":function(s,r,o){var a=o("23e7"),i=o("d039"),l=o("e8b5"),c=o("861d"),d=o("7b0b"),h=o("50c4"),p=o("8418"),g=o("65f0"),v=o("1dde"),y=o("b622"),D=o("2d00"),E=y("isConcatSpreadable"),m=9007199254740991,C="Maximum allowed index exceeded",b=D>=51||!i(function(){var I=[];return I[E]=!1,I.concat()[0]!==I}),w=v("concat"),_=function(I){if(!c(I))return!1;var R=I[E];return R!==void 0?!!R:l(I)},A=!b||!w;a({target:"Array",proto:!0,forced:A},{concat:function(R){var H=d(this),te=g(H,0),U=0,N,Y,V,Q,J;for(N=-1,V=arguments.length;N<V;N++)if(J=N===-1?H:arguments[N],_(J)){if(Q=h(J.length),U+Q>m)throw TypeError(C);for(Y=0;Y<Q;Y++,U++)Y in J&&p(te,U,J[Y])}else{if(U>=m)throw TypeError(C);p(te,U++,J)}return te.length=U,te}})},"9bdd":function(s,r,o){var a=o("825a");s.exports=function(i,l,c,d){try{return d?l(a(c)[0],c[1]):l(c)}catch(p){var h=i.return;throw h!==void 0&&a(h.call(i)),p}}},"9bf2":function(s,r,o){var a=o("83ab"),i=o("0cfb"),l=o("825a"),c=o("c04e"),d=Object.defineProperty;r.f=a?d:function(p,g,v){if(l(p),g=c(g,!0),l(v),i)try{return d(p,g,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(p[g]=v.value),p}},"9ed3":function(s,r,o){var a=o("ae93").IteratorPrototype,i=o("7c73"),l=o("5c6c"),c=o("d44e"),d=o("3f8c"),h=function(){return this};s.exports=function(p,g,v){var y=g+" Iterator";return p.prototype=i(a,{next:l(1,v)}),c(p,y,!1,!0),d[y]=h,p}},"9f7f":function(s,r,o){var a=o("d039");function i(l,c){return RegExp(l,c)}r.UNSUPPORTED_Y=a(function(){var l=i("a","y");return l.lastIndex=2,l.exec("abcd")!=null}),r.BROKEN_CARET=a(function(){var l=i("^r","gy");return l.lastIndex=2,l.exec("str")!=null})},a2bf:function(s,r,o){var a=o("e8b5"),i=o("50c4"),l=o("0366"),c=function(d,h,p,g,v,y,D,E){for(var m=v,C=0,b=D?l(D,E,3):!1,w;C<g;){if(C in p){if(w=b?b(p[C],C,h):p[C],y>0&&a(w))m=c(d,h,w,i(w.length),m,y-1)-1;else{if(m>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[m]=w}m++}C++}return m};s.exports=c},a352:function(s,r){s.exports=u},a434:function(s,r,o){var a=o("23e7"),i=o("23cb"),l=o("a691"),c=o("50c4"),d=o("7b0b"),h=o("65f0"),p=o("8418"),g=o("1dde"),v=o("ae40"),y=g("splice"),D=v("splice",{ACCESSORS:!0,0:0,1:2}),E=Math.max,m=Math.min,C=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!D},{splice:function(_,A){var I=d(this),R=c(I.length),H=i(_,R),te=arguments.length,U,N,Y,V,Q,J;if(te===0?U=N=0:te===1?(U=0,N=R-H):(U=te-2,N=m(E(l(A),0),R-H)),R+U-N>C)throw TypeError(b);for(Y=h(I,N),V=0;V<N;V++)Q=H+V,Q in I&&p(Y,V,I[Q]);if(Y.length=N,U<N){for(V=H;V<R-N;V++)Q=V+N,J=V+U,Q in I?I[J]=I[Q]:delete I[J];for(V=R;V>R-N+U;V--)delete I[V-1]}else if(U>N)for(V=R-N;V>H;V--)Q=V+N-1,J=V+U-1,Q in I?I[J]=I[Q]:delete I[J];for(V=0;V<U;V++)I[V+H]=arguments[V+2];return I.length=R-N+U,Y}})},a4d3:function(s,r,o){var a=o("23e7"),i=o("da84"),l=o("d066"),c=o("c430"),d=o("83ab"),h=o("4930"),p=o("fdbf"),g=o("d039"),v=o("5135"),y=o("e8b5"),D=o("861d"),E=o("825a"),m=o("7b0b"),C=o("fc6a"),b=o("c04e"),w=o("5c6c"),_=o("7c73"),A=o("df75"),I=o("241c"),R=o("057f"),H=o("7418"),te=o("06cf"),U=o("9bf2"),N=o("d1e7"),Y=o("9112"),V=o("6eeb"),Q=o("5692"),J=o("f772"),ee=o("d012"),me=o("90e3"),we=o("b622"),Ee=o("e538"),Ne=o("746f"),Me=o("d44e"),Le=o("69f3"),xe=o("b727").forEach,Se=J("hidden"),Te="Symbol",Ue="prototype",nt=we("toPrimitive"),Dt=Le.set,dt=Le.getterFor(Te),Ve=Object[Ue],Je=i.Symbol,Ot=l("JSON","stringify"),gt=te.f,ft=U.f,Zt=R.f,dn=N.f,pt=Q("symbols"),Tt=Q("op-symbols"),F=Q("string-to-symbol-registry"),B=Q("symbol-to-string-registry"),z=Q("wks"),K=i.QObject,se=!K||!K[Ue]||!K[Ue].findChild,re=d&&g(function(){return _(ft({},"a",{get:function(){return ft(this,"a",{value:7}).a}})).a!=7})?function(fe,ne,ae){var Ce=gt(Ve,ne);Ce&&delete Ve[ne],ft(fe,ne,ae),Ce&&fe!==Ve&&ft(Ve,ne,Ce)}:ft,be=function(fe,ne){var ae=pt[fe]=_(Je[Ue]);return Dt(ae,{type:Te,tag:fe,description:ne}),d||(ae.description=ne),ae},O=p?function(fe){return typeof fe=="symbol"}:function(fe){return Object(fe)instanceof Je},$=function(ne,ae,Ce){ne===Ve&&$(Tt,ae,Ce),E(ne);var Ie=b(ae,!0);return E(Ce),v(pt,Ie)?(Ce.enumerable?(v(ne,Se)&&ne[Se][Ie]&&(ne[Se][Ie]=!1),Ce=_(Ce,{enumerable:w(0,!1)})):(v(ne,Se)||ft(ne,Se,w(1,{})),ne[Se][Ie]=!0),re(ne,Ie,Ce)):ft(ne,Ie,Ce)},L=function(ne,ae){E(ne);var Ce=C(ae),Ie=A(Ce).concat(Ae(Ce));return xe(Ie,function(ut){(!d||Z.call(Ce,ut))&&$(ne,ut,Ce[ut])}),ne},W=function(ne,ae){return ae===void 0?_(ne):L(_(ne),ae)},Z=function(ne){var ae=b(ne,!0),Ce=dn.call(this,ae);return this===Ve&&v(pt,ae)&&!v(Tt,ae)?!1:Ce||!v(this,ae)||!v(pt,ae)||v(this,Se)&&this[Se][ae]?Ce:!0},oe=function(ne,ae){var Ce=C(ne),Ie=b(ae,!0);if(!(Ce===Ve&&v(pt,Ie)&&!v(Tt,Ie))){var ut=gt(Ce,Ie);return ut&&v(pt,Ie)&&!(v(Ce,Se)&&Ce[Se][Ie])&&(ut.enumerable=!0),ut}},de=function(ne){var ae=Zt(C(ne)),Ce=[];return xe(ae,function(Ie){!v(pt,Ie)&&!v(ee,Ie)&&Ce.push(Ie)}),Ce},Ae=function(ne){var ae=ne===Ve,Ce=Zt(ae?Tt:C(ne)),Ie=[];return xe(Ce,function(ut){v(pt,ut)&&(!ae||v(Ve,ut))&&Ie.push(pt[ut])}),Ie};if(h||(Je=function(){if(this instanceof Je)throw TypeError("Symbol is not a constructor");var ne=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ae=me(ne),Ce=function(Ie){this===Ve&&Ce.call(Tt,Ie),v(this,Se)&&v(this[Se],ae)&&(this[Se][ae]=!1),re(this,ae,w(1,Ie))};return d&&se&&re(Ve,ae,{configurable:!0,set:Ce}),be(ae,ne)},V(Je[Ue],"toString",function(){return dt(this).tag}),V(Je,"withoutSetter",function(fe){return be(me(fe),fe)}),N.f=Z,U.f=$,te.f=oe,I.f=R.f=de,H.f=Ae,Ee.f=function(fe){return be(we(fe),fe)},d&&(ft(Je[Ue],"description",{configurable:!0,get:function(){return dt(this).description}}),c||V(Ve,"propertyIsEnumerable",Z,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:Je}),xe(A(z),function(fe){Ne(fe)}),a({target:Te,stat:!0,forced:!h},{for:function(fe){var ne=String(fe);if(v(F,ne))return F[ne];var ae=Je(ne);return F[ne]=ae,B[ae]=ne,ae},keyFor:function(ne){if(!O(ne))throw TypeError(ne+" is not a symbol");if(v(B,ne))return B[ne]},useSetter:function(){se=!0},useSimple:function(){se=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:W,defineProperty:$,defineProperties:L,getOwnPropertyDescriptor:oe}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:de,getOwnPropertySymbols:Ae}),a({target:"Object",stat:!0,forced:g(function(){H.f(1)})},{getOwnPropertySymbols:function(ne){return H.f(m(ne))}}),Ot){var Ye=!h||g(function(){var fe=Je();return Ot([fe])!="[null]"||Ot({a:fe})!="{}"||Ot(Object(fe))!="{}"});a({target:"JSON",stat:!0,forced:Ye},{stringify:function(ne,ae,Ce){for(var Ie=[ne],ut=1,jn;arguments.length>ut;)Ie.push(arguments[ut++]);if(jn=ae,!(!D(ae)&&ne===void 0||O(ne)))return y(ae)||(ae=function(oo,yn){if(typeof jn=="function"&&(yn=jn.call(this,oo,yn)),!O(yn))return yn}),Ie[1]=ae,Ot.apply(null,Ie)}})}Je[Ue][nt]||Y(Je[Ue],nt,Je[Ue].valueOf),Me(Je,Te),ee[Se]=!0},a630:function(s,r,o){var a=o("23e7"),i=o("4df4"),l=o("1c7e"),c=!l(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:i})},a640:function(s,r,o){var a=o("d039");s.exports=function(i,l){var c=[][i];return!!c&&a(function(){c.call(null,l||function(){throw 1},1)})}},a691:function(s,r){var o=Math.ceil,a=Math.floor;s.exports=function(i){return isNaN(i=+i)?0:(i>0?a:o)(i)}},ab13:function(s,r,o){var a=o("b622"),i=a("match");s.exports=function(l){var c=/./;try{"/./"[l](c)}catch{try{return c[i]=!1,"/./"[l](c)}catch{}}return!1}},ac1f:function(s,r,o){var a=o("23e7"),i=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(s,r,o){var a=o("825a");s.exports=function(){var i=a(this),l="";return i.global&&(l+="g"),i.ignoreCase&&(l+="i"),i.multiline&&(l+="m"),i.dotAll&&(l+="s"),i.unicode&&(l+="u"),i.sticky&&(l+="y"),l}},ae40:function(s,r,o){var a=o("83ab"),i=o("d039"),l=o("5135"),c=Object.defineProperty,d={},h=function(p){throw p};s.exports=function(p,g){if(l(d,p))return d[p];g||(g={});var v=[][p],y=l(g,"ACCESSORS")?g.ACCESSORS:!1,D=l(g,0)?g[0]:h,E=l(g,1)?g[1]:void 0;return d[p]=!!v&&!i(function(){if(y&&!a)return!0;var m={length:-1};y?c(m,1,{enumerable:!0,get:h}):m[1]=1,v.call(m,D,E)})}},ae93:function(s,r,o){var a=o("e163"),i=o("9112"),l=o("5135"),c=o("b622"),d=o("c430"),h=c("iterator"),p=!1,g=function(){return this},v,y,D;[].keys&&(D=[].keys(),"next"in D?(y=a(a(D)),y!==Object.prototype&&(v=y)):p=!0),v==null&&(v={}),!d&&!l(v,h)&&i(v,h,g),s.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:p}},b041:function(s,r,o){var a=o("00ee"),i=o("f5df");s.exports=a?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(s,r,o){var a=o("83ab"),i=o("9bf2").f,l=Function.prototype,c=l.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in l)&&i(l,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(s,r,o){var a=o("da84"),i=o("5692"),l=o("5135"),c=o("90e3"),d=o("4930"),h=o("fdbf"),p=i("wks"),g=a.Symbol,v=h?g:g&&g.withoutSetter||c;s.exports=function(y){return l(p,y)||(d&&l(g,y)?p[y]=g[y]:p[y]=v("Symbol."+y)),p[y]}},b64b:function(s,r,o){var a=o("23e7"),i=o("7b0b"),l=o("df75"),c=o("d039"),d=c(function(){l(1)});a({target:"Object",stat:!0,forced:d},{keys:function(p){return l(i(p))}})},b727:function(s,r,o){var a=o("0366"),i=o("44ad"),l=o("7b0b"),c=o("50c4"),d=o("65f0"),h=[].push,p=function(g){var v=g==1,y=g==2,D=g==3,E=g==4,m=g==6,C=g==5||m;return function(b,w,_,A){for(var I=l(b),R=i(I),H=a(w,_,3),te=c(R.length),U=0,N=A||d,Y=v?N(b,te):y?N(b,0):void 0,V,Q;te>U;U++)if((C||U in R)&&(V=R[U],Q=H(V,U,I),g)){if(v)Y[U]=Q;else if(Q)switch(g){case 3:return!0;case 5:return V;case 6:return U;case 2:h.call(Y,V)}else if(E)return!1}return m?-1:D||E?E:Y}};s.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(s,r,o){var a=o("861d");s.exports=function(i,l){if(!a(i))return i;var c,d;if(l&&typeof(c=i.toString)=="function"&&!a(d=c.call(i))||typeof(c=i.valueOf)=="function"&&!a(d=c.call(i))||!l&&typeof(c=i.toString)=="function"&&!a(d=c.call(i)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(s,r){s.exports=!1},c6b6:function(s,r){var o={}.toString;s.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(s,r,o){var a=o("da84"),i=o("ce4e"),l="__core-js_shared__",c=a[l]||i(l,{});s.exports=c},c740:function(s,r,o){var a=o("23e7"),i=o("b727").findIndex,l=o("44d2"),c=o("ae40"),d="findIndex",h=!0,p=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!p},{findIndex:function(v){return i(this,v,arguments.length>1?arguments[1]:void 0)}}),l(d)},c8ba:function(s,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}s.exports=o},c975:function(s,r,o){var a=o("23e7"),i=o("4d64").indexOf,l=o("a640"),c=o("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,p=l("indexOf"),g=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!p||!g},{indexOf:function(y){return h?d.apply(this,arguments)||0:i(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(s,r,o){var a=o("5135"),i=o("fc6a"),l=o("4d64").indexOf,c=o("d012");s.exports=function(d,h){var p=i(d),g=0,v=[],y;for(y in p)!a(c,y)&&a(p,y)&&v.push(y);for(;h.length>g;)a(p,y=h[g++])&&(~l(v,y)||v.push(y));return v}},caad:function(s,r,o){var a=o("23e7"),i=o("4d64").includes,l=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(p){return i(this,p,arguments.length>1?arguments[1]:void 0)}}),l("includes")},cc12:function(s,r,o){var a=o("da84"),i=o("861d"),l=a.document,c=i(l)&&i(l.createElement);s.exports=function(d){return c?l.createElement(d):{}}},ce4e:function(s,r,o){var a=o("da84"),i=o("9112");s.exports=function(l,c){try{i(a,l,c)}catch{a[l]=c}return c}},d012:function(s,r){s.exports={}},d039:function(s,r){s.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(s,r,o){var a=o("428f"),i=o("da84"),l=function(c){return typeof c=="function"?c:void 0};s.exports=function(c,d){return arguments.length<2?l(a[c])||l(i[c]):a[c]&&a[c][d]||i[c]&&i[c][d]}},d1e7:function(s,r,o){var a={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,l=i&&!a.call({1:2},1);r.f=l?function(d){var h=i(this,d);return!!h&&h.enumerable}:a},d28b:function(s,r,o){var a=o("746f");a("iterator")},d2bb:function(s,r,o){var a=o("825a"),i=o("3bbe");s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),l=c instanceof Array}catch{}return function(p,g){return a(p),i(g),l?d.call(p,g):p.__proto__=g,p}}():void 0)},d3b7:function(s,r,o){var a=o("00ee"),i=o("6eeb"),l=o("b041");a||i(Object.prototype,"toString",l,{unsafe:!0})},d44e:function(s,r,o){var a=o("9bf2").f,i=o("5135"),l=o("b622"),c=l("toStringTag");s.exports=function(d,h,p){d&&!i(d=p?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(s,r,o){var a=o("1c0b"),i=o("7b0b"),l=o("44ad"),c=o("50c4"),d=function(h){return function(p,g,v,y){a(g);var D=i(p),E=l(D),m=c(D.length),C=h?m-1:0,b=h?-1:1;if(v<2)for(;;){if(C in E){y=E[C],C+=b;break}if(C+=b,h?C<0:m<=C)throw TypeError("Reduce of empty array with no initial value")}for(;h?C>=0:m>C;C+=b)C in E&&(y=g(y,E[C],C,D));return y}};s.exports={left:d(!1),right:d(!0)}},d784:function(s,r,o){o("ac1f");var a=o("6eeb"),i=o("d039"),l=o("b622"),c=o("9263"),d=o("9112"),h=l("species"),p=!i(function(){var E=/./;return E.exec=function(){var m=[];return m.groups={a:"7"},m},"".replace(E,"$<a>")!=="7"}),g=function(){return"a".replace(/./,"$0")==="$0"}(),v=l("replace"),y=function(){return/./[v]?/./[v]("a","$0")==="":!1}(),D=!i(function(){var E=/(?:)/,m=E.exec;E.exec=function(){return m.apply(this,arguments)};var C="ab".split(E);return C.length!==2||C[0]!=="a"||C[1]!=="b"});s.exports=function(E,m,C,b){var w=l(E),_=!i(function(){var U={};return U[w]=function(){return 7},""[E](U)!=7}),A=_&&!i(function(){var U=!1,N=/a/;return E==="split"&&(N={},N.constructor={},N.constructor[h]=function(){return N},N.flags="",N[w]=/./[w]),N.exec=function(){return U=!0,null},N[w](""),!U});if(!_||!A||E==="replace"&&!(p&&g&&!y)||E==="split"&&!D){var I=/./[w],R=C(w,""[E],function(U,N,Y,V,Q){return N.exec===c?_&&!Q?{done:!0,value:I.call(N,Y,V)}:{done:!0,value:U.call(Y,N,V)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),H=R[0],te=R[1];a(String.prototype,E,H),a(RegExp.prototype,w,m==2?function(U,N){return te.call(U,this,N)}:function(U){return te.call(U,this)})}b&&d(RegExp.prototype[w],"sham",!0)}},d81d:function(s,r,o){var a=o("23e7"),i=o("b727").map,l=o("1dde"),c=o("ae40"),d=l("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(g){return i(this,g,arguments.length>1?arguments[1]:void 0)}})},da84:function(s,r,o){(function(a){var i=function(l){return l&&l.Math==Math&&l};s.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(s,r,o){var a=o("23e7"),i=o("83ab"),l=o("56ef"),c=o("fc6a"),d=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(g){for(var v=c(g),y=d.f,D=l(v),E={},m=0,C,b;D.length>m;)b=y(v,C=D[m++]),b!==void 0&&h(E,C,b);return E}})},dbf1:function(s,r,o){(function(a){o.d(r,"a",function(){return l});function i(){return typeof window<"u"?window.console:a.console}var l=i()}).call(this,o("c8ba"))},ddb0:function(s,r,o){var a=o("da84"),i=o("fdbc"),l=o("e260"),c=o("9112"),d=o("b622"),h=d("iterator"),p=d("toStringTag"),g=l.values;for(var v in i){var y=a[v],D=y&&y.prototype;if(D){if(D[h]!==g)try{c(D,h,g)}catch{D[h]=g}if(D[p]||c(D,p,v),i[v]){for(var E in l)if(D[E]!==l[E])try{c(D,E,l[E])}catch{D[E]=l[E]}}}}},df75:function(s,r,o){var a=o("ca84"),i=o("7839");s.exports=Object.keys||function(c){return a(c,i)}},e01a:function(s,r,o){var a=o("23e7"),i=o("83ab"),l=o("da84"),c=o("5135"),d=o("861d"),h=o("9bf2").f,p=o("e893"),g=l.Symbol;if(i&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var v={},y=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),_=this instanceof y?new g(w):w===void 0?g():g(w);return w===""&&(v[_]=!0),_};p(y,g);var D=y.prototype=g.prototype;D.constructor=y;var E=D.toString,m=String(g("test"))=="Symbol(test)",C=/^Symbol\((.*)\)[^)]+$/;h(D,"description",{configurable:!0,get:function(){var w=d(this)?this.valueOf():this,_=E.call(w);if(c(v,w))return"";var A=m?_.slice(7,-1):_.replace(C,"$1");return A===""?void 0:A}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(s,r,o){var a=o("5135"),i=o("7b0b"),l=o("f772"),c=o("e177"),d=l("IE_PROTO"),h=Object.prototype;s.exports=c?Object.getPrototypeOf:function(p){return p=i(p),a(p,d)?p[d]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?h:null}},e177:function(s,r,o){var a=o("d039");s.exports=!a(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},e260:function(s,r,o){var a=o("fc6a"),i=o("44d2"),l=o("3f8c"),c=o("69f3"),d=o("7dd0"),h="Array Iterator",p=c.set,g=c.getterFor(h);s.exports=d(Array,"Array",function(v,y){p(this,{type:h,target:a(v),index:0,kind:y})},function(){var v=g(this),y=v.target,D=v.kind,E=v.index++;return!y||E>=y.length?(v.target=void 0,{value:void 0,done:!0}):D=="keys"?{value:E,done:!1}:D=="values"?{value:y[E],done:!1}:{value:[E,y[E]],done:!1}},"values"),l.Arguments=l.Array,i("keys"),i("values"),i("entries")},e439:function(s,r,o){var a=o("23e7"),i=o("d039"),l=o("fc6a"),c=o("06cf").f,d=o("83ab"),h=i(function(){c(1)}),p=!d||h;a({target:"Object",stat:!0,forced:p,sham:!d},{getOwnPropertyDescriptor:function(v,y){return c(l(v),y)}})},e538:function(s,r,o){var a=o("b622");r.f=a},e893:function(s,r,o){var a=o("5135"),i=o("56ef"),l=o("06cf"),c=o("9bf2");s.exports=function(d,h){for(var p=i(h),g=c.f,v=l.f,y=0;y<p.length;y++){var D=p[y];a(d,D)||g(d,D,v(h,D))}}},e8b5:function(s,r,o){var a=o("c6b6");s.exports=Array.isArray||function(l){return a(l)=="Array"}},e95a:function(s,r,o){var a=o("b622"),i=o("3f8c"),l=a("iterator"),c=Array.prototype;s.exports=function(d){return d!==void 0&&(i.Array===d||c[l]===d)}},f5df:function(s,r,o){var a=o("00ee"),i=o("c6b6"),l=o("b622"),c=l("toStringTag"),d=i(function(){return arguments}())=="Arguments",h=function(p,g){try{return p[g]}catch{}};s.exports=a?i:function(p){var g,v,y;return p===void 0?"Undefined":p===null?"Null":typeof(v=h(g=Object(p),c))=="string"?v:d?i(g):(y=i(g))=="Object"&&typeof g.callee=="function"?"Arguments":y}},f772:function(s,r,o){var a=o("5692"),i=o("90e3"),l=a("keys");s.exports=function(c){return l[c]||(l[c]=i(c))}},fb15:function(s,r,o){if(o.r(r),typeof window<"u"){var a=window.document.currentScript;{var i=o("8875");a=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i})}var l=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);l&&(o.p=l[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(O,$,L){return $ in O?Object.defineProperty(O,$,{value:L,enumerable:!0,configurable:!0,writable:!0}):O[$]=L,O}function d(O,$){var L=Object.keys(O);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(O);$&&(W=W.filter(function(Z){return Object.getOwnPropertyDescriptor(O,Z).enumerable})),L.push.apply(L,W)}return L}function h(O){for(var $=1;$<arguments.length;$++){var L=arguments[$]!=null?arguments[$]:{};$%2?d(Object(L),!0).forEach(function(W){c(O,W,L[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(L)):d(Object(L)).forEach(function(W){Object.defineProperty(O,W,Object.getOwnPropertyDescriptor(L,W))})}return O}function p(O){if(Array.isArray(O))return O}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function g(O,$){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(O)))){var L=[],W=!0,Z=!1,oe=void 0;try{for(var de=O[Symbol.iterator](),Ae;!(W=(Ae=de.next()).done)&&(L.push(Ae.value),!($&&L.length===$));W=!0);}catch(Ye){Z=!0,oe=Ye}finally{try{!W&&de.return!=null&&de.return()}finally{if(Z)throw oe}}return L}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function v(O,$){($==null||$>O.length)&&($=O.length);for(var L=0,W=new Array($);L<$;L++)W[L]=O[L];return W}function y(O,$){if(O){if(typeof O=="string")return v(O,$);var L=Object.prototype.toString.call(O).slice(8,-1);if(L==="Object"&&O.constructor&&(L=O.constructor.name),L==="Map"||L==="Set")return Array.from(O);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return v(O,$)}}function D(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(O,$){return p(O)||g(O,$)||y(O,$)||D()}function m(O){if(Array.isArray(O))return v(O)}function C(O){if(typeof Symbol<"u"&&Symbol.iterator in Object(O))return Array.from(O)}function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(O){return m(O)||C(O)||y(O)||b()}var _=o("a352"),A=o.n(_);function I(O){O.parentElement!==null&&O.parentElement.removeChild(O)}function R(O,$,L){var W=L===0?O.children[0]:O.children[L-1].nextSibling;O.insertBefore($,W)}var H=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function te(O){var $=Object.create(null);return function(W){var Z=$[W];return Z||($[W]=O(W))}}var U=/-(\w)/g,N=te(function(O){return O.replace(U,function($,L){return L.toUpperCase()})});o("5db7"),o("73d9");var Y=["Start","Add","Remove","Update","End"],V=["Choose","Unchoose","Sort","Filter","Clone"],Q=["Move"],J=[Q,Y,V].flatMap(function(O){return O}).map(function(O){return"on".concat(O)}),ee={manage:Q,manageAndEmit:Y,emit:V};function me(O){return J.indexOf(O)!==-1}o("caad"),o("2ca0");var we=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ee(O){return we.includes(O)}function Ne(O){return["transition-group","TransitionGroup"].includes(O)}function Me(O){return["id","class","role","style"].includes(O)||O.startsWith("data-")||O.startsWith("aria-")||O.startsWith("on")}function Le(O){return O.reduce(function($,L){var W=E(L,2),Z=W[0],oe=W[1];return $[Z]=oe,$},{})}function xe(O){var $=O.$attrs,L=O.componentData,W=L===void 0?{}:L,Z=Le(Object.entries($).filter(function(oe){var de=E(oe,2),Ae=de[0];return de[1],Me(Ae)}));return h(h({},Z),W)}function Se(O){var $=O.$attrs,L=O.callBackBuilder,W=Le(Te($));Object.entries(L).forEach(function(oe){var de=E(oe,2),Ae=de[0],Ye=de[1];ee[Ae].forEach(function(fe){W["on".concat(fe)]=Ye(fe)})});var Z="[data-draggable]".concat(W.draggable||"");return h(h({},W),{},{draggable:Z})}function Te(O){return Object.entries(O).filter(function($){var L=E($,2),W=L[0];return L[1],!Me(W)}).map(function($){var L=E($,2),W=L[0],Z=L[1];return[N(W),Z]}).filter(function($){var L=E($,2),W=L[0];return L[1],!me(W)})}o("c740");function Ue(O,$){if(!(O instanceof $))throw new TypeError("Cannot call a class as a function")}function nt(O,$){for(var L=0;L<$.length;L++){var W=$[L];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(O,W.key,W)}}function Dt(O,$,L){return $&&nt(O.prototype,$),O}var dt=function($){var L=$.el;return L},Ve=function($,L){return $.__draggable_context=L},Je=function($){return $.__draggable_context},Ot=function(){function O($){var L=$.nodes,W=L.header,Z=L.default,oe=L.footer,de=$.root,Ae=$.realList;Ue(this,O),this.defaultNodes=Z,this.children=[].concat(w(W),w(Z),w(oe)),this.externalComponent=de.externalComponent,this.rootTransition=de.transition,this.tag=de.tag,this.realList=Ae}return Dt(O,[{key:"render",value:function(L,W){var Z=this.tag,oe=this.children,de=this._isRootComponent,Ae=de?{default:function(){return oe}}:oe;return L(Z,W,Ae)}},{key:"updated",value:function(){var L=this.defaultNodes,W=this.realList;L.forEach(function(Z,oe){Ve(dt(Z),{element:W[oe],index:oe})})}},{key:"getUnderlyingVm",value:function(L){return Je(L)}},{key:"getVmIndexFromDomIndex",value:function(L,W){var Z=this.defaultNodes,oe=Z.length,de=W.children,Ae=de.item(L);if(Ae===null)return oe;var Ye=Je(Ae);if(Ye)return Ye.index;if(oe===0)return 0;var fe=dt(Z[0]),ne=w(de).findIndex(function(ae){return ae===fe});return L<ne?0:oe}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),O}(),gt=o("8bbf");function ft(O,$){var L=O[$];return L?L():[]}function Zt(O){var $=O.$slots,L=O.realList,W=O.getKey,Z=L||[],oe=["header","footer"].map(function(ae){return ft($,ae)}),de=E(oe,2),Ae=de[0],Ye=de[1],fe=$.item;if(!fe)throw new Error("draggable element must have an item slot");var ne=Z.flatMap(function(ae,Ce){return fe({element:ae,index:Ce}).map(function(Ie){return Ie.key=W(ae),Ie.props=h(h({},Ie.props||{}),{},{"data-draggable":!0}),Ie})});if(ne.length!==Z.length)throw new Error("Item slot must have only one child");return{header:Ae,footer:Ye,default:ne}}function dn(O){var $=Ne(O),L=!Ee(O)&&!$;return{transition:$,externalComponent:L,tag:L?Object(gt.resolveComponent)(O):$?gt.TransitionGroup:O}}function pt(O){var $=O.$slots,L=O.tag,W=O.realList,Z=O.getKey,oe=Zt({$slots:$,realList:W,getKey:Z}),de=dn(L);return new Ot({nodes:oe,root:de,realList:W})}function Tt(O,$){var L=this;Object(gt.nextTick)(function(){return L.$emit(O.toLowerCase(),$)})}function F(O){var $=this;return function(L,W){if($.realList!==null)return $["onDrag".concat(O)](L,W)}}function B(O){var $=this,L=F.call(this,O);return function(W,Z){L.call($,W,Z),Tt.call($,O,W)}}var z=null,K={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function($){return $}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},se=["update:modelValue","change"].concat(w([].concat(w(ee.manageAndEmit),w(ee.emit)).map(function(O){return O.toLowerCase()}))),re=Object(gt.defineComponent)({name:"draggable",inheritAttrs:!1,props:K,emits:se,data:function(){return{error:!1}},render:function(){try{this.error=!1;var $=this.$slots,L=this.$attrs,W=this.tag,Z=this.componentData,oe=this.realList,de=this.getKey,Ae=pt({$slots:$,tag:W,realList:oe,getKey:de});this.componentStructure=Ae;var Ye=xe({$attrs:L,componentData:Z});return Ae.render(gt.h,Ye)}catch(fe){return this.error=!0,Object(gt.h)("pre",{style:{color:"red"}},fe.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&H.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var $=this;if(!this.error){var L=this.$attrs,W=this.$el,Z=this.componentStructure;Z.updated();var oe=Se({$attrs:L,callBackBuilder:{manageAndEmit:function(Ye){return B.call($,Ye)},emit:function(Ye){return Tt.bind($,Ye)},manage:function(Ye){return F.call($,Ye)}}}),de=W.nodeType===1?W:W.parentElement;this._sortable=new A.a(de,oe),this.targetDomElement=de,de.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var $=this.list;return $||this.modelValue},getKey:function(){var $=this.itemKey;return typeof $=="function"?$:function(L){return L[$]}}},watch:{$attrs:{handler:function($){var L=this._sortable;L&&Te($).forEach(function(W){var Z=E(W,2),oe=Z[0],de=Z[1];L.option(oe,de)})},deep:!0}},methods:{getUnderlyingVm:function($){return this.componentStructure.getUnderlyingVm($)||null},getUnderlyingPotencialDraggableComponent:function($){return $.__draggable_component__},emitChanges:function($){var L=this;Object(gt.nextTick)(function(){return L.$emit("change",$)})},alterList:function($){if(this.list){$(this.list);return}var L=w(this.modelValue);$(L),this.$emit("update:modelValue",L)},spliceList:function(){var $=arguments,L=function(Z){return Z.splice.apply(Z,w($))};this.alterList(L)},updatePosition:function($,L){var W=function(oe){return oe.splice(L,0,oe.splice($,1)[0])};this.alterList(W)},getRelatedContextFromMoveEvent:function($){var L=$.to,W=$.related,Z=this.getUnderlyingPotencialDraggableComponent(L);if(!Z)return{component:Z};var oe=Z.realList,de={list:oe,component:Z};if(L!==W&&oe){var Ae=Z.getUnderlyingVm(W)||{};return h(h({},Ae),de)}return de},getVmIndexFromDomIndex:function($){return this.componentStructure.getVmIndexFromDomIndex($,this.targetDomElement)},onDragStart:function($){this.context=this.getUnderlyingVm($.item),$.item._underlying_vm_=this.clone(this.context.element),z=$.item},onDragAdd:function($){var L=$.item._underlying_vm_;if(L!==void 0){I($.item);var W=this.getVmIndexFromDomIndex($.newIndex);this.spliceList(W,0,L);var Z={element:L,newIndex:W};this.emitChanges({added:Z})}},onDragRemove:function($){if(R(this.$el,$.item,$.oldIndex),$.pullMode==="clone"){I($.clone);return}var L=this.context,W=L.index,Z=L.element;this.spliceList(W,1);var oe={element:Z,oldIndex:W};this.emitChanges({removed:oe})},onDragUpdate:function($){I($.item),R($.from,$.item,$.oldIndex);var L=this.context.index,W=this.getVmIndexFromDomIndex($.newIndex);this.updatePosition(L,W);var Z={element:this.context.element,oldIndex:L,newIndex:W};this.emitChanges({moved:Z})},computeFutureIndex:function($,L){if(!$.element)return 0;var W=w(L.to.children).filter(function(Ae){return Ae.style.display!=="none"}),Z=W.indexOf(L.related),oe=$.component.getVmIndexFromDomIndex(Z),de=W.indexOf(z)!==-1;return de||!L.willInsertAfter?oe:oe+1},onDragMove:function($,L){var W=this.move,Z=this.realList;if(!W||!Z)return!0;var oe=this.getRelatedContextFromMoveEvent($),de=this.computeFutureIndex(oe,$),Ae=h(h({},this.context),{},{futureIndex:de}),Ye=h(h({},$),{},{relatedContext:oe,draggedContext:Ae});return W(Ye,L)},onDragEnd:function(){z=null}}}),be=re;r.default=be},fb6a:function(s,r,o){var a=o("23e7"),i=o("861d"),l=o("e8b5"),c=o("23cb"),d=o("50c4"),h=o("fc6a"),p=o("8418"),g=o("b622"),v=o("1dde"),y=o("ae40"),D=v("slice"),E=y("slice",{ACCESSORS:!0,0:0,1:2}),m=g("species"),C=[].slice,b=Math.max;a({target:"Array",proto:!0,forced:!D||!E},{slice:function(_,A){var I=h(this),R=d(I.length),H=c(_,R),te=c(A===void 0?R:A,R),U,N,Y;if(l(I)&&(U=I.constructor,typeof U=="function"&&(U===Array||l(U.prototype))?U=void 0:i(U)&&(U=U[m],U===null&&(U=void 0)),U===Array||U===void 0))return C.call(I,H,te);for(N=new(U===void 0?Array:U)(b(te-H,0)),Y=0;H<te;H++,Y++)H in I&&p(N,Y,I[H]);return N.length=Y,N}})},fc6a:function(s,r,o){var a=o("44ad"),i=o("1d80");s.exports=function(l){return a(i(l))}},fdbc:function(s,r){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(s,r,o){var a=o("4930");s.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(na);var h3=na.exports;const g3=Ta(h3),v3={class:"tab-container"},m3={class:"tab-scroll"},b3=["onClick"],y3={class:"tab-name"},x3={key:0,class:"tab-dot",title:"æ­£åœ¨ç”Ÿæˆä¸­"},E3={key:0,class:"tab-placeholder"},S3={class:"header-actions"},C3=pe({__name:"ChatHeader",props:{isDark:{type:Boolean,default:!1}},emits:["toggle-history"],setup(e,{emit:t}){const n=t,u=Qu(),s=k(()=>u.activeTabs||[]),r=k(()=>u.currentSessionId),o=k({get:()=>s.value,set:c=>{const d=c.map(h=>h.id);u.updateTabOrder(d)}});async function a(c){c!==r.value&&await u.switchSession(c)}async function i(){typeof u.startNewSession=="function"?await u.startNewSession():await u.createSession()}function l(){}return(c,d)=>(x(),S("div",{class:le(["chat-header",{"theme-dark":e.isDark}])},[f("div",v3,[f("div",m3,[Pe(Oe(g3),{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=h=>o.value=h),animation:200,"item-key":"id",class:"draggable-tabs",onEnd:l},{item:Nt(({element:h})=>[f("button",{class:le(["chat-tab",{active:h.id===r.value}]),onClick:p=>a(h.id)},[f("span",y3,T(h.name||"æœªå‘½åä¼šè¯"),1),h.isGenerating?(x(),S("span",x3)):M("",!0)],10,b3)]),_:1},8,["modelValue"]),s.value.length===0?(x(),S("span",E3," æš‚æ— æ´»åŠ¨ä¼šè¯ ")):M("",!0)])]),f("div",S3,[f("button",{class:"icon-btn",type:"button",title:"å†å²ä¼šè¯",onClick:d[1]||(d[1]=h=>n("toggle-history"))}," ğŸ“‹ "),f("button",{class:"icon-btn primary",type:"button",title:"æ–°å»ºä¼šè¯",onClick:i}," â• ")])],2))}}),k3=ve(C3,[["__scopeId","data-v-42144d07"]]),w3={class:"overlay-panel"},D3={class:"overlay-header"},T3={class:"overlay-title-group"},I3={class:"overlay-body"},_3={key:0,class:"state-block"},A3={key:1,class:"state-block empty"},$3={key:2,class:"session-list"},F3=["onClick"],O3={class:"session-item-main"},P3={class:"session-name"},M3={key:0,class:"session-dot",title:"ç”Ÿæˆä¸­"},R3={class:"session-meta"},L3=pe({__name:"SessionListOverlay",props:{visible:{type:Boolean},sessions:{},currentSessionId:{default:null},loading:{type:Boolean,default:!1},isDark:{type:Boolean,default:!1}},emits:["close","select-session","new-session"],setup(e,{emit:t}){const n=e,u=t;function s(){u("close")}function r(l){u("select-session",l)}function o(){u("new-session")}function a(l){const c=Date.now()-l,d=Math.floor(c/6e4),h=Math.floor(c/36e5),p=Math.floor(c/864e5);return d<1?"åˆšåˆš":d<60?`${d} åˆ†é’Ÿå‰`:h<24?`${h} å°æ—¶å‰`:p<7?`${p} å¤©å‰`:new Date(l).toLocaleDateString("zh-CN",{month:"short",day:"numeric"})}function i(l){l.key==="Escape"&&n.visible&&u("close")}return et(()=>n.visible,l=>{l?window.addEventListener("keydown",i):window.removeEventListener("keydown",i)},{immediate:!0}),Zs(()=>{window.removeEventListener("keydown",i)}),(l,c)=>(x(),Be(Xs,{to:"body"},[Pe(Ys,{name:"session-overlay"},{default:Nt(()=>[e.visible?(x(),S("div",{key:0,class:le(["session-overlay",{"theme-dark":e.isDark}])},[f("div",{class:"overlay-backdrop",onClick:s}),f("div",w3,[f("div",D3,[f("div",T3,[c[0]||(c[0]=f("h3",null,"ä¼šè¯å†å²",-1)),f("p",null,T(e.sessions.length)+" ä¸ªä¼šè¯",1)]),f("div",{class:"overlay-actions"},[f("button",{class:"overlay-btn primary",type:"button",onClick:o}," æ–°å»ºä¼šè¯ "),f("button",{class:"overlay-btn ghost",type:"button","aria-label":"å…³é—­",onClick:s}," âœ• ")])]),f("div",I3,[e.loading?(x(),S("div",_3,[...c[1]||(c[1]=[f("span",{class:"spinner"},null,-1),f("span",null,"åŠ è½½ä¸­...",-1)])])):e.sessions.length===0?(x(),S("div",A3,[...c[2]||(c[2]=[f("span",{class:"empty-icon"},"ğŸ“­",-1),f("span",null,"æš‚æ— å†å²ä¼šè¯",-1)])])):(x(),S("div",$3,[(x(!0),S($e,null,Re(e.sessions,d=>(x(),S("button",{key:d.id,type:"button",class:le(["session-item",{active:d.id===e.currentSessionId}]),onClick:h=>r(d.id)},[f("div",O3,[f("div",P3,[f("span",null,T(d.name||"æœªå‘½åä¼šè¯"),1),d.isGenerating?(x(),S("span",M3)):M("",!0)]),f("div",R3,[f("span",null,T(a(d.timestamp)),1),c[3]||(c[3]=f("span",null,"Â·",-1)),f("span",null,T(d.messageCount)+" æ¡æ¶ˆæ¯",1)])])],10,F3))),128))]))])])],2)):M("",!0)]),_:1})]))}}),N3=ve(L3,[["__scopeId","data-v-043dc010"]]),B3={class:"chat-screen-content"},U3={key:1,class:"error-dialog"},j3={class:"error-content"},z3={class:"error-header"},H3={class:"error-title"},G3={class:"error-message"},W3={class:"error-actions"},K3={key:2,class:"debug-panel"},V3={class:"debug-content"},J3={class:"debug-item"},Y3={class:"debug-item"},X3={class:"debug-item"},Z3={class:"debug-item"},Q3={class:"debug-item"},q3={class:"debug-item"},e6=pe({__name:"ModernChatView",props:{sessionId:{default:void 0},projectPath:{default:()=>process.cwd?.()||"/default/project"},isDark:{type:Boolean,default:!1},showDebug:{type:Boolean,default:!1}},setup(e){const t=e,n=Qu(),{t:u}=pr(),{isInIde:s,detectEnvironment:r}=Jo(),o=s;let a=null,i=null;const l=G(!1),c=G({contexts:[],isGenerating:!1,isLoadingHistory:!1,hasError:!1,errorMessage:void 0,actualModelId:void 0,selectedModel:"DEFAULT",selectedPermissionMode:"DEFAULT",skipPermissions:!1,autoCleanupContexts:!1}),d=k(()=>n.currentDisplayItems),h=k(()=>n.allSessions.map(J=>({id:J.id,name:J.name,timestamp:J.lastActiveAt??J.updatedAt,messageCount:J.messages.length,isGenerating:J.isGenerating}))),p=k(()=>null),g=k(()=>n.currentSession?.isGenerating??!1),v=k(()=>{const J=n.currentSessionId;return J?n.requestTracker.get(J)??null:null}),y=k(()=>v.value?.requestStartTime??Date.now()),D=k(()=>v.value?.inputTokens??0),E=k(()=>v.value?.outputTokens??0),m=G([]),C=G(!1);ln(async()=>{console.log("ğŸš€ ModernChatView mounted (Live Mode)"),await r(),o.value&&(a=Fi(n),i=Oi(J=>{J.type==="toggleHistory"?Y():J.type==="openHistory"&&(l.value=!0)}));try{if(t.sessionId){console.log("ğŸ“¡ External session detected:",t.sessionId);const ee=n.resolveSessionIdentifier(t.sessionId);if(ee)await n.switchSession(ee);else if(!await n.resumeSession(t.sessionId))throw new Error("æ— æ³•æ¢å¤æŒ‡å®šä¼šè¯");return}const J=n.allSessions.length>0;if(!n.currentSessionId&&!J){console.log("ğŸ†• No existing sessions detected, creating one by default...");const me=await(n.startNewSession??n.createSession)?.();if(!me)throw new Error("è‡ªåŠ¨åˆ›å»ºä¼šè¯å¤±è´¥");console.log("âœ… Default session created:",me.id)}}catch(J){console.error("âŒ Failed to initialize session:",J),c.value.hasError=!0,c.value.errorMessage=u("chat.error.initSessionFailed",{message:J instanceof Error?J.message:u("chat.error.unknown")})}}),Zs(()=>{console.log("ğŸ§¹ ModernChatView unmounting"),a?.(),a=null,i?.(),i=null}),et(()=>t.sessionId,async J=>{if(J){console.log("ğŸ”„ Session ID changed:",J);try{const ee=n.resolveSessionIdentifier(J);if(ee){await n.switchSession(ee);return}if(!await n.resumeSession(J))throw new Error("æ— æ³•æ¢å¤æŒ‡å®šä¼šè¯")}catch(ee){console.error("âŒ Failed to switch session:",ee),c.value.hasError=!0,c.value.errorMessage=u("chat.error.switchSessionFailed",{message:ee instanceof Error?ee.message:u("chat.error.unknown")})}}});async function b(J,ee){console.log("ğŸ“¤ Sending message:",J,ee?`with ${ee.length} inline images`:"");try{if(!n.currentSessionId&&(console.log("ğŸ†• æ²¡æœ‰æ´»è·ƒä¼šè¯ï¼Œåˆ›å»ºæ–°ä¼šè¯..."),!await n.createSession()))throw new Error("æ— æ³•åˆ›å»ºä¼šè¯");const me=n.currentSessionId;if(!me){console.error("âŒ No active session"),c.value.hasError=!0,c.value.errorMessage="å½“å‰æ²¡æœ‰æ¿€æ´»çš„ä¼šè¯";return}let we;try{o.value}catch(Te){console.warn("è·å–å½“å‰æ´»åŠ¨æ–‡ä»¶å¤±è´¥:",Te)}const Ee=ir({text:J,contexts:c.value.contexts,activeFile:we});if(ee&&ee.length>0){console.log(`ğŸ–¼ï¸ å¤„ç† ${ee.length} ä¸ªå†…åµŒå›¾ç‰‡`);const{fileToImageBlock:Te}=await or(async()=>{const{fileToImageBlock:Ue}=await Promise.resolve().then(()=>Ba);return{fileToImageBlock:Ue}},void 0,import.meta.url);for(const Ue of ee)try{const nt=await Te(Ue);Ee.push(nt),console.log(`âœ… å†…åµŒå›¾ç‰‡å·²æ·»åŠ : ${Ue.name}`)}catch(nt){console.error(`âŒ è½¬æ¢å†…åµŒå›¾ç‰‡å¤±è´¥: ${Ue.name}`,nt)}}console.log(`ğŸ“¦ æ„å»ºçš„æ¶ˆæ¯å†…å®¹: ${Ee.length} ä¸ªå†…å®¹å—`),console.log("ğŸ“‹ å†…å®¹è¯¦æƒ…:",Ee.map(Te=>({type:Te.type,preview:Te.type==="text"?Te.text?.substring(0,50):"..."}))),c.value.contexts.filter(Te=>Te.type==="image").length>0&&(console.log("ğŸ§¹ ç«‹å³æ¸…ç©ºå›¾ç‰‡ä¸Šä¸‹æ–‡ï¼ˆå‘é€å‰ï¼‰"),c.value.contexts=c.value.contexts.filter(Te=>Te.type!=="image"));const Me=`user-${Date.now()}`,Le={id:Me,role:"user",content:Ee,timestamp:Date.now()};n.addMessage(me,Le),console.log("ğŸ‘¤ ç”¨æˆ·æ¶ˆæ¯å·²æ·»åŠ åˆ°UI");const xe=`assistant-placeholder-${Date.now()}`,Se={id:xe,role:"assistant",content:[],timestamp:Date.now(),isStreaming:!0};n.addMessage(me,Se),console.log("ğŸ¤– åŠ©æ‰‹å ä½ç¬¦æ¶ˆæ¯å·²æ·»åŠ åˆ°UI"),n.startRequestTracking(me,Me,xe),console.log("ğŸ“¤ å‘é€æ¶ˆæ¯åˆ°åç«¯:",Ee.length,"ä¸ªå†…å®¹å—"),await n.sendMessageWithContent(Ee),c.value.autoCleanupContexts&&(console.log("ğŸ§¹ Auto-cleaning all contexts after send"),c.value.contexts=[])}catch(me){console.error("âŒ Failed to send message:",me),c.value.hasError=!0,c.value.errorMessage=u("chat.error.sendMessageFailed",{message:me instanceof Error?me.message:u("chat.error.unknown")});const we=n.currentSessionId;if(we){const Ne=n.getMessages(we).findIndex(Me=>Me.id&&Me.id.startsWith("assistant-placeholder-"));Ne!==-1&&n.removeMessage(we,Ne)}}}function w(J,ee){console.log("â›” Interrupt and send:",J,ee?`with ${ee.length} inline images`:""),_(),b(J,ee)}function _(){console.log("ğŸ›‘ Stopping generation"),c.value.isGenerating=!1}function A(J){console.log("â• Adding context:",J),c.value.contexts.push(J)}function I(J){console.log("â– Removing context:",J);const ee=c.value.contexts.findIndex(me=>me.uri===J.uri);ee!==-1?c.value.contexts.splice(ee,1):console.warn("âš ï¸ Context not found for removal:",J)}function R(J){console.log("ğŸ¤– Changing model:",J),c.value.selectedModel=J}function H(J){console.log("ğŸ” Changing permission mode:",J),c.value.selectedPermissionMode=J}function te(J){console.log("â­ï¸ Toggle skip permissions:",J),c.value.skipPermissions=J}function U(J){console.log("ğŸ§¹ Changing auto cleanup contexts:",J),c.value.autoCleanupContexts=J}function N(){console.log("âœ… Clearing error"),c.value.hasError=!1,c.value.errorMessage=void 0}function Y(){l.value=!l.value}async function V(J){await n.switchSession(J),l.value=!1}async function Q(){const J=await n.startNewSession?.();J?.id&&await n.switchSession(J.id),l.value=!1}return(J,ee)=>(x(),S("div",{class:le(["modern-chat-view",{"theme-dark":e.isDark}])},[Oe(o)?M("",!0):(x(),Be(k3,{key:0,class:"chat-header-bar","is-dark":e.isDark,onToggleHistory:Y},null,8,["is-dark"])),f("div",B3,[Pe(Eb,{"display-items":d.value,"is-loading":c.value.isLoadingHistory,"is-dark":e.isDark,"is-streaming":g.value,"streaming-start-time":y.value,"input-tokens":D.value,"output-tokens":E.value,class:"message-list-area"},null,8,["display-items","is-loading","is-dark","is-streaming","streaming-start-time","input-tokens","output-tokens"]),Pe(_y,{"pending-tasks":m.value,contexts:c.value.contexts,"is-generating":c.value.isGenerating,enabled:!0,"actual-model-id":Oe(n).currentModelId||void 0,"selected-permission":c.value.selectedPermissionMode,"skip-permissions":c.value.skipPermissions,"selected-model":c.value.selectedModel,"auto-cleanup-contexts":c.value.autoCleanupContexts,"message-history":[],"session-token-usage":p.value,"show-context-controls":!0,"show-model-selector":!0,"show-permission-controls":!0,"show-send-button":!0,class:"input-area",onSend:b,onInterruptAndSend:w,onStop:_,onContextAdd:A,onContextRemove:I,"onUpdate:selectedModel":R,"onUpdate:selectedPermission":H,"onUpdate:skipPermissions":te,onAutoCleanupChange:U},null,8,["pending-tasks","contexts","is-generating","actual-model-id","selected-permission","skip-permissions","selected-model","auto-cleanup-contexts","session-token-usage"])]),c.value.hasError?(x(),S("div",U3,[f("div",{class:"error-overlay",onClick:N}),f("div",j3,[f("div",z3,[ee[2]||(ee[2]=f("span",{class:"error-icon"},"âš ï¸",-1)),f("span",H3,T(Oe(u)("chat.error.title")),1)]),f("div",G3,T(c.value.errorMessage||Oe(u)("chat.error.unknown")),1),f("div",W3,[f("button",{class:"error-dismiss-btn",onClick:N},T(Oe(u)("common.ok")),1)])])])):M("",!0),e.showDebug?(x(),S("div",K3,[f("div",{class:"debug-header",onClick:ee[0]||(ee[0]=me=>C.value=!C.value)}," ğŸ› "+T(Oe(u)("chat.debug.title"))+" "+T(C.value?"â–¼":"â–¶"),1),vn(f("div",V3,[f("div",J3,T(Oe(u)("chat.debug.sessionId"))+": "+T(e.sessionId||Oe(u)("chat.debug.notSet")),1),f("div",Y3,T(Oe(u)("chat.debug.projectPath"))+": "+T(e.projectPath),1),f("div",X3,T(Oe(u)("chat.debug.messageCount"))+": "+T(d.value.length),1),f("div",Z3,T(Oe(u)("chat.debug.generating"))+": "+T(c.value.isGenerating?Oe(u)("common.yes"):Oe(u)("common.no")),1),f("div",Q3,T(Oe(u)("chat.debug.pendingTasks"))+": "+T(m.value.length),1),f("div",q3,T(Oe(u)("chat.debug.contexts"))+": "+T(c.value.contexts.length),1)],512),[[Qs,C.value]])])):M("",!0),Pe(N3,{visible:l.value,sessions:h.value,"current-session-id":Oe(n).currentSessionId,loading:Oe(n).loading,"is-dark":e.isDark,onClose:ee[1]||(ee[1]=me=>l.value=!1),onSelectSession:V,onNewSession:Q},null,8,["visible","sessions","current-session-id","loading","is-dark"])],2))}}),t6=ve(e6,[["__scopeId","data-v-012cb0f4"]]),n6={class:"test-display-items"},u6={class:"test-section"},o6={class:"display-items-list"},s6={class:"test-section"},r6={key:0,class:"empty-state"},a6={key:1,class:"display-items-list"},i6={class:"test-section"},l6={class:"debug-info"},c6=pe({__name:"TestDisplayItems",setup(e){const t=Qu(),n=k(()=>t.currentSessionId),u=k(()=>t.currentDisplayItems),s=k(()=>t.sessions.size),r=k(()=>t.currentMessages.length),o=[{type:"userMessage",id:"mock-user-1",content:"ä½ å¥½ï¼è¯·å¸®æˆ‘è¯»å– package.json æ–‡ä»¶",timestamp:Date.now()-1e4},{type:"assistantText",id:"mock-assistant-1",content:"å¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ è¯»å– package.json æ–‡ä»¶ã€‚",timestamp:Date.now()-9e3},Tn({type:"toolCall",toolType:he.READ,id:"mock-tool-1",status:zt.SUCCESS,startTime:Date.now()-8e3,endTime:Date.now()-7e3,timestamp:Date.now()-8e3,input:{file_path:"package.json"},result:{type:"success",output:`{
  "name": "claude-code-plus",
  "version": "1.0.0",
  "description": "Claude Code Plus"
}`,summary:"è¯»å–æˆåŠŸ"}}),{type:"assistantText",id:"mock-assistant-2",content:'æˆ‘å·²ç»æˆåŠŸè¯»å–äº† package.json æ–‡ä»¶ã€‚è¿™æ˜¯ä¸€ä¸ªåä¸º "claude-code-plus" çš„é¡¹ç›®ã€‚',timestamp:Date.now()-6e3},{type:"systemMessage",id:"mock-system-1",content:"ä¼šè¯å·²ä¿å­˜",level:"info",timestamp:Date.now()-5e3}];return(a,i)=>(x(),S("div",n6,[i[7]||(i[7]=f("h1",null,"DisplayItem ç»„ä»¶æµ‹è¯•",-1)),f("div",u6,[i[0]||(i[0]=f("h2",null,"Mock æ•°æ®æµ‹è¯•",-1)),f("div",o6,[(x(),S($e,null,Re(o,l=>Pe(No,{key:l.id,source:l,"is-dark":!1},null,8,["source"])),64))])]),f("div",s6,[f("h2",null,"å½“å‰ä¼šè¯çš„ DisplayItems ("+T(u.value.length)+")",1),u.value.length===0?(x(),S("div",r6,[...i[1]||(i[1]=[f("p",null,"æ²¡æœ‰æ¶ˆæ¯ã€‚è¯·åˆ›å»ºä¼šè¯å¹¶å‘é€æ¶ˆæ¯ã€‚",-1)])])):(x(),S("div",a6,[(x(!0),S($e,null,Re(u.value,l=>(x(),Be(No,{key:l.id,source:l,"is-dark":!1},null,8,["source"]))),128))]))]),f("div",i6,[i[6]||(i[6]=f("h2",null,"è°ƒè¯•ä¿¡æ¯",-1)),f("div",l6,[f("p",null,[i[2]||(i[2]=f("strong",null,"å½“å‰ä¼šè¯ ID:",-1)),_t(" "+T(n.value||"æ— "),1)]),f("p",null,[i[3]||(i[3]=f("strong",null,"ä¼šè¯æ•°é‡:",-1)),_t(" "+T(s.value),1)]),f("p",null,[i[4]||(i[4]=f("strong",null,"æ¶ˆæ¯æ•°é‡:",-1)),_t(" "+T(r.value),1)]),f("p",null,[i[5]||(i[5]=f("strong",null,"DisplayItems æ•°é‡:",-1)),_t(" "+T(u.value.length),1)])])])]))}}),d6=ve(c6,[["__scopeId","data-v-8b449b04"]]),f6={key:2,class:"debug-panel"},p6={class:"debug-content"},h6={class:"debug-item"},g6={class:"debug-item"},v6={class:"debug-item"},m6={class:"debug-item"},b6={class:"debug-item"},y6={class:"debug-item"},x6={class:"debug-item"},E6=pe({__name:"App",setup(e){const t=G(!1),n=G(!1),u=G(!1),s=G(!1),r=G("unknown"),o=G(""),a=G("æœªåˆå§‹åŒ–"),i=G(new URLSearchParams(window.location.search).get("test")==="1"),l=G(void 0),c=G(""),{detectEnvironment:d}=Jo();ln(async()=>{console.log("ğŸš€ App mounted - ModernChatView loaded"),await d();const v=()=>{o.value=document.documentElement.className||"(ç©º)"};v(),setInterval(v,1e3);try{await bt.waitForReady(),t.value=!0;const y=bt.getMode();r.value=y,console.log(`âœ… Bridge ready, mode: ${y}`),console.log("ğŸ¨ Initializing theme service..."),a.value="åˆå§‹åŒ–ä¸­...",await Yn.initialize(),a.value="å·²æ¿€æ´»",console.log("âœ… Theme service initialized"),Yn.onThemeChange(E=>{n.value=E.isDark,console.log("ğŸ¨ Theme updated:",E.isDark?"dark":"light"),E.isDark?(document.documentElement.classList.add("dark"),console.log('âœ… Added "dark" class to <html>')):(document.documentElement.classList.remove("dark"),console.log('âœ… Removed "dark" class from <html>')),v(),a.value=`å·²æ¿€æ´» (${E.isDark?"æš—è‰²":"äº®è‰²"})`});const D=Yn.getCurrentTheme();D&&(console.log("ğŸ“‹ Current theme:",D),n.value=D.isDark,D.isDark&&document.documentElement.classList.add("dark"));try{const E=await bt.query("ide.getProjectPath",{});E.success&&E.data?.projectPath&&(c.value=E.data.projectPath,console.log("ğŸ“ Project path:",c.value))}catch(E){console.error("âŒ Failed to get project path:",E),c.value="è·å–å¤±è´¥"}setTimeout(()=>{const E=document.getElementById("app"),m=document.querySelector(".main-chat-view"),C=document.querySelector(".modern-chat-view"),b=document.querySelector(".message-list-wrapper");console.log("ğŸ“ DOM å…ƒç´ é«˜åº¦æ£€æŸ¥:"),console.log("  #app:",E?.offsetHeight||0,"px"),console.log("  .main-chat-view:",m?.offsetHeight||0,"px"),console.log("  .modern-chat-view:",C?.offsetHeight||0,"px"),console.log("  .message-list-wrapper:",b?.offsetHeight||0,"px"),(!E||E.offsetHeight===0)&&console.error("âŒ #app é«˜åº¦ä¸º 0 - å¯èƒ½å¯¼è‡´ç•Œé¢ç©ºç™½!"),(!b||b.offsetHeight===0)&&console.error("âŒ .message-list-wrapper é«˜åº¦ä¸º 0 - æ¶ˆæ¯åˆ—è¡¨ä¸å¯è§!")},1e3)}catch(y){console.error("âŒ Failed to initialize:",y),a.value=`é”™è¯¯: ${y}`}});function h(){console.log("ğŸ§ª Testing bridge..."),alert("æ¡¥æ¥çŠ¶æ€: "+(t.value?"æ­£å¸¸":"æœªå°±ç»ª"))}function p(){console.log("ğŸ§ª Testing theme...");const v=Yn.getCurrentTheme();alert(v?`ä¸»é¢˜ä¿¡æ¯:
${JSON.stringify(v,null,2)}`:"å½“å‰æ²¡æœ‰å¯ç”¨çš„ä¸»é¢˜æ•°æ®")}function g(){console.log("ğŸ”„ Manually toggling theme..."),n.value=!n.value,n.value?(document.documentElement.classList.add("dark"),document.documentElement.classList.add("theme-dark")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.remove("theme-dark")),console.log(`âœ… Theme toggled to: ${n.value?"dark":"light"}`),alert(`ä¸»é¢˜å·²åˆ‡æ¢ä¸º: ${n.value?"æš—è‰²":"äº®è‰²"}`)}return(v,y)=>(x(),S("div",{class:le(["app",{"theme-dark":n.value}])},[i.value?(x(),Be(d6,{key:0})):(x(),Be(t6,{key:1,"session-id":l.value,"project-path":c.value,class:"main-chat-view"},null,8,["session-id","project-path"])),u.value?(x(),S("div",f6,[f("div",{class:"debug-title",onClick:y[0]||(y[0]=D=>s.value=!s.value)}," ğŸ› è°ƒè¯•ä¿¡æ¯ "+T(s.value?"â–¼":"â–¶"),1),vn(f("div",p6,[f("div",h6,[y[1]||(y[1]=f("strong",null,"è¿è¡Œæ¨¡å¼:",-1)),_t(" "+T(r.value),1)]),f("div",g6,[y[2]||(y[2]=f("strong",null,"æ¡¥æ¥çŠ¶æ€:",-1)),_t(" "+T(t.value?"âœ… å·²è¿æ¥":"â³ è¿æ¥ä¸­"),1)]),f("div",v6,[y[3]||(y[3]=f("strong",null,"ä¸»é¢˜æ¨¡å¼:",-1)),_t(" "+T(n.value?"ğŸŒ™ æš—è‰²":"â˜€ï¸ äº®è‰²"),1)]),f("div",m6,[y[4]||(y[4]=f("strong",null,"HTML Class:",-1)),_t(" "+T(o.value),1)]),f("div",b6,[y[5]||(y[5]=f("strong",null,"ä¸»é¢˜æœåŠ¡:",-1)),_t(" "+T(a.value),1)]),f("div",y6,[y[6]||(y[6]=f("strong",null,"Session:",-1)),_t(" "+T(l.value||"é»˜è®¤"),1)]),f("div",x6,[y[7]||(y[7]=f("strong",null,"é¡¹ç›®è·¯å¾„:",-1)),_t(" "+T(c.value||"æœªè®¾ç½®"),1)]),f("button",{class:"debug-button",onClick:h}," æµ‹è¯•æ¡¥æ¥ "),f("button",{class:"debug-button",onClick:p}," æµ‹è¯•ä¸»é¢˜ "),f("button",{class:"debug-button",onClick:g}," åˆ‡æ¢ä¸»é¢˜ ")],512),[[Qs,s.value]])])):M("",!0)],2))}}),ha=ve(E6,[["__scopeId","data-v-cc41f11e"]]);console.log("ğŸš€ Initializing Vue application...");const Eu=()=>{const e=window.innerHeight;e>0&&(document.documentElement.style.setProperty("--app-viewport-height",`${e}px`),console.log(`ğŸ“ Viewport height updated: ${e}px`))};Eu();window.addEventListener("resize",Eu);window.addEventListener("orientationchange",Eu);const S6=()=>{[50,100,200,500,1e3].forEach(t=>{setTimeout(()=>{Eu(),window.dispatchEvent(new Event("resize"))},t)})};S6();typeof ResizeObserver<"u"&&new ResizeObserver(()=>{Eu()}).observe(document.body);window.__serverUrl||(window.__serverUrl=Aa(),console.log("ğŸ”§ Bootstrap: Backend URL resolved to",window.__serverUrl));Xn.init().then(()=>{Yt.init(),console.log("âœ… JCEF Bridge and Tool Enhancement initialized")}).catch(e=>{console.error("âŒ Failed to initialize JCEF Bridge:",e)});async function C6(){await An.init();const t=An.getElementPlusLocale()==="zh-cn"?Ia:ur,n=qs(ha),u=er();n.use(u),n.use(nr,{locale:t,size:"default",zIndex:3e3}),n.mount("#app"),console.log("âœ… Vue application mounted with locale:",An.getLocale())}C6().catch(e=>{console.error("âŒ Failed to initialize app:",e);const t=qs(ha),n=er();t.use(n),t.use(nr,{locale:ur,size:"default",zIndex:3e3}),t.mount("#app")});
